
COMMON  COMMON DEFINITIONS      MACRO V03.01 18-OCT-86 01:52:14
TABLE OF CONTENTS

    1-   7
    1-   8      COMMON  COMMON DEFINITIONS
    1-   9
    1-  10      EDIT:           DATE:           BY:
    1-  11       07           22-SEP-79         MHB/ABC/SJK/SHG/MJG
    1-  12
    1-  13
    1-  14              COPYRIGHT (C) 1974, 1975, 1976, 1977, 1978, 1979 BY
    1-  15              DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
    1-  16
    1-  17      THIS SOFTWARE IS FURNISHED UNDER A LICENSE AND MAY BE USED AND
COPIED
    1-  18      ONLY  IN  ACCORDANCE  WITH  THE  TERMS  OF  SUCH  LICENSE AND WI
TH THE
    1-  19      INCLUSION OF THE ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE OR  ANY
 OTHER
    1-  20      COPIES  THEREOF MAY NOT BE PROVIDED OR OTHERWISE MADE AVAILABLE
TO ANY
    1-  21      OTHER PERSON.  NO TITLE TO AND OWNERSHIP OF  THE  SOFTWARE  IS
HEREBY
    1-  22      TRANSFERRED.
    1-  23
    1-  24      THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE  WITHOUT
NOTICE
    1-  25      AND  SHOULD  NOT  BE  CONSTRUED  AS  A COMMITMENT BY DIGITAL EQU
IPMENT
    1-  26      CORPORATION.
    1-  27
    1-  28      DIGITAL ASSUMES NO RESPONSIBILITY FOR THE USE  OR  RELIABILITY
OF ITS
    1-  29      SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DIGITAL.
    1-  30
   12-   3
   12-   3      KERNEL  KERNEL MODE DEFINITIONS
   12-   3
   12-   3      EDIT:           DATE:           BY:
   12-   3       07           22-SEP-79         MHB/ABC/MJG/SJK
   12-   3
   38-   1
   38-   1      CONFIG  CONFIGURATION PARAMETERS
   38-   1
   38-   1      EDIT:           DATE:           BY:
   38-   1       07           18-OCT-86         RSTS
   38-   1
   40-   3
   40-   3      CHECK   CHECK CONFIGURATION PARAMETERS
   40-   3
   40-   3      EDIT:           DATE:           BY:
   40-   3       07           22-SEP-79         MHB/SJK
   40-   3
   44-   1
   44-   1      TBL     SYSTEM TABLES
   44-   1
   44-   1      EDIT:           DATE:           BY:
   44-   1       07           22-SEP-79         MHB/ABC/MJG
   44-   1
   45-   5      CALL ALL REQUIRED MODULES FROM THE LIBRARY
   45-   7      INCLUDE FROM LIBRARY "MED"
   45-   7      INCLUDE FROM LIBRARY "UPE"
   45-   7      INCLUDE FROM LIBRARY "FPP"
   45-   7      INCLUDE FROM LIBRARY "RTI"
   45-   7      INCLUDE FROM LIBRARY "RES"
   45-   7      INCLUDE FROM LIBRARY "ERL"
   45-   7      INCLUDE FROM LIBRARY "SUB"
   45-   7      INCLUDE FROM LIBRARY "CMNDVR"
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14
TABLE OF CONTENTS

   45-   9      CALL ALL NEEDED DISK DRIVERS FROM THE LIBRARY (SORT OF...)
   45-  22      CALL ALL NEEDED DRIVERS FROM THE LIBRARY
   45-  31      INCLUDE FROM LIBRARY "SYDVR"
   45-  31      INCLUDE FROM LIBRARY "KBDVR"
   45-  31      INCLUDE FROM LIBRARY "NLDVR"
   45-  31      INCLUDE FROM LIBRARY "PKDVR"
   45-  31      INCLUDE FROM LIBRARY "LPDVR"
   45-  31      INCLUDE FROM LIBRARY "PRDVR"
   45-  31      INCLUDE FROM LIBRARY "PPDVR"
   45-  31      INCLUDE FROM LIBRARY "MMDVR"
   45-  31      INCLUDE FROM LIBRARY "DXDVR"
   45-  34      INCLUDE FROM LIBRARY "JQSTAT"
   45-  38      INCLUDE FROM LIBRARY "DSTAT"
   45-  41      GLOBALIZE 2780 CONFIGURATION INFORMATION
   46-   1      DEFINE DRIVER INDEXES FOR DEVICES
   47-   1      DEFINE JSBITS FOR DEVICES
   48-   1      DECLARE AND ORDER THE .CSECTS
   48-   5      DEFINE IN LIBRARY "LOWCOR"
   48-   9      DEFINE IN LIBRARY "BUFPOL"
   48-  19      DEFINE IN LIBRARY "MORBUF"
   48-  42      DEFINE IN LIBRARY "BGBUFR"
   48-  45      DEFINE IN LIBRARY "RAWMEM"
   48-  54      DEFINE IN LIBRARY "KBDDDB"
   48-  54      DEFINE IN LIBRARY "NLDDDB"
   48-  54      DEFINE IN LIBRARY "PKDDDB"
   48-  54      DEFINE IN LIBRARY "LPDDDB"
   48-  54      DEFINE IN LIBRARY "PRDDDB"
   48-  54      DEFINE IN LIBRARY "PPDDDB"
   48-  54      DEFINE IN LIBRARY "MMDDDB"
   48-  54      DEFINE IN LIBRARY "DXDDDB"
   48-  70      DEFINE IN LIBRARY "DLDCTL"
   48-  70      DEFINE IN LIBRARY "DRDCTL"
   48-  70      DEFINE IN LIBRARY "DBDCTL"
   48-  91      DEFINE IN LIBRARY "JSTCTL"
   48-  93      DEFINE IN LIBRARY "DSTCTL"
   48-  95      DEFINE IN LIBRARY "QSTCTL"
   48-  97      DEFINE IN LIBRARY "BOOT"
   48- 103      DEFINE IN LIBRARY "PATCH"
   48- 109      DEFINE IN LIBRARY "TBL"
   48- 112      DEFINE IN LIBRARY "PATCHS"
   48- 218      DEFINE IN LIBRARY "STSTBL"
   48- 288      DEFINE IN LIBRARY "DLDINT"
   48- 288      DEFINE IN LIBRARY "DRDINT"
   48- 288      DEFINE IN LIBRARY "DBDINT"
   49-   1      FILL IN LOWCOR
   52-   1      INITIAL MEMORY CONTROL LIST
   53-   1      INITIAL MESSAGE RECEIVER LIST
   53-  22      NULL RUN-TIME SYSTEM DESCRIPTION BLOCK
   54-   1      FILE PROCESSOR (FIP) INFORMATION
   55-   1      STACK REGIONS
   56-   1      THE MONITOR BUFFER POOL
   57-   1      ONE-SHOT CODE/DATA "HIDDEN" IN LOWCOR
   58-   1      THE NULL JOB
   58-   3      DEFINE IN LIBRARY "NULJOB"
   58-  11      CRASH DUMP/RELOADS
   59-   1      CHECK FOR NETWORK MESSAGE SEND/RECEIVE
   59-  23      DEFINE IN LIBRARY "NSPCHK"
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14
TABLE OF CONTENTS

   59-  28      NSP TIMEOUTS
   59-  36      DEFINE IN LIBRARY "NSPTMO"
   59-  40      2780 (RJE) TIMEOUTS
   59-  48      DEFINE IN LIBRARY "RJETMO"
   60-   1      DEFINE ERROR LOGGING FOR DEVICES
   61-   1      DEFINE LEVEL 3 QUEUE BITS FOR DEVICES
   62-   1      DEVICE NAME TABLE (DEVNAM)
   63-   1      DEVICE MAXIMAL UNIT TABLE (DEVCNT)
   64-   1      POINTER TO DDB POINTER TABLE (DEVPTR)
   65-   1      TABLE OF DDB POINTERS (DEVTBL)
   66-   1      JOB TABLES
   66-  23      RUN-TIME SYSTEM & RESIDENT LIBRARY LISTS
   66-  30      MESSAGE RECEIVER LIST & NSP CONTROL POINTER
   67-   1      MORE TABLES
   68-   1      DISK POINTER TABLE AND UMR FREED UP DISPATCH TABLE
   69-   1      TIMEOUT TABLES
   70-   1      DEVICE CSR TABLE
   71-   1      LOGICAL NAME TABLE
   72-   1      DEVICE DDB'S
   73-   1      DEVICE DRIVER DISPATCH TABLES
   74-   1      DEVICE DRIVER DATA TABLES
   75-   1      DISK DRIVER TABLES AND QUEUES
   76-   1      DISK LOGICAL STATUS TABLES
   77-   1      S.A.T. RELATED TABLES
   78-   1      SET FINAL .TITLE/.IDENT
 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE 1


      1                                 .IIF    NDF     L$$IST, .NLIST
      2                                 .IIF    NDF     L$$IST, .DSABL  CRF
      3                                 .NLIST  TTM
      4                                 .LIST   TOC,MEB,BEX
      5                                 .DSABL  REG,GBL
      6                                 .TITLE  COMMON  COMMON DEFINITIONS
      7                                 .SBTTL
      8                                 .SBTTL  COMMON  COMMON DEFINITIONS
      9                                 .SBTTL
     10                                 .SBTTL  EDIT:           DATE:
BY:
     11                                 .SBTTL   07           22-SEP-79
MHB/ABC/SJK/SHG/MJG
     12                                 .SBTTL
     13                                 .SBTTL
     14                                 .SBTTL          COPYRIGHT (C) 1974, 1975
, 1976, 1977, 1978, 1979 BY
     15                                 .SBTTL          DIGITAL EQUIPMENT CORPOR
ATION, MAYNARD, MASS.
     16                                 .SBTTL
     17                                 .SBTTL  THIS SOFTWARE IS FURNISHED UNDER
 A LICENSE AND MAY BE USED AND  COPIED
     18                                 .SBTTL  ONLY  IN  ACCORDANCE  WITH  THE
 TERMS  OF  SUCH  LICENSE AND WITH THE
     19                                 .SBTTL  INCLUSION OF THE ABOVE COPYRIGHT
 NOTICE.  THIS SOFTWARE OR  ANY  OTHER
     20                                 .SBTTL  COPIES  THEREOF MAY NOT BE PROVI
DED OR OTHERWISE MADE AVAILABLE TO ANY
     21                                 .SBTTL  OTHER PERSON.  NO TITLE TO AND O
WNERSHIP OF  THE  SOFTWARE  IS  HEREBY
     22                                 .SBTTL  TRANSFERRED.
     23                                 .SBTTL
     24                                 .SBTTL  THE INFORMATION IN THIS SOFTWARE
 IS SUBJECT TO CHANGE  WITHOUT  NOTICE
     25                                 .SBTTL  AND  SHOULD  NOT  BE  CONSTRUED
 AS  A COMMITMENT BY DIGITAL EQUIPMENT
     26                                 .SBTTL  CORPORATION.
     27                                 .SBTTL
     28                                 .SBTTL  DIGITAL ASSUMES NO RESPONSIBILIT
Y FOR THE USE  OR  RELIABILITY  OF ITS
     29                                 .SBTTL  SOFTWARE ON EQUIPMENT WHICH IS N
OT SUPPLIED BY DIGITAL.
     30                                 .SBTTL
 COMMON  COMMON DEFINITIONS      MACRO V03.01 18-OCT-86 01:52:14 PAGE 2


      1                                 ; GENERAL MACROS
      2
      3                                 .MACRO  UNORG
      4                                 .ENDM   UNORG
      5
      6                                 .MACRO  ORG     SECT,OFFSET
      7                                 .MACRO  UNORG
      8                                 .LIST   BEX
      9                                 .CSECT  SECT
     10                                 .ENDM   UNORG
     11                                         TMPORG  SECT,<OFFSET>
     12                                 .ENDM   ORG
     13
     14                                 .MACRO  DEFORG  SECT
     15                                         ORG     SECT
     16                                 .DSABL  CRF
     17                                 .IIF    NE      .-SECT, .ERROR  ;DEFORG
NOT AT BEGINNING OF SECT
     18                                 .GLOBL  SECT
     19                                 .ENABL  CRF
     20                                 .SBTTL  DEFINE IN LIBRARY "SECT"
     21                                 .ENDM   DEFORG
     22
     23                                 .MACRO  TMPORG  SECT,OFFSET
     24                                 .LIST   BEX
     25                                 .CSECT  SECT
     26                                 .DSABL  CRF
     27                                 .IF     NDF     SECT
     28                                 .ENABL  CRF
     29                                 SECT:
     30                                 .DSABL  CRF
     31                                 .ENDC
     32                                 .ENABL  CRF
     33                                 .IF     NB      <OFFSET>
     34                                 .       =       OFFSET+SECT
     35                                 .ENDC
     36                                 .ENDM   TMPORG
     37
     38                                 .MACRO  INCLUDE LIST
     39                                 .IRP    SECT,<LIST>
     40                                 .GLOBL  SECT
     41                                 .SBTTL  INCLUDE FROM LIBRARY "SECT"
     42                                 .ENDM
     43                                 .ENDM   INCLUDE
     44
     45                                 .MACRO  .DSECT  START,CREF
     46                                 .IIF    B       <CREF>, .DSABL  CRF
     47                                 .IIF    DF      L$$IST, .DSABL  CRF
     48                                 .ASECT
     49                                 .       =       0
     50                                 .IIF    DF      L$$IST, .ENABL  CRF
     51                                 .IIF    B       <CREF>, .ENABL  CRF
     52                                 .IF     NB      <START>
     53                                 .       =       START
     54                                 .ENDC
     55                                 .ENDM   .DSECT
     56
     57                                 .MACRO  .BSECT  START,CREF
 COMMON  COMMON DEFINITIONS      MACRO V03.01 18-OCT-86 01:52:14 PAGE 2-1


     58                                 .IIF    B       <CREF>, .DSABL  CRF
     59                                 .IIF    DF      L$$IST, .DSABL  CRF
     60                                 .ASECT
     61                                 .       =       1
     62                                 .IF     IDN     <START>,<HIGH>
     63                                 .       =       400
     64                                 .ENDC
     65                                 .IIF    DF      L$$IST, .ENABL  CRF
     66                                 .IIF    B       <CREF>, .ENABL  CRF
     67                                 .ENDM   .BSECT
     68
     69                                 .MACRO  .EQUATE SYMBOL,VALUE,CREF
     70                                 .IIF    B       <CREF>, .DSABL  CRF
     71                                 .IIF    DF      L$$IST, .DSABL  CRF
     72                                 .ASECT
     73                                 .IIF    DF      L$$IST, .ENABL  CRF
     74                                 .IIF    B       <CREF>, .ENABL  CRF
     75                                 .       =       VALUE
     76                                 .LIST
     77                                 SYMBOL:
     78                                 .NLIST
     79                                 .IIF    B       <CREF>, .DSABL  CRF
     80                                 .IIF    DF      L$$IST, .DSABL  CRF
     81                                         UNORG
     82                                 .IIF    DF      L$$IST, .ENABL  CRF
     83                                 .IIF    B       <CREF>, .ENABL  CRF
     84                                 .ENDM   .EQUATE
     85
     86                                 .MACRO  SWAPR   REG1,REG2
     87                                 .NTYPE  $$$$$1,REG1
     88                                 .NTYPE  $$$$$2,REG2
     89                                 .IIF NE <$$$$$1!$$$$$2>&70, .ERROR
; ARGUMENTS TO SWAPR MUST BE REGISTERS
     90                                          XOR    REG1,REG2
     91                                          XOR    REG2,REG1
     92                                          XOR    REG1,REG2
     93                                 .ENDM   SWAPR
     94
     95                                 .MACRO  .BLKW0  AMT=1,VALUE=0
     96                                 .NLIST
     97                                 .REPT   AMT
     98                                         .WORD   VALUE
     99                                 .ENDR
    100                                 .LIST
    101                                 .ENDM   .BLKW0
    102
    103                                 .MACRO  .BLKB0  AMT=1,VALUE=0
    104                                 .NLIST
    105                                 .REPT   AMT
    106                                         .BYTE   VALUE
    107                                 .ENDR
    108                                 .LIST
    109                                 .ENDM   .BLKB0
    110
    111                                 .MACRO  GLOBAL  LIST
    112                                 .GLOBL  LIST
    113                                 .ENDM   GLOBAL
    114
 COMMON  COMMON DEFINITIONS      MACRO V03.01 18-OCT-86 01:52:14 PAGE 2-2


    115                                 .MACRO  RETURN  REG=PC
    116                                          RTS    REG
    117                                 .ENDM   RETURN
    118
    119                                 .MACRO  JMPX    LABEL
    120                                          JMP    @#LABEL
    121                                 .DSABL  CRF
    122                                 .GLOBL  LABEL
    123                                 .ENABL  CRF
    124                                 .ENDM   JMPX
    125
    126                                 .MACRO  CALL    SUBR,REG=PC,LIST
    127                                          JSR    REG,SUBR
    128                                 .IF     NB      <LIST>
    129                                           .WORD LIST
    130                                 .ENDC
    131                                 .ENDM   CALL
    132
    133                                 .MACRO  CALLR   SUBR
    134                                          JMP    SUBR
    135                                 .ENDM   CALLR
    136
    137                                 .MACRO  CALLX   SUBR,REG=PC,LIST
    138                                         CALL    @#SUBR,REG,<LIST>
    139                                 .DSABL  CRF
    140                                 .GLOBL  SUBR
    141                                 .ENABL  CRF
    142                                 .ENDM   CALLX
    143
    144                                 .MACRO  CALLRX  SUBR
    145                                         CALLR   @#SUBR
    146                                 .DSABL  CRF
    147                                 .GLOBL  SUBR
    148                                 .ENABL  CRF
    149                                 .ENDM   CALLRX
    150
    151                                 .MACRO  .ASSUME ARG1,COND,ARG2
    152                                 .IF     COND    <ARG1>-<ARG2>
    153                                 .IFF
    154                                 .ERROR  ARG1 ;"COND ARG2" FAILS
    155                                 .ENDC
    156                                 .ENDM   .ASSUME
    157
    158                                 .MACRO  .BR     ARG
    159                                 .IF     NE      .-<ARG>
    160                                 .ERROR  ;ROUTINE "ARG" MISPLACED
    161                                 .ENDC
    162                                 .ENDM   .BR
    163
    164                                 .MACRO  .CALLR  ARG
    165                                 .IF     NE      .-<ARG>
    166                                 .ERROR  ;SUBROUTINE "ARG" MISPLACED
    167                                 .ENDC
    168                                 .ENDM   .CALLR
    169
    170                                 .MACRO  PUSH    LIST
    171                                 .IF B   <LIST>
 COMMON  COMMON DEFINITIONS      MACRO V03.01 18-OCT-86 01:52:14 PAGE 2-3


    172                                          CLR    -(SP)
    173                                 .IFF
    174                                 .IRP    LOC,<LIST>
    175                                          MOV    LOC,-(SP)
    176                                 .ENDM   ;.IRP
    177                                 .ENDC   ;.IF B <LIST>
    178                                 .ENDM   PUSH
    179
    180                                 .MACRO  POP     LIST
    181                                 .IF B   <LIST>
    182                                          TST    (SP)+
    183                                 .IFF
    184                                 .IRP    LOC,<LIST>
    185                                          MOV     (SP)+,LOC
    186                                 .ENDM   ;.IRP
    187                                 .ENDC   ;.IF B <LIST>
    188                                 .ENDM   POP
    189
    190                                 .MACRO  MOVPIC  LBL,LOC
    191                                 .NTYPE  $$$$$1,LBL
    192                                 .NTYPE  $$$$$2,LOC
    193                                 .IF NE  $$$$$1-27
    194                                         .ERROR  ; LBL IS NOT A LITERAL R
EFERENCE
    195                                 .IFF
    196                                 .IF EQ  $$$$$2-46
    197                                          MOV    PC,LOC
    198                                          ADD    LBL-.,(SP)
    199                                 .IFF
    200                                 .IIF NE $$$$$2&70,      .ERROR  ; LOC IS
 NOT A REGISTER OR -(SP) REFERENCE
    201                                          MOV    PC,LOC
    202                                          ADD    LBL-.,LOC
    203                                 .ENDC   ;$$$$$2-46
    204                                 .ENDC   ;$$$$$1-27
    205                                 .ENDM   MOVPIC
 COMMON  COMMON DEFINITIONS      MACRO V03.01 18-OCT-86 01:52:14 PAGE 3


      1                                 ; SYSTEM LEVEL DEFINITIONS
      2
      3 000000                          .EQUATE SYSVEL,"07,NOCREF ;MAJOR LEVEL
        033460                          SYSVEL:
      4 033460                          .EQUATE SYSVEE,".0,NOCREF ;MINOR LEVEL
        030056                          SYSVEE:
      5
      6                                 .MACRO  TITLE   NAME,DESC,NU,LEDITDATE,E
DITORS
      7                                 .LIST
      8                                 .TITLE  NAME    DESC
      9                                 .IDENT  "07.0'NU"
     10                                 .SBTTL
     11                                 .SBTTL  NAME    DESC
     12                                 .SBTTL
     13                                 .SBTTL  EDIT:           DATE:
BY:
     14                                 .SBTTL   NU           LEDITDATE
EDITORS
     15                                 .SBTTL
     16                                 .NLIST
     17                                 $$$VER  =       <NU'.-<NU'./10.*10.>>*40
0+<NU'./10.>+"00
     18                                 .ENDM   TITLE
     19
     20                                 ; GENERAL REGISTERS DEFINED
     21
     22         000000                  R0      =       %0      ;GENERAL REGISTE
R 0
     23         000001                  R1      =       %1      ;GENERAL REGISTE
R 1
     24         000002                  R2      =       %2      ;GENERAL REGISTE
R 2
     25         000003                  R3      =       %3      ;GENERAL REGISTE
R 3
     26         000004                  R4      =       %4      ;GENERAL REGISTE
R 4
     27         000005                  R5      =       %5      ;GENERAL REGISTE
R 5
     28         000006                  SP      =       %6      ;STACK POINTER
     29         000007                  PC      =       %7      ;PROGRAM COUNTER
 COMMON  COMMON DEFINITIONS      MACRO V03.01 18-OCT-86 01:52:14 PAGE 4


      1                                 ; TRANSFER CONTROL BLOCK (XRB)
      2
      3                                 ; USED BY USER TO INITIATE AN I/O REQUES
T
      4                                 ;       AND FOR MONITOR/USER DATA REQUES
TS.
      5
      6 030056                          .DSECT  ,NOCREF
      7
      8 000000                          XRLEN:  .BLKW           ;LENGTH OF I/O B
UFFER IN BYTES
      9 000002                          XRBC:   .BLKW           ;BYTE COUNT FOR
TRANSFER
     10 000004                          XRLOC:  .BLKW           ;POINTER TO I/O
BUFFER
     11 000006                          XRCI:   .BLKB           ;CHANNEL NUMBER
TIMES 2 FOR TRANSFER
     12 000007                          XRBLKM: .BLKB           ;RANDOM ACCESS B
LOCK NUMBER (MSB)
     13 000010                          XRBLK:  .BLKW           ;RANDOM ACCESS B
LOCK NUMBER (LSB)
     14 000012                          XRTIME: .BLKW           ;WAIT TIME FOR T
ERMINAL INPUT
     15 000014                          XRMOD:  .BLKW           ;MODIFIERS
     16 000016                          XRBSIZ:                 ;SIZE OF THE XRB
 IN BYTES
 COMMON  COMMON DEFINITIONS      MACRO V03.01 18-OCT-86 01:52:14 PAGE 5


      1                                 ; FILE REQUEST QUEUE BLOCK (FIRQB)  (PRO
NOUNCED 'FURK-BE')
      2
      3                                 ; ALL REQUESTS FOR FILE PROCESSING ARE M
ADE BY SETTING THE NECESSARY PARAMETERS
      4                                 ;       IN THE FIRQB, AND CALLING THE MO
NITOR WITH "CALFIP".
      5
      6 000016                          .DSECT  ,NOCREF
      7
      8                                         .BLKB           ;RESERVED FOR RE
TURNED ERROR CODE
      9                                         .BLKB           ;RESERVED BYTE
     10 000002                          FQJOB:  .BLKB           ;HOLDS YOUR JOB
NUMBER TIMES 2
     11 000003                          FQFUN:  .BLKB           ;FUNCTION REQUES
TED
     12 000004                          FQERNO:                 ;ERROR MESSAGE C
ODE AND TEXT BEGIN
     13 000004                          FQFIL:  .BLKB           ;CHANNEL NUMBER
TIMES 2
     14 000005                          FQSIZM: .BLKB           ;FILE SIZE IN BL
OCKS (MSB)
     15 000006                          FQPPN:  .BLKW           ;PROJECT-PROGRAM
MER NUMBER
     16 000010                          FQNAM1: .BLKW   2       ;2 WORD FILENAME
 IN RADIX 50
     17 000014                          FQEXT:  .BLKW           ;.EXT IN RADIX 5
0
     18 000016                          FQSIZ:  .BLKW           ;FILE SIZE IN BL
OCKS (LSB)
     19 000020                          FQNAM2:                 ;3 WORD NEW FILE
NAME.EXT IN RADIX 50
     20 000020                          FQBUFL: .BLKW           ;DEFAULT BUFFER
LENGTH
     21 000022                          FQMODE: .BLKW           ;MODE INDICATOR
     22 000024                          FQFLAG: .BLKW           ;OPENED FILE'S F
LAG WORD AS RETURNED
     23 000026                          FQPFLG: .BLKB           ;"PROTECTION COD
E REAL" INDICATOR
     24 000027                          FQPROT: .BLKB           ;NEW PROTECTION
CODE
     25 000030                          FQDEV:  .BLKW           ;2 BYTE ASCII DE
VICE NAME
     26 000032                          FQDEVN: .BLKB           ;1 BYTE UNIT NUM
BER
     27                                         .BLKB           ;"UNIT NUMBER RE
AL" INDICATOR
     28 000034                          FQCLUS: .BLKW           ;FILE CLUSTER SI
ZE FOR FILE CREATES
     29 000036                          FQNENT: .BLKW           ;NUMBER OF ENTRI
ES ON DIRECTORY LOOKUP
     30 000040                          FQBSIZ:                 ;SIZE OF THE FIR
QB IN BYTES
 COMMON  COMMON DEFINITIONS      MACRO V03.01 18-OCT-86 01:52:14 PAGE 6


      1                                 ; MONITOR CALLS (EMT'S)
      2
      3 000040                          .DSECT  +EMT,NOCREF
      4
      5 104000                          CALFIP: .BLKW           ;CALL FIP, WITH
FIRQB LOADED
      6 104002                          .READ:  .BLKW           ;READ
      7 104004                          .WRITE: .BLKW           ;WRITE
      8 104006                          .CORE:  .BLKW           ;CHANGE USER MEM
ORY SIZE
      9 104010                          .SLEEP: .BLKW           ;SLEEP JOB FOR N
 SECONDS
     10 104012                          .PEEK:  .BLKW           ;PEEK AT MEMORY
     11 104014                          .SPEC:  .BLKW           ;SPECIAL FUNCTIO
N
     12 104016                          .TTAPE: .BLKW           ;ENTER TAPE MODE
     13 104020                          .TTECH: .BLKW           ;ENABLE ECHO
     14 104022                          .TTNCH: .BLKW           ;DISABLE ECHO
     15 104024                          .TTDDT: .BLKW           ;DDT SUBMODE
     16 104026                          .TTRST: .BLKW           ;CANCEL ^O EFFEC
T
     17 104030                          .TIME:  .BLKW           ;GET TIMING INFO
RMATION
     18 104032                          .POSTN: .BLKW           ;GET DEVICE'S HO
RIZONTAL POSITION
     19 104034                          .DATE:  .BLKW           ;GET CURRENT DAT
E & TIME
     20 104036                          .SET:   .BLKW           ;SET KEYWORD BIT
(S)
     21 104040                          .STAT:  .BLKW           ;GET MY STATISTI
CS
     22 104042                          .RUN:   .BLKW           ;RUN A NEW PROGR
AM
     23 104044                          .NAME:  .BLKW           ;INSTALL A NEW P
ROGRAM NAME
     24 104046                          .EXIT:  .BLKW           ;EXIT TO DEFAULT
 RUN-TIME SYSTEM
     25 104050                          .RTS:   .BLKW           ;CHANGE TO A NEW
 RUN-TIME SYSTEM
     26 104052                          .ERLOG: .BLKW           ;LOG AN ERROR FR
OM THE RUN-TIME SYSTEM
     27 104054                          .LOGS:  .BLKW           ;CHECK FOR LOGIC
AL DEVICES
     28 104056                          .CLEAR: .BLKW           ;CLEAR KEYWORD B
IT(S)
     29 104060                          .MESAG: .BLKW           ;MESSAGE SEND/RE
CEIVE
     30 104062                          .CCL:   .BLKW           ;CCL CHECKER
     31 104064                          .FSS:   .BLKW           ;FILE STRING SCA
NNER
     32 104066                          .UUO:   .BLKW           ;UUO HOOK
     33 104070                          .CHAIN: .BLKW           ;CHAIN TO A NEW
PROGRAM
     34 104072                          .PLAS:  .BLKW           ;RESIDENT LIBRAR
Y CONTROL
     35 104074                          .RSX:   .BLKW           ;ENTER RSX EMULA
TION
     36 104076                          .ULOG:  .BLKW           ;ASSIGN/REASSIGN
/DEASSIGN DEVICE/USER LOGICAL
 COMMON  COMMON DEFINITIONS      MACRO V03.01 18-OCT-86 01:52:14 PAGE 7


      1                                 ; FIP (FIRQB @ FQFUN) FUNCTION CODES
      2
      3 104100                          .DSECT  ,NOCREF
      4
      5 000000                          CLSFQ:  .BLKW           ;CLOSE AN OPEN C
HANNEL
      6 000002                          OPNFQ:  .BLKW           ;OPEN A CHANNEL
      7 000004                          CREFQ:  .BLKW           ;CREATE/EXTEND/O
PEN A CHANNEL
      8 000006                          DLNFQ:  .BLKW           ;DELETE A FILE B
Y NAME
      9 000010                          RENFQ:  .BLKW           ;RENAME A FILE
     10 000012                          DIRFQ:  .BLKW           ;DIRECTORY INFOR
MATION
     11 000014                          UUOFQ:  .BLKW           ;PROCESS UUO
     12 000016                          ERRFQ:  .BLKW           ;GET ERROR MESSA
GE TEXT
     13 000020                          RSTFQ:  .BLKW           ;RESET (CLOSE) [
ALL] CHANNEL[S EXCEPT 0]
     14 000022                          LOKFQ:  .BLKW           ;LOOKUP A FILE
     15 000024                          ASSFQ:  .BLKW           ;ASSIGN A DEVICE
     16 000026                          DEAFQ:  .BLKW           ;DEASSIGN A DEVI
CE
     17 000030                          DALFQ:  .BLKW           ;DEASSIGN ALL DE
VICES
     18 000032                          CRTFQ:  .BLKW           ;CREATE/EXTEND/O
PEN A UNIQUE .TMP FILE ON DISK
     19 000034                          CRBFQ:  .BLKW           ;CREATE/EXTEND/O
PEN A COMPILED IMAGE FILE ON DISK
     20
     21                                 ; .PLAS (FIRQB @ FQERNO) FUNCTION CODES
     22
     23 000036                          .DSECT  ,NOCREF
     24
     25 000000                          ATRFQ:  .BLKW           ;ATTACH REGION (
RESIDENT LIBRARY)
     26 000002                          DTRFQ:  .BLKW           ;DETACH REGION (
RESIDENT LIBRARY)
     27 000004                          CRAFQ:  .BLKW           ;CREATE ADDRESS
WINDOW
     28 000006                          ELAFQ:  .BLKW           ;ELIMINATE ADDRE
SS WINDOW
     29 000010                          MAPFQ:  .BLKW           ;MAP ADDRESS WIN
DOW
     30 000012                          UMPFQ:  .BLKW           ;UNMAP ADDRESS W
INDOW
 COMMON  COMMON DEFINITIONS      MACRO V03.01 18-OCT-86 01:52:14 PAGE 8


      1                                 ; .UUO/UUOFQ SUBFUNCTION CODES
      2
      3 000014                          .DSECT  -28.,NOCREF
      4
      5 177744                          UU.SPL: .BLKB           ;-28., ONE-SHOT
SPOOLING REQUEST
      6 177745                          UU.DMP: .BLKB           ;-27., ONLINE MO
NITOR SNAPSHOT
      7 177746                          UU.FIL: .BLKB           ;-26., FILE UTIL
ITY
      8 177747                          UU.ATR: .BLKB           ;-25., READ/WRIT
E FILE ATTRIBUTES
      9 177750                          UU.CCL: .BLKB           ;-24., CCL COMMA
ND ADD/DELETE
     10                                         .BLKB           ;-23., RESERVED
(BASIC-PLUS TERMINATING FILE STRING SCAN)
     11                                         .BLKB           ;-22., RESERVED
(BASIC-PLUS SPECIAL RUN PRIORITY)
     12                                         .BLKB           ;-21., RESERVED
(BASIC-PLUS PRIVILEGE DROP/RESTORE)
     13                                         .BLKB           ;-20., RESERVED
(BASIC-PLUS MEMORY LOCK/UNLOCK)
     14 177755                          UU.LOG: .BLKB           ;-19., SET NUMBE
R OF ALLOWED LOGINS
     15 177756                          UU.RTS: .BLKB           ;-18., RUN-TIME
SYSTEM & RESIDENT LIBRARY CONTROL
     16 177757                          UU.NAM: .BLKB           ;-17., SET FILE'
S RUN-TIME SYSTEM NAME
     17 177760                          UU.DIE: .BLKB           ;-16., SPECIAL S
HUTUP LOGOUT
     18 177761                          UU.ACT: .BLKB           ;-15., ACCOUNTIN
G INFORMATION DUMP
     19 177762                          UU.DAT: .BLKB           ;-14., DATE/TIME
 CHANGER
     20 177763                          UU.PRI: .BLKB           ;-13., PRIORITY,
 RUN BURST, MAXIMUM CHANGER
     21 177764                          UU.TB2: .BLKB           ;-12., 2ND PART
OF MONITOR TABLES
     22 177765                          UU.BCK: .BLKB           ;-11., BACKUP FI
LE ACCOUNTING CHANGER
     23                                         .BLKB           ;-10., RESERVED
(BASIC-PLUS FILE STRING SCAN)
     24 177767                          UU.HNG: .BLKB           ; -9., HANGUP/EN
ABLE A DATASET
     25 177770                          UU.FCB: .BLKB           ; -8., GET FCB/D
DB INFORMATION
     26                                         .BLKB           ; -7., RESERVED
(BASIC-PLUS CONTROL/C TRAP ENABLE)
     27 177772                          UU.POK: .BLKB           ; -6., POKE MONI
TOR MEMORY
     28                                         .BLKB           ; -5., RESERVED
(BASIC-PLUS SEND TO TERMINAL)
     29                                         .BLKB           ; -4., RESERVED
(BASIC-PLUS FORCE TO TERMINAL)
     30 177775                          UU.TB1: .BLKB           ; -3., 1ST PART
OF MONITOR TABLES
     31 177776                          UU.NLG: .BLKB           ; -2., SET NUMBE
R OF ALLOWED LOGINS TO 1
     32 177777                          UU.YLG: .BLKB           ; -1., SET NUMBE
R OF ALLOWED LOGINS TO MAXIMUM
     33 000000                          UU.PAS: .BLKB           ; +0., CREATE AN
 ACCOUNT
     34 000001                          UU.DLU: .BLKB           ; +1., DELETE AN
 ACCOUNT
     35 000002                          UU.CLN: .BLKB           ; +2., CLEAN A D
ISK PACK
     36 000003                          UU.MNT: .BLKB           ; +3., DISK PACK
 MOUNT/DISMOUNT
     37 000004                          UU.LIN: .BLKB           ; +4., LOGIN
     38 000005                          UU.BYE: .BLKB           ; +5., LOGOUT
     39 000006                          UU.ATT: .BLKB           ; +6., ATTACH
     40 000007                          UU.DET: .BLKB           ; +7., DETACH
     41 000010                          UU.CHU: .BLKB           ; +8., CHANGE PA
SSWORD/QUOTA
     42 000011                          UU.ERR: .BLKB           ; +9., GET ERROR
 MESSAGE TEXT
     43 000012                          UU.ASS: .BLKB           ;+10., ASSIGN
     44 000013                          UU.DEA: .BLKB           ;+11., DEASSIGN
     45 000014                          UU.DAL: .BLKB           ;+12., DEASSIGN
ALL
     46 000015                          UU.ZER: .BLKB           ;+13., ZERO DEVI
CE
     47 000016                          UU.RAD: .BLKB           ;+14., READ ACCO
UNTING INFORMATION
     48 000017                          UU.DIR: .BLKB           ;+15., GET DIREC
TORY INFORMATION
     49 000020                          UU.TRM: .BLKB           ;+16., SET TERMI
NAL CHARACTERISTICS
     50 000021                          UU.LOK: .BLKB           ;+17., WILDCARD
DIRECTORY LOOKUP
     51                                         .BLKB           ;+18., RESERVED
(BASIC-PLUS OLD MESSAGE SEND/RECEIVE)
     52 000023                          UU.CHE: .BLKB           ;+19., CACHE ENA
BLE/DISABLE
     53 000024                          UU.CNV: .BLKB           ;+20., CONVERT D
ATE/TIME TO ASCII
     54 000025                          UU.SLN: .BLKB           ;+21., SET/CLEAR
 SYSTEM-WIDE LOGICAL NAMES
     55                                         .BLKB           ;+22., RESERVED
(BASIC-PLUS MESSAGE SEND/RECEIVE)
     56 000027                          UU.SWP: .BLKB           ;+23., ADD/REMOV
E SWAP, OVERLAY, ERROR MSG FILES
     57 000030                          UU.JOB: .BLKB           ;+24., JOB CREAT
ION
 COMMON  COMMON DEFINITIONS      MACRO V03.01 18-OCT-86 01:52:14 PAGE 8-1


     58 000031                          UU.PPN: .BLKB           ;+25., WILDCARD
PPN LOOKUP
     59 000032                          UU.SYS: .BLKB           ;+26., RETURN JO
B STATUS INFORMATION
     60 000033                          UU.KMC: .BLKB           ;+27., CONNECT K
MC-11 TO ANOTHER DEVICE
 COMMON  COMMON DEFINITIONS      MACRO V03.01 18-OCT-86 01:52:14 PAGE 9


      1                                 ; I/O RELATED DEFINITIONS
      2
      3                                 ; HANDLER INDEXES
      4
      5 000034                          .DSECT  ,NOCREF
      6
      7 000000                          DSKHND: .BLKW           ;DISK(S)
      8 000002                          TTYHND: .BLKW           ;TERMINAL(S)
      9 000004                          DTAHND: .BLKW           ;DECTAPE
     10 000006                          LPTHND: .BLKW           ;LINE PRINTER(S)
     11 000010                          PTRHND: .BLKW           ;PAPER TAPE READ
ER
     12 000012                          PTPHND: .BLKW           ;PAPER TAPE PUNC
H
     13 000014                          CDRHND: .BLKW           ;CARD READER
     14 000016                          MTAHND: .BLKW           ;MAGTAPE(S)
     15 000020                          PKBHND: .BLKW           ;PSEUDO-KEYBOARD
S
     16 000022                          RXDHND: .BLKW           ;FLOPPY DISK
     17 000024                          RJEHND: .BLKW           ;2780 RJE
     18 000026                          NULHND: .BLKW           ;NULL DEVICE
     19 000030                          DMCHND: .BLKW           ;DMC11 DEVICE
     20 000032                          AUDHND: .BLKW           ;AUTO-DIAL DEVIC
E (DN11)
     21 000034                          PLTHND: .BLKW           ;X-Y PLOTTER
     22 000036                          DT2HND: .BLKW           ;DECTAPE II
     23 000040                          KMCHND: .BLKW           ;KMC11 MICROPROC
ESSOR
     24 000042                          IBMHND: .BLKW           ;IBM INTERCONNEC
T
     25 000044                          MBXHND: .BLKW           ;MAILBOX (RESERV
ED FOR VAX-11)
     26
     27 000046                          .BSECT  HIGH,NOCREF     ;FLAG BITS FOR A
N OPEN FILE
     28
     29 000400                          DDNFS:  .BLKB   .       ;FILE(DEVICE) IS
 NON-FILE-STRUCTURED
     30 001000                          DDRLO:  .BLKB   .       ;FILE(DEVICE) IS
 READ-LOCKED
     31 002000                          DDWLO:  .BLKB   .       ;FILE(DEVICE) IS
 WRITE-LOCKED
     32 004000                          FLGPOS: .BLKB   .       ;FILE(DEVICE) KE
EPS ITS OWN POSITION
     33 010000                          FLGMOD: .BLKB   .       ;FILE(DEVICE) AC
CEPTS MODIFIERS
     34 020000                          FLGFRC: .BLKB   .       ;FILE(DEVICE) IS
 BYTE ORIENTED (NON-BLOCKED)
     35 040000                          FLGKB:  .BLKB   .       ;FILE(DEVICE) IS
 INTERACTIVE (KEYBOARD TYPE)
     36 100000                          FLGRND: .BLKB   .       ;FILE(DEVICE) IS
 RANDOM ACCESS
 COMMON  COMMON DEFINITIONS      MACRO V03.01 18-OCT-86 01:52:14 PAGE 10


      1                                 ; JOB UNIQUE LOW MEMORY LAYOUT
      2
      3 000000                          .DSECT  ,NOCREF
      4
      5                                         .BLKW   30      ;JOB CONTROLLED
      6                                         .BLKW   15      ;RESERVED FOR MO
NITOR CONTEXT USE
      7                                         .BLKW   30      ;RESERVED FOR MO
NITOR FPP CONTEXT USE
      8                                         .BLKW   103     ;JOB'S SP STACK
AREA
      9 000400                          USRSP:                  ;DEFAULT (INITIA
L) JOB SP STACK SETTING
     10 000400                          KEY:    .BLKW           ;KEYWORD OF JOB'
S CURRENT STATUS
     11 000402                          FIRQB:  .BLKB   FQBSIZ  ;FILE REQUEST QU
EUE BLOCK
     12 000442                          XRB:    .BLKB   XRBSIZ  ;TRANSFER CONTRO
L BLOCK
     13 000460                          CORCMN: .BLKB   200     ;CCL LINE COMMON
     14                                         .BLKW   26      ;JOB CONTROLLED
     15 000734                          USRPPN: .BLKW           ;USER'S ASSIGNAB
LE PPN
     16 000736                          USRPRT: .BLKW           ;USER'S ASSIGNAB
LE PROTECTION CODE
     17 000740                          USRLOG: .BLKW   4*4     ;USER'S LOGICAL
DEVICE TABLE
     18 001000                          NSTORG:                 ;END OF LOW MEMO
RY FIXED LAYOUT
     19
     20 001000                          .BSECT  HIGH,NOCREF     ;KEYWORD STATUS
BITS
     21
     22 000400                          JFSPRI: .BLKB   .       ;JOB IS AT SPECI
AL RUN PRIORITY
     23 001000                          JFFPP:  .BLKB   .       ;SAVE/RESTORE AS
YNC FPP CONTEXT
     24 002000                          JFPRIV: .BLKB   .       ;JOB HAS PERMANE
NT PRIV'S
     25 004000                          JFSYS:  .BLKB   .       ;JOB HAS TEMPORA
RY PRIV'S ACTIVE
     26 010000                          JFNOPR: .BLKB   .       ;JOB IS NOT YET
LOGGED IN
     27 020000                          JFBIG:  .BLKB   .       ;JOB CAN EXCEED
ITS PRIVATE MEMORY MAX
     28 040000                          JFLOCK: .BLKB   .       ;JOB IS NOT TO B
E SWAPPED
 COMMON  COMMON DEFINITIONS      MACRO V03.01 18-OCT-86 01:52:14 PAGE 11


      1                                 ; RUN-TIME SYSTEM UNIQUE HIGH MEMORY LAY
OUT
      2
      3 100000                          .DSECT  177776,NOCREF
      4
      5                                         .BLKW   -1      ;UNAVAILABLE WOR
D
      6 177774                          P.SIZE: .BLKW   -1      ;MAX SIZE FOR A
USER'S IMAGE IN K
      7 177772                          P.2CC:  .BLKW   -1      ;ADDRESS OF 2 QU
ICK CONTROL/C'S
      8 177770                          P.CC:   .BLKW   -1      ; "      "  CONT
ROL/C TRAPPING
      9 177766                          P.FPP:  .BLKW   -1      ; "      "  @244
 TRAPS (FPP)
     10 177764                          P.TRAP: .BLKW   -1      ; "      "  @34
TRAPS (TRAP)
     11 177762                          P.EMT:  .BLKW   -1      ; "      "  @30
TRAPS (NON-MONITOR CALL)
     12 177760                          P.IOT:  .BLKW   -1      ; "      "  @20
TRAPS (IOT)
     13 177756                          P.BPT:  .BLKW   -1      ; "      "  @14
TRAPS (ODT OR T-BIT)
     14 177754                          P.BAD:  .BLKW   -1      ; "      "  BAD
ERROR RECOVERY
     15 177752                          P.RUN:  .BLKW   -1      ; "      "  ENTR
Y TO RUN A NEW PROGRAM
     16 177750                          P.NEW:  .BLKW   -1      ; "      "  A NE
W ENTRY
     17 177746                          P.STRT: .BLKW   -1      ; "      "  SYST
EM START
     18 177744                          P.CRAS: .BLKW   -1      ; "      "  CRAS
H RECOVERY
     19 177742                          P.FIS:  .BLKW   -1      ; "      "  @244
 TRAPS (FIS)
     20 177740                          P.MSIZ: .BLKW   -1      ;MIN SIZE FOR A
USER'S IMAGE IN K
     21 177736                          P.ISIZ: .BLKW   -1      ;(HISTORICAL...)
     22 177734                          P.DEXT: .BLKW   -1      ;DEFAULT EXECUTA
BLE EXTENSION (RAD50)
     23 177732                          P.FLAG: .BLKW   -1      ;FLAG WORD DESCR
IBING THE RTS
     24                                         .BLKW           ;DUMMY TO GET BA
CK TO THE
     25 177732                          P.OFF:                  ; STARTING ADDRE
SS OF THESE "VECTORS"
     26
     27 177732                          .BSECT  HIGH,NOCREF     ;FLAG BITS IN P.
FLAG WORD
     28
     29 000400                          PF.KBM: .BLKB   .       ;RTS IS A KEYBOA
RD MONITOR
     30 001000                          PF.1US: .BLKB   .       ;RTS ALLOWS ONLY
 1 USER (NO SHARING)
     31 002000                          PF.RW:  .BLKB   .       ;RTS WANTS TO RU
N MAPPED READ/WRITE
     32 004000                          PF.NER: .BLKB   .       ;RTS DOESN'T WAN
T ITS ERRORS LOGGED
     33 010000                          PF.REM: .BLKB   .       ;UNCONDITIONAL R
EMOVE FROM MEMORY ON EXIT
     34 020000                          PF.CSZ: .BLKB   .       ;RUN SIZE IS COM
PUTED FROM FILE SIZE
     35 040000                          PF.SLA: .BLKB   .       ;(SAVE THE LOAD
ADDRESS, M.PHYA)
     36 100000                          PF.EMT: .BLKB   .       ;RTS WANTS EMT C
ODE IN LOW BYTE AS A PREFIX
     37
     38                                 ; NOTES ON THE ABOVE PSEUDO-VECTOR CELLS
:
     39                                 ;       THE FOLLOWING ARE ENTRY POINTS I
NTO THE RTS:
     40                                 ;               P.BAD,  P.RUN,  P.NEW,
P.STRT, P.CRAS
     41                                 ;       THE FOLLOWING ARE SYNCHRONOUS TR
APS INTO THE RTS:
     42                                 ;               P.TRAP, P.EMT,  P.IOT,
P.BPT,  P.FIS
     43                                 ;       THE FOLLOWING ARE ASYNCHRONOUS T
RAPS INTO THE RTS:
     44                                 ;               P.2CC,  P.CC,   P.FPP,
P.BAD
     45                                 ;       THE FOLLOWING ARE FOR INFORMATIO
N ONLY:
     46                                 ;               P.SIZE, P.MSIZ, P.ISIZ,
P.DEXT, P.FLAG
     47
     48                                 .IIF    NDF     L$$IST, .ENABL  CRF
     49                                 .IIF    NDF     L$$IST, .LIST
 COMMON  COMMON DEFINITIONS      MACRO V03.01 18-OCT-86 01:52:14 PAGE 12


      1                                 .IIF    NDF     L$$IST, .NLIST
      2                                 .IIF    NDF     L$$IST, .DSABL  CRF
      3 000000                          TITLE   KERNEL,<KERNEL MODE DEFINITIONS>
,07,22-SEP-79,MHB/ABC/MJG/SJK
                                        .TITLE  KERNEL  KERNEL MODE DEFINITIONS
                                        .IDENT  "07.007"
                                        .SBTTL
                                        .SBTTL  KERNEL  KERNEL MODE DEFINITIONS
                                        .SBTTL
                                        .SBTTL  EDIT:           DATE:
BY:
                                        .SBTTL   07           22-SEP-79
MHB/ABC/MJG/SJK
                                        .SBTTL
      4
      5                                 ;
      6                                 ;       COPYRIGHT (C) 1974, 1975, 1976,
1977, 1978, 1979 BY
      7                                 ;       DIGITAL EQUIPMENT CORPORATION, M
AYNARD, MASS.
      8                                 ;
      9                                 ; THIS SOFTWARE IS FURNISHED UNDER A LIC
ENSE AND MAY BE USED AND  COPIED
     10                                 ; ONLY  IN  ACCORDANCE  WITH  THE  TERMS
  OF  SUCH  LICENSE AND WITH THE
     11                                 ; INCLUSION OF THE ABOVE COPYRIGHT NOTIC
E.  THIS SOFTWARE OR  ANY  OTHER
     12                                 ; COPIES  THEREOF MAY NOT BE PROVIDED OR
 OTHERWISE MADE AVAILABLE TO ANY
     13                                 ; OTHER PERSON.  NO TITLE TO AND OWNERSH
IP OF  THE  SOFTWARE  IS  HEREBY
     14                                 ; TRANSFERRED.
     15                                 ;
     16                                 ; THE INFORMATION IN THIS SOFTWARE IS SU
BJECT TO CHANGE  WITHOUT  NOTICE
     17                                 ; AND  SHOULD  NOT  BE  CONSTRUED  AS  A
 COMMITMENT BY DIGITAL EQUIPMENT
     18                                 ; CORPORATION.
     19                                 ;
     20                                 ; DIGITAL ASSUMES NO RESPONSIBILITY FOR
THE USE  OR  RELIABILITY  OF ITS
     21                                 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUP
PLIED BY DIGITAL.
     22                                 ;
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:14 PAGE 13


      1                                 ; COMMON MACHINE DEFINITIONS
      2
      3 000000                          .DSECT  177774,NOCREF
      4
      5 177774                          SL:     .BLKW           ;STACK LIMIT
      6 177776                          PS:     .BLKW           ;PROCESSOR STATU
S
      7
      8 000000                          .BSECT  ,NOCREF         ;CONDITION CODE
BITS IN THE PROCESSOR STATUS
      9
     10 000001                          C:      .BLKB   .       ;C-BIT (CARRY)
     11 000002                          V:      .BLKB   .       ;V-BIT (OVERFLOW
)
     12 000004                          Z:      .BLKB   .       ;Z-BIT (ZERO)
     13 000010                          N:      .BLKB   .       ;N-BIT (NEGATIVE
)
     14 000020                          T:      .BLKB   .       ;T-BIT (TRACE TR
AP)
     15
     16 000040                          .DSECT  34000,NOCREF
     17
     18 034000                          PR0:    .BLKB   40      ;PRIORITY 0 (+RE
G SET 1, +PREV=USER)
     19 034040                          PR1:    .BLKB   40      ;PRIORITY 1 (+RE
G SET 1, +PREV=USER)
     20 034100                          PR2:    .BLKB   40      ;PRIORITY 2 (+RE
G SET 1, +PREV=USER)
     21 034140                          PR3:    .BLKB   40      ;PRIORITY 3 (+RE
G SET 1, +PREV=USER)
     22 034200                          PR4:    .BLKB   40      ;PRIORITY 4 (+RE
G SET 1, +PREV=USER)
     23 034240                          PR5:    .BLKB   40      ;PRIORITY 5 (+RE
G SET 1, +PREV=USER)
     24 034300                          PR6:    .BLKB   40      ;PRIORITY 6 (+RE
G SET 1, +PREV=USER)
     25 034340                          PR7:    .BLKB   40      ;PRIORITY 7 (+RE
G SET 1, +PREV=USER)
     26
     27 034400                          .DSECT  177570,NOCREF
     28
     29 177570                          SWR:    .BLKW           ;CONSOLE SWITCH
REGISTER/DISPLAY REGISTER
     30 177572                          MMUSR0: .BLKW           ;MEMORY MANAGEME
NT STATUS REGISTER #0
     31
     32 177574                          .DSECT  172300,NOCREF
     33
     34 172300                          KISDR0: .BLKW   8.      ;KERNEL INSTRUCT
ION SPACE DESCRIPTION REGISTER 0
     35                                         .BLKW   8.      ;KERNEL DATA SPA
CE DESCRIPTION REGISTERS
     36 172340                          KISAR0: .BLKW   8.      ;KERNEL INSTRUCT
ION SPACE ADDRESS REGISTER 0
     37                                         .BLKW   8.      ;KERNEL DATA SPA
CE ADDRESS REGISTERS
     38
     39 172400                          .EQUATE KISAR5,5*2+KISAR0,NOCREF ;TEMPOR
ARY CODE MAPPING REGISTER
        172352                          KISAR5:
     40
     41 172352                          .EQUATE KISAR6,6*2+KISAR0,NOCREF ;TEMPOR
ARY DATA MAPPING REGISTER
        172354                          KISAR6:
     42
     43 172354                          .DSECT  177600,NOCREF
     44
     45 177600                          UISDR0: .BLKW   8.      ;USER INSTRUCTIO
N SPACE DESCRIPTION REGISTER 0
     46                                         .BLKW   8.      ;USER DATA SPACE
 DESCRIPTION REGISTERS
     47 177640                          UISAR0: .BLKW   8.      ;USER INSTRUCTIO
N SPACE ADDRESS REGISTER 0
     48                                         .BLKW   8.      ;USER DATA SPACE
 ADDRESS REGISTERS
     49
     50 177700                          .EQUATE UNIWIN,170200,NOCREF ;UNIBUS MAP
PING REGISTERS
        170200                          UNIWIN:
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:14 PAGE 14


      1                                 ; COMMON I/O DEFINITIONS
      2
      3 170200                          .EQUATE LKS,177546,NOCREF ;KW11-L CLOCK
STATUS REGISTER
        177546                          LKS:
      4
      5 177546                          .EQUATE PKS,172540,NOCREF ;KW11-P CLOCK
STATUS REGISTER
        172540                          PKS:
      6
      7 172540                          .DSECT  ,NOCREF
      8
      9 000000                          RHCS1:  .BLKW           ;RH11 CONTROL ST
ATUS #1
     10 000002                          RHWC:   .BLKW           ;RH11 WORD COUNT
     11 000004                          RHBA:   .BLKW           ;RH11 BUS ADDRES
S BITS <15-0>
     12                                         .BLKW           ;MASSBUS DEVICE
DEPENDENT
     13 000010                          RHCS2:  .BLKW           ;RH11 CONTROL ST
ATUS #2
     14 000012                          RHDS:   .BLKW           ;RH11 DRIVE STAT
US
     15 000014                          RHER:   .BLKW           ;RH11 ERROR REGI
STER (#1)
     16 000016                          RHAS:   .BLKW           ;RH11 ATTN SUMMA
RY
     17                                         .BLKW   2       ;2 MASSBUS DEVIC
E DEPENDENT REGISTERS
     18 000024                          RHMR:   .BLKW           ;RH11 MAINTENANC
E REGISTER
     19 000026                          RHDT:   .BLKW           ;RH11 DRIVE TYPE
     20
     21 000030                          .BSECT  HIGH,NOCREF     ;COMMON BITS IN
RHCS1
     22
     23                                         .BLKB   .       ;BUS ADDRESS BIT
 <16>
     24                                         .BLKB   .       ;BUS ADDRESS BIT
 <17>
     25                                         .BLKB   .       ;PORT SELECT
     26                                         .BLKB   .       ;DRIVE AVAILABLE
 (IN DRIVE)
     27                                         .BLKB   .       ;RESERVED (IN DR
IVE)
     28 020000                          RHMCPE: .BLKB   .       ;MASSBUS CONTROL
 PARITY ERROR
     29 040000                          RHTRE:  .BLKB   .       ;COMPOSITE TRANS
FER ERROR
     30 100000                          RHSC:   .BLKB   .       ;COMPOSITE SPECI
AL CONDITION
     31
     32 000000                          .EQUATE RHESET, 11,NOCREF ;COMMON RH11 D
RIVE RESET FUNCTION
        000011                          RHESET:
     33 000011                          .EQUATE RHWCHK, 51,NOCREF ;COMMON RH11 W
RITE CHECK FUNCTION
        000051                          RHWCHK:
     34 000051                          .EQUATE RHWRIT, 61,NOCREF ;COMMON RH11 W
RITE FUNCTION
        000061                          RHWRIT:
     35 000061                          .EQUATE RHREAD, 71,NOCREF ;COMMON RH11 R
EAD FUNCTION
        000071                          RHREAD:
     36
     37 000071                          .BSECT  ,NOCREF         ;COMMON BITS IN
RHCS2
     38
     39                                         .BLKB   .       ;UNIT SELECT BIT
 <0>
     40                                         .BLKB   .       ;UNIT SELECT BIT
 <1>
     41                                         .BLKB   .       ;UNIT SELECT BIT
 <2>
     42                                         .BLKB   .       ;BUS ADDRESS INC
REMENT INHIBIT
     43                                         .BLKB   .       ;PARITY TEST
     44 000040                          RHCLR:  .BLKB   .       ;RH11 MASTER CLE
AR
     45                                         .BLKB   .       ;INPUT READY
     46                                         .BLKB   .       ;OUTPUT READY
     47 000400                          RHMDPE: .BLKB   .       ;MASSBUS DATA PA
RITY ERROR
     48 001000                          RHMXF:  .BLKB   .       ;MISSED TRANSFER
     49 002000                          RHPGE:  .BLKB   .       ;PROGRAM ERROR
     50 004000                          RHNEM:  .BLKB   .       ;NON-EXISTENT ME
MORY
     51 010000                          RHNED:  .BLKB   .       ;NON-EXISTENT DR
IVE
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:14 PAGE 14-1


     52 020000                          RHPE:   .BLKB   .       ;MEMORY BUS PARI
TY ERROR
     53                                         .BLKB   .       ;WRITE CHECK ERR
OR
     54 100000                          RHDLT:  .BLKB   .       ;DATA LATE ON ME
MORY BUS
     55
     56 000000                          .BSECT  ,NOCREF         ;COMMON BITS IN
RHDS
     57
     58                                         .BLKB   .       ;DRIVE DEPENDENT
     59                                         .BLKB   .       ;DRIVE DEPENDENT
     60                                         .BLKB   .       ;DRIVE DEPENDENT
     61                                         .BLKB   .       ;DRIVE DEPENDENT
     62                                         .BLKB   .       ;DRIVE DEPENDENT
     63                                         .BLKB   .       ;DRIVE DEPENDENT
     64                                         .BLKB   .       ;DRIVE DEPENDENT
     65 000200                          RHDRY:  .BLKB   .       ;DRIVE READY
     66 000400                          RHDPR:  .BLKB   .       ;DRIVE PRESENT
     67                                         .BLKB   .       ;DRIVE DEPENDENT
     68                                         .BLKB   .       ;DRIVE DEPENDENT
     69 004000                          RHWRL:  .BLKB   .       ;WRITE LOCKED
     70 010000                          RHMOL:  .BLKB   .       ;MEDIUM ON-LINE
     71 020000                          RHPIP:  .BLKB   .       ;POSITIONING IN
PROGRESS
     72 040000                          RHERR:  .BLKB   .       ;COMPOSITE DRIVE
 ERROR
     73 100000                          RHATA:  .BLKB   .       ;ATTN ACTIVE
     74
     75 000000                          .BSECT  ,NOCREF         ;COMMON BITS IN
RHER
     76
     77 000001                          RHILF:  .BLKB   .       ;ILLEGAL FUNCTIO
N
     78 000002                          RHILR:  .BLKB   .       ;ILLEGAL REGISTE
R
     79 000004                          RHRMR:  .BLKB   .       ;REGISTER MODIFI
CATION REFUSED
     80                                         .BLKB   .       ;DRIVE DEPENDENT
     81                                         .BLKB   .       ;DRIVE DEPENDENT
     82                                         .BLKB   .       ;DRIVE DEPENDENT
     83                                         .BLKB   .       ;DRIVE DEPENDENT
     84                                         .BLKB   .       ;DRIVE DEPENDENT
     85                                         .BLKB   .       ;DRIVE DEPENDENT
     86                                         .BLKB   .       ;DRIVE DEPENDENT
     87                                         .BLKB   .       ;DRIVE DEPENDENT
     88                                         .BLKB   .       ;DRIVE DEPENDENT
     89 010000                          RHDTE:  .BLKB   .       ;DRIVE TIMING ER
ROR
     90 020000                          RHOPI:  .BLKB   .       ;OPERATION IMCOM
PLETE
     91 040000                          RHUNS:  .BLKB   .       ;UNSAFE
     92                                         .BLKB   .       ;DRIVE DEPENDENT
     93
     94 000000                          .BSECT  HIGH,NOCREF     ;COMMON BITS IN
RHDT
     95
     96                                         .BLKB   .       ;BIT <8> OF DRIV
E CODE
     97                                         .BLKB   .       ;RESERVED
     98 002000                          RHSPR:  .BLKB   .       ;SLAVE PRESENT
     99 004000                          RHDRQ:  .BLKB   .       ;DRIVE REQUEST R
EQUIRED (DUAL PORT)
    100 010000                          RH7CH:  .BLKB   .       ;7-CHANNELS
    101 020000                          RHMOH:  .BLKB   .       ;MOVING HEADS
    102 040000                          RHTAP:  .BLKB   .       ;TAPE
    103 100000                          RHNSA:  .BLKB   .       ;NOT SECTOR ADDR
ESSABLE
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:14 PAGE 15


      1                                 ; GENERAL KERNEL MODE MACROS
      2
      3                                 .MACRO  CALLM   SUBR,XXXAP5
      4                                         CALLX   CALLM,R5,<SUBR,XXXAP5>
      5                                 .DSABL  CRF
      6                                 .GLOBL  SUBR,XXXAP5
      7                                 .ENABL  CRF
      8                                 .ENDM   CALLM
      9
     10                                 .MACRO  CALLMI  IADDR,XXXAP5
     11                                         CALLX   CALLMI,R5,<IADDR,XXXAP5>
     12                                 .DSABL  CRF
     13                                 .GLOBL  IADDR,XXXAP5
     14                                 .ENABL  CRF
     15                                 .ENDM   CALLMI
     16
     17                                 .MACRO  CALLMR  SUBR,XXXAP5
     18                                         CALLX   CALLMR,R5,<SUBR,XXXAP5>
     19                                 .DSABL  CRF
     20                                 .GLOBL  XXXAP5
     21                                 .ENABL  CRF
     22                                 .ENDM   CALLMR
     23
     24                                 .MACRO  CALLBB  BBOFF
     25                                         CALLX   CALLBB,R5,<BBOFF>
     26                                 .ENDM   CALLBB
     27
     28                                 .MACRO  GETUSR
     29                                          MOVB   (R5),R2
     30                                          INC    R5
     31                                 .ENDM   GETUSR
     32
     33                                 .MACRO  PUTUSR
     34                                          MOVB   R2,(R5)
     35                                          INC    R5
     36                                 .ENDM   PUTUSR
     37
     38                                 .MACRO  VECTOR  ORIGIN,ADDR=$$$$$$,PRN
     39                                 .DSABL  CRF
     40                                 $$$$$$  =       .
     41                                 .ENABL  CRF
     42                                         TMPORG  LOWCOR,<ORIGIN>
     43                                          .WORD  ADDR,PRN&4340   ; VECTOR
 @ ORIGIN
     44                                         UNORG
     45                                 .ENDM   VECTOR
     46
     47                                 .MACRO  DSKDEF  NAME
     48                                         TMPORG  NAME'DINT
     49                                 .LIST
     50
     51                                 .NLIST
     52                                 NAME'DINT:      JSR     R5,@#INTSVX
;;CALL FOR INTERRUPT SAVING
     53                                          .WORD  DSKAP5          ;; USING
 @ THIS PAR5 VALUE
     54                                          .WORD  INT$'NAME
;;  AND GOING TO HERE
     55                                 .LIST
     56
     57                                 .NLIST
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:14 PAGE 15-1


     58                                 .ASSUME .-NAME'DINT EQ QDS$OO
     59                                         .WORD   QDS$'NAME
;ENTRY FOR SETTING UP A DSQ
     60                                 .ASSUME .-NAME'DINT EQ DQS$OO
     61                                         .WORD   DQS$'NAME
;BASE QUEUE ROOT POINTER
     62                                 .ASSUME .-NAME'DINT EQ UMR$OO
     63                                         .WORD   UMR$'NAME
;ENTRY FOR UMR FREED UP
     64                                 .ASSUME .-NAME'DINT EQ TMO$OO
     65                                         .WORD   TMO$'NAME
;ENTRY FOR TIMEOUTS
     66                                 .ASSUME .-NAME'DINT EQ DSKSIZ
     67                                 .DSABL  CRF
     68                                 .GLOBL  INTSVX, DSKAP5, DQS$'NAME
     69                                 .ENABL  CRF
     70                                         UNORG
     71                                 .ENDM   DSKDEF
     72
     73                                 .MACRO  SPL     PRI
     74                                          BIS    #PR7,@#PS
     75                                 .IF     NE      PRI-7
     76                                          BIC    #^C<PRI>&7*40,@#PS
     77                                 .ENDC
     78                                 .ENDM   SPL
     79
     80                                 .MACRO  SPLC    PRI
     81                                          MOV    #PR'PRI,@#PS
     82                                 .ENDM   SPLC
     83
     84                                 .MACRO  ERROR   CODE
     85                                 .DSABL  CRF
     86                                 .GLOBL  CODE
     87                                 .ENABL  CRF
     88                                          .WORD  TRAP+CODE
     89                                 .ENDM   ERROR
     90
     91                                 .MACRO  CHKERR  CODE,SRC
     92                                 .DSABL  CRF
     93                                 .GLOBL  CODE
     94                                 .ENABL  CRF
     95                                          CMPB   SRC,#CODE
     96                                 .ENDM   CHKERR
     97
     98                                 .MACRO  SETERR  CODE,DST,WORD
     99                                 .DSABL  CRF
    100                                 .GLOBL  CODE
    101                                 .ENABL  CRF
    102                                 .IF     B       <WORD>
    103                                          MOVB   #CODE,DST
    104                                 .IFF
    105                                          MOV    #CODE,DST
    106                                 .ENDC
    107                                 .ENDM   SETERR
    108
    109                                 .MACRO  REGSCR
    110                                         CALLX   REGSCR,R5
    111                                 .DSABL  CRF
    112                                 TOS.R0  =       0+1*2
    113                                 TOS.R1  =       1+1*2
    114                                 TOS.R2  =       2+1*2
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:14 PAGE 15-2


    115                                 TOS.R3  =       3+1*2
    116                                 TOS.R4  =       4+1*2
    117                                 TOS.R5  =       5+1*2
    118                                 TOS.RA  =       6+1*2
    119                                 .ENABL  CRF
    120                                 .ENDM   REGSCR
    121
    122                                 .MACRO  REGSAV  METHOD
    123                                 .IF     IDN     <METHOD>,<INLINE>
    124                                          MOV    R5,-(SP)
    125                                          MOV    R4,-(SP)
    126                                          MOV    R3,-(SP)
    127                                          MOV    R2,-(SP)
    128                                          MOV    R1,-(SP)
    129                                          MOV    R0,-(SP)
    130                                 .IFF
    131                                 .IF     NB      <METHOD>
    132                                 .ERROR  ; ILLEGAL ARGUMENT "METHOD"
    133                                 .ENDC
    134                                         CALLX   REGSAV,R5
    135                                 .ENDC
    136                                 .DSABL  CRF
    137                                 TOS.R0  =       0*2
    138                                 TOS.R1  =       1*2
    139                                 TOS.R2  =       2*2
    140                                 TOS.R3  =       3*2
    141                                 TOS.R4  =       4*2
    142                                 TOS.R5  =       5*2
    143                                 TOS.PC  =       6*2
    144                                 TOS.PS  =       7*2
    145                                 .ENABL  CRF
    146                                 .ENDM   REGSAV
    147
    148                                 .MACRO  CRASH
    149                                          BPT
    150                                 .ENDM   CRASH
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:14 PAGE 16


      1                                 ; MEMORY CONTROL SUB-BLOCK
      2
      3 000000                          .DSECT  ,NOCREF
      4
      5 000000                          M.PPRV: .BLKW           ;POINTER TO PREV
IOUS ENTRY IN LIST +2
      6 000002                          M.PNXT: .BLKW           ;POINTER TO NEXT
 ENTRY IN LIST
      7 000004                          M.TSIZ: .BLKW           ;SIZE IN K OF TH
IS ENTRY
      8 000006                          M.SIZE: .BLKB           ;SIZE IN K OF AC
TIVE PART OF THIS ENTRY
      9 000007                          M.CTRL: .BLKB           ;CONTROL/STATUS
BYTE
     10 000010                          M.PHYA: .BLKW           ;PHYSICAL ADDRES
S /100
     11 000012                          MCBSIZ:                 ;SIZE OF THE MEM
ORY CONTROL SUB-BLOCK IN BYTES
     12
     13 000012                          .BSECT  ,NOCREF         ;CONTROL/STATUS
BITS IN M.CTRL
     14
     15 000001                          REQ:    .BLKB   .       ;RESIDENCY REQUE
STED
     16 000002                          OUT:    .BLKB   .       ;SWAP OUT DESIRE
D OR IN PROGRESS
     17 000004                          IN:     .BLKB   .       ;SWAP IN DESIRED
 OR IN PROGRESS
     18                                         .BLKB   .       ;RESERVED BIT
     19                                         .BLKB   .       ;RESERVED BIT
     20                                         .BLKB   .       ;RESERVED BIT
     21 000100                          SWP:    .BLKB   .       ;SWAP REQUESTED
     22 000200                          LCK:    .BLKB   .       ;LOCKED ENTRY (N
O TOUCH!)
     23
     24                                 ; FIP BLOCK DESCRIPTION SUB-BLOCK
     25
     26 000400                          .DSECT  ,NOCREF
     27
     28 000000                          F.UNT:  .BLKB           ;FIP UNIT NUMBER
     29 000001                          F.FBNM: .BLKB           ;FIP BLOCK NUMBE
R (MSB)
     30 000002                          F.FBNL: .BLKW           ;FIP BLOCK NUMBE
R (LSB)
     31 000004                          FBBSIZ:                 ;SIZE OF THE FIP
 BLOCK SUB-BLOCK IN BYTES
     32
     33                                 ; UNTCNT TABLE STATUS BITS
     34
     35 000004                          .DSECT  777,NOCREF
     36
     37 000777                          UC.CNT: .BLKB           ;OPEN (ACCESS) C
OUNT
     38 001000                          UC.TOP: .BLKB   .       ;LINK TO TOP
     39 002000                          UC.WLO: .BLKB   .       ;MOUNTED WRITE L
OCKED
     40 004000                          UC.DLW: .BLKB   .       ;DATE OF LAST WR
ITE
     41 010000                          UC.NFS: .BLKB   .       ;MOUNTED NON-FIL
E STRUCTURED
     42 020000                          UC.LCK: .BLKB   .       ;UNIT IS LOCKED
     43 040000                          UC.PRI: .BLKB   .       ;MOUNTED PRIVATE
     44 100000                          UC.MNT: .BLKB   .       ;UNIT IS NOT MOU
NTED
     45
     46                                 ; UNTOPT TABLE STATUS BITS
     47
     48 000000                          .BSECT  ,NOCREF
     49
     50 000001                          UO.CLN: .BLKB   .       ;UNIT NEEDS "CLE
ANING"
     51                                         .BLKB   .       ;RESERVED
     52                                         .BLKB   .       ;RESERVED
     53                                         .BLKB   .       ;RESERVED
     54 000020                          UO.NCF: .BLKB   .       ;DON'T DISK CACH
E DIRECTORIES
     55 000040                          UO.NCD: .BLKB   .       ;DON'T DISK CACH
E DATA
     56 000100                          UO.WCF: .BLKB   .       ;WRITE CHECK FIP
 WRITES
     57 000200                          UO.WCU: .BLKB   .       ;WRITE CHECK ALL
 WRITES
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:14 PAGE 17


      1                                 ; JOB DATA STRUCTURE.
      2
      3                                 ; 1. JOB DATA BLOCK #1 (JDB)
      4
      5 000400                          .DSECT  ,NOCREF
      6
      7 000000                          JDIOB:  .BLKW           ;POINTER TO THE
I/O BLOCK (IOB)
      8 000002                          JDFLG:  .BLKW           ;JOB STATUS FLAG
S
      9 000004                          JDIOST: .BLKB           ;I/O STATUS OF J
OB, ERROR CODES
     10 000005                          JDPOST: .BLKB           ;INDEX FOR BIT P
ATTERN TO POST
     11 000006                          JDWORK: .BLKW           ;POINTER TO JOB
WORK BLOCK (WRK)
     12 000010                          JDJDB2: .BLKW           ;POINTER TO JOB
DATA BLOCK EXTENSION (JDB2)
     13 000012                          JDFLG2: .BLKB           ;MORE JOB STATUS
 FLAGS
     14 000013                          JDSIZN: .BLKB           ;SIZE FOR JOB TO
 BE NEXT RESIDENCY
     15 000014                          JDRTS:  .BLKW           ;POINTER TO RUN-
TIME SYSTEM BLOCK (RTS)
     16 000016                          JDRESQ: .BLKW           ;JOB'S RESIDENCY
 QUANTUM
     17 000020                          JDMCTL: .BLKB   MCBSIZ  ;JOB'S MEMORY CO
NTROL AREA
     18 000032                          JDRESB: .BLKW           ;L3 QUEUE BITS T
O SET ON RESIDENCY
     19 000034                          JDPRI:  .BLKB           ;JOB'S PRIORITY
(-128.<=127. [BEST])
     20 000035                          JDBRST: .BLKB           ;JOB'S RUNNABLE
BURST
     21 000036                          JDSIZM: .BLKB           ;JOB'S PRIVATE M
EMORY MAXIMUM
     22 000037                          JDSWAP: .BLKB           ;JOB'S SWAP PARA
METER
     23
     24 000040                          .EQUATE JDSIZE,JDMCTL+M.SIZE,NOCREF ;JOB
'S CURRENT SIZE IN K
        000026                          JDSIZE:
     25
     26                                 ; 2. JOB DATA BLOCK #2 (JDB2)
     27
     28 000026                          .DSECT  ,NOCREF
     29
     30 000000                          J2TICK: .BLKW           ;NUMBER OF CLOCK
 TICKS UNCONVERTED
     31 000002                          J2CPU:  .BLKW           ;CPU-TIME COLLEC
TED FOR JOB
     32 000004                          J2CON:  .BLKW           ;CONNECT TIME CO
LLECTED FOR JOB
     33 000006                          J2KCT:  .BLKW           ;KILO-CORE-TICK'
S COLLECTED FOR JOB
     34 000010                          J2DEV:  .BLKW           ;DEVICE TIME COL
LECTED FOR JOB
     35 000012                          J2KCTM: .BLKB           ;MSB OF KILO-COR
E-TICK'S COLLECTED FOR JOB
     36 000013                          J2CPUM: .BLKB           ;MSB OF CPU-TIME
 COLLECTED FOR JOB
     37 000014                          J2NAME: .BLKW   2       ;JOB'S PROGRAM N
AME
     38 000020                          J2DRTS: .BLKW           ;POINTER TO DEFA
ULT RUN-TIME SYSTEM FOR JOB
     39 000022                          J2MPTR: .BLKW           ;POINTER TO JOB'
S RECEIVER ID BLOCK (SND)
     40 000024                          J2PPTR: .BLKW           ;LARGE DATA POST
ING POINTER
     41 000026                          J2PCNT: .BLKW           ;LARGE DATA POST
ING COUNT
     42 000030                          J2PPN:  .BLKW           ;JOB'S PROJECT/P
ROGRAMMER NUMBER
     43 000032                          J2UFDR: .BLKW           ;RETRIEVAL POINT
ER TO JOB'S SYSTEM DISK UFD
     44 000034                          J2WPTR: .BLKW           ;POINTER TO JOB'
S WINDOW DESCRIPTOR BLOCK (WDB)
     45 000036                          J2CPUI: .BLKW           ;INCREMENTAL CPU
 TIME CALCULATION BUCKET
     46
     47                                 ; 3. JOB DATA BLOCK #3 (IOB)
     48
     49                                 ; THIS BLOCK POINTS TO EACH OF THE USER'
S POSSIBLE 16. CHANNELS.
     50
     51                                 ; 4. JOB WORK BLOCK (WRK)
     52
     53                                 ; THIS IS A SCRATCH WORK BLOCK.
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:14 PAGE 18


      1                                 ; JOB FLAG (JDFLG) ASSIGNMENTS
      2
      3 000040                          .BSECT  ,NOCREF
      4
      5 000001                          JFPOST: .BLKB   .       ;CHECK 'JDPOST'
FOR POSTING INFORMATION
      6 000002                          JFIOKY: .BLKB   .       ;POST THE I/O ST
ATUS ('JDIOST') AND KEYWORD
      7 000004                          JFRSXP: .BLKB   .       ;LET RSX EMULATI
ON CATCH JOB POSTING
      8 000010                          JFCC:   .BLKB   .       ;^C TYPED BY USE
R
      9 000020                          JF2CC:  .BLKB   .       ;2 QUICK ^C'S TY
PED BY USER
     10 000040                          JFPPT:  .BLKB   .       ;FPP EXCEPTION A
ST NEEDED
     11 000100                          JFGO:   .BLKB   .       ;FORCING JOB (NO
 I/O RE-DO)
     12 000200                          JFREDO: .BLKB   .       ;RE-DO THE I/O C
ONDITION
     13 000400                          JFSYST: .BLKB   .       ;TEMPORARY PRIVI
LEGES POSSIBLE
     14 001000                          JFFPP:  .BLKB   .       ;SAVE/RESTORE AS
YNC FPP CONTEXT
     15 002000                          JFPRIV: .BLKB   .       ;JOB HAS PERMANE
NT PRIV'S
     16 004000                          JFSYS:  .BLKB   .       ;JOB HAS TEMPORA
RY PRIV'S ACTIVE
     17 010000                          JFNOPR: .BLKB   .       ;JOB IS NOT YET
LOGGED IN
     18 020000                          JFBIG:  .BLKB   .       ;JOB CAN EXCEED
ITS PRIVATE MEMORY MAX
     19 040000                          JFLOCK: .BLKB   .       ;JOB IS NOT TO B
E SWAPPED
     20 100000                          JFSPCL: .BLKB   .       ;SPECIAL CONDITI
ON (CHECK 'JDFLG2')
     21
     22                                 ; JOB FLAG (JDFLG2) ASSIGNMENTS (WITH 'J
FSPCL')
     23
     24 000000                          .BSECT  ,NOCREF
     25
     26 000001                          JFCTXT: .BLKB   .       ;PRESERVE THE JO
B'S CONTEXT
     27 000002                          JFPRTY: .BLKB   .       ;PARITY FAULT
     28 000004                          JFRUN:  .BLKB   .       ;RUN ENTRY
     29 000010                          JFSWPR: .BLKB   .       ;RUN-TIME SYSTEM
/RESIDENT LIBRARY SWAP (LOAD) ERROR
     30 000020                          JFSTAK: .BLKB   .       ;SP STACK OVERFL
OW
     31 000040                          JFSWPE: .BLKB   .       ;SWAP ERROR FOR
JOB
     32 000100                          JFKIL2: .BLKB   .       ;KILL THIS JOB I
MMEDIATELY
     33 000200                          JFKILL: .BLKB   .       ;KILL THIS JOB A
FTER CLEANUP
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:14 PAGE 19


      1                                 ; LEVEL 3 QUEUE (L3Q) BIT ASSIGNMENTS
      2
      3                                 ;       FROM HIGHEST PRIORITY TO LOWEST
PRIORITY
      4
      5 000400                          .DSECT  100001,NOCREF
      6
      7 100001                          QFAST:  .BLKB   .&77777 ;RESERVED FOR SO
ME FAST I/O DRIVER
      8                                         .BLKB   .&77777 ;RESERVED FOR I/
O DRIVER USAGE
      9                                         .BLKB   .&77777 ;RESERVED FOR I/
O DRIVER USAGE
     10                                         .BLKB   .&77777 ;RESERVED FOR I/
O DRIVER USAGE
     11                                         .BLKB   .&77777 ;RESERVED FOR I/
O DRIVER USAGE
     12                                         .BLKB   .&77777 ;RESERVED FOR I/
O DRIVER USAGE
     13                                         .BLKB   .&77777 ;RESERVED FOR I/
O DRIVER USAGE
     14                                         .BLKB   .&77777 ;RESERVED FOR I/
O DRIVER USAGE
     15                                         .BLKB   .&77777 ;RESERVED FOR I/
O DRIVER USAGE
     16                                         .BLKB   .&77777 ;RESERVED FOR I/
O DRIVER USAGE
     17                                         .BLKB   .&77777 ;RESERVED FOR I/
O DRIVER USAGE
     18                                         .BLKB   .&77777 ;RESERVED FOR I/
O DRIVER USAGE
     19                                         .BLKB   .&77777 ;RESERVED FOR I/
O DRIVER USAGE
     20                                         .BLKB   .&77777 ;RESERVED FOR I/
O DRIVER USAGE
     21                                         .BLKB   -<.&77777> ;RESERVED FOR
 I/O DRIVER USAGE
     22 100000                          QBUFRT: .BLKB   .       ;RETURN BUFFERS
TO SYSTEM PROCESS
     23
     24 000000                          .BSECT  ,NOCREF
     25
     26 000001                          QTIMER: .BLKB   .       ;ONCE A SECOND,
EVERY SECOND TIMER SERVICE
     27 000002                          QCACHE: .BLKB   .       ;DISK CACHEING C
OMPLETION
     28                                         .BLKB   .       ;RESERVED
     29 000010                          QBGBUF: .BLKB   .       ;UNSTALL BIG BUF
FER WAITS
     30 000020                          QUMR:   .BLKB   .       ;UNSTALL UNIBUS
MAPPING REGISTER WAITS
     31 000040                          QSWAPC: .BLKB   .       ;SWAP COMPLETION
     32 000100                          QFIP:   .BLKB   .       ;FIP COMPLETION/
CONTINUE
     33 000200                          QTRN:   .BLKB   .       ;DECNET TRANSFER
 PHASE COMPLETION/CONTINUE
     34 000400                          QNSP:   .BLKB   .       ;NSP COMPLETION/
CONTINUE
     35                                         .BLKB   .       ;RESERVED
     36 002000                          QFILE:  .BLKB   .       ;USER DISK FILE
I/O COMPLETION
     37 004000                          QDUMP:  .BLKB   .       ;FORCE A JOB NOT
 TO BE "JOB"
     38 010000                          QBRING: .BLKB   .       ;RUN THE MEMORY
MANAGER
     39 020000                          QSCHED: .BLKB   .       ;SCHEDULE THE SC
HEDULER
     40 040000                          QFORCE: .BLKB   .       ;FORCE A JOB NOT
 TO BE "JOB"
     41
     42 100000                          .EQUATE L3QSIZ,76,NOCREF ;L3Q TABLE SIZE
 IN BYTES
        000076                          L3QSIZ:
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:14 PAGE 20


      1                                 ; LEVEL 3 QUEUE (L3Q) MACROS
      2
      3                                 .MACRO  L3QENT  NAME,ADDR=$$$$$$,LOPAR5
      4                                 .DSABL  CRF
      5                                 $$$$$$  =       .
      6                                 $$$$$0  =       NAME
      7                                 .IIF    NE      NAME&077777,    $$$$$0=N
AME&077777
      8                                 $$$$$1  =       36
      9                                 .IIF    GT      NAME,           $$$$$1=7
6
     10                                 .REPT   16.
     11                                 $$$$$0  =       $$$$$0+$$$$$0
     12                                 .IIF    NE      $$$$$0,         $$$$$1=$
$$$$1-2
     13                                 .ENDR
     14                                         TMPORG  L3QPAR,$$$$$1
     15                                 .ENABL  CRF
     16                                 .IF     B       <LOPAR5>
     17                                 .ERROR  ; PAR5 VALUE MUST BE SPECIFIED
     18                                 .ENDC
     19                                          .WORD  LOPAR5          ; LOAD L
3QPAR WITH LOPAR5
     20                                 .DSABL  CRF
     21                                         TMPORG  L3QTBL,$$$$$1
     22                                 .ENABL  CRF
     23                                          .WORD  ADDR            ; LOAD L
3QTBL FOR NAME
     24                                         UNORG
     25                                 .ENDM   L3QENT
     26
     27                                 .MACRO  L3QSET  BIT1,BIT2
     28                                 .DSABL  CRF
     29                                 .IF     NDF     BIT1
     30                                 .GLOBL  BIT1
     31                                 .IFF
     32                                 .IF     B       <BIT2>
     33                                 .IF     GT      BIT1
     34                                 .GLOBL  L3QUE2
     35                                 .ENABL  CRF
     36                                          BIS    #BIT1,@#L3QUE2
     37                                 .MEXIT
     38                                 .IFF
     39                                 .IF     EQ      BIT1-100000
     40                                 .GLOBL  L3QUE
     41                                 .ENABL  CRF
     42                                          BIS    #BIT1,@#L3QUE
     43                                 .MEXIT
     44                                 .ENDC
     45                                 .ENDC
     46                                 .ENDC
     47                                 .ENDC
     48                                 .ENABL  CRF
     49                                         CALLX   L3QSET,R5,<BIT2+BIT1>
     50                                 .ENDM   L3QSET
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:14 PAGE 21


      1                                 ; JBWAIT/JBSTAT ASSIGNMENTS
      2
      3 000076                          .BSECT  ,NOCREF
      4
      5 000001                          JS.SY:  .BLKB   .       ;DISKS (AND OTHE
R NON-INTERRUPTABLES)
      6 000002                          JS.KB:  .BLKB   .       ;TERMINAL INPUT
      7                                         .BLKB   .       ;RESERVED FOR I/
O DRIVERS
      8                                         .BLKB   .       ;RESERVED FOR I/
O DRIVERS
      9                                         .BLKB   .       ;RESERVED FOR I/
O DRIVERS
     10                                         .BLKB   .       ;RESERVED FOR I/
O DRIVERS
     11                                         .BLKB   .       ;RESERVED FOR I/
O DRIVERS
     12                                         .BLKB   .       ;RESERVED FOR I/
O DRIVERS
     13                                         .BLKB   .       ;RESERVED FOR I/
O DRIVERS
     14                                         .BLKB   .       ;RESERVED FOR I/
O DRIVERS
     15                                         .BLKB   .       ;RESERVED FOR I/
O DRIVERS
     16 004000                          JSTEL:  .BLKB   .       ;TERMINAL OUTPUT
     17 010000                          JSFIP:  .BLKB   .       ;FILE PROCESSOR
     18 020000                          JSTIM:  .BLKB   .       ;WAITING FOR SOM
E TIMEOUT
     19 040000                          JSBUF:  .BLKB   .       ;WAITING FOR SMA
LL BUFFER(S)
     20                                         .BLKB   .       ;RESERVED
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:14 PAGE 22


      1                                 ; ERROR LOGGING DEFINITIONS
      2
      3 000000                          .DSECT  +EMT,NOCREF
      4
      5 104000                          LOG$CK: .BLKW           ;LOG ERROR DECLA
RED BY A RUN-TIME SYSTEM
      6 104002                          LOG$J0: .BLKW           ;LOG ERROR SINCE
 JUMP TO 0
      7 104004                          LOG$UI: .BLKW           ;LOG ERROR FROM
TRAP TO ?? (UNEXPECTED INTERRUPT)
      8 104006                          LOG$T4: .BLKW           ;LOG ERROR FROM
TRAP TO 4 (ODD ADDRESS, ETC.)
      9 104010                          LOG$RI: .BLKW           ;LOG ERROR FROM
TRAP TO 10 (RESERVED INSTRUCTION)
     10 104012                          LOG$PF: .BLKW           ;LOG ERROR FROM
TRAP TO 24 (POWER FAILURE)
     11 104014                          LOG$PA: .BLKW           ;LOG ERROR FROM
TRAP TO 114 (PARITY ERROR)
     12 104016                          LOG$KT: .BLKW           ;LOG ERROR FROM
TRAP TO 250 (MEMORY MANAGEMENT)
     13 104020                          LOG$NW: .BLKW           ;LOG ERROR FROM
DECNET
     14 104022                          LOG$DC: .BLKW           ;LOG ERROR FROM
DC DISK DRIVER
     15 104024                          LOG$DF: .BLKW           ;LOG ERROR FROM
DF DISK DRIVER
     16 104026                          LOG$DS: .BLKW           ;LOG ERROR FROM
DS DISK DRIVER
     17 104030                          LOG$DK: .BLKW           ;LOG ERROR FROM
DK DISK DRIVER
     18 104032                          LOG$DM: .BLKW           ;LOG ERROR FROM
DM DISK DRIVER
     19 104034                          LOG$DP: .BLKW           ;LOG ERROR FROM
DP DISK DRIVER
     20 104036                          LOG$DR: .BLKW           ;LOG ERROR FROM
DR DISK DRIVER
     21 104040                          LOG$DB: .BLKW           ;LOG ERROR FROM
DB DISK DRIVER
     22 104042                          LOG$DL: .BLKW           ;LOG ERROR FROM
DL DISK DRIVER
     23         000044                  LOG$SZ  =       .&377   ;SIZE OF ERRTBL
IN BYTES
     24
     25                                 ; ERROR LOGGING ENTRY POINT MACRO
     26
     27                                 .MACRO  ERRENT  CODE,ADDR=$$$$$$
     28                                 .DSABL  CRF
     29                                 $$$$$$  =       .
     30                                         TMPORG  ERRTBL,CODE-EMT
     31                                 .ENABL  CRF
     32                                          .WORD  ADDR            ; LOAD E
RRTBL FOR CODE
     33                                         UNORG
     34                                 .ENDM   ERRENT
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:14 PAGE 23


      1                                 ; ERROR LOG EXTERNAL CODES
      2
      3 104044                          .DSECT  ,NOCREF
      4
      5                                 .IIF    NE      .-0, .ERROR ;CPU GROUP D
OESN'T START AT 0
      6 000000                          ERC$XX: .BLKB           ;MISSED ERROR
      7 000001                          ERC$CK: .BLKB           ;RUN-TIME SYSTEM
 DECLARED ERROR
      8 000002                          ERC$J0: .BLKB           ;JUMP TO 0
      9 000003                          ERC$UI: .BLKB           ;TRAP TO ??
     10 000004                          ERC$T4: .BLKB           ;TRAP TO 4
     11 000005                          ERC$RI: .BLKB           ;TRAP TO 10
     12 000006                          ERC$PF: .BLKB           ;TRAP TO 24 (OR
START UP)
     13 000007                          ERC$PA: .BLKB           ;TRAP TO 114
     14 000010                          ERC$KT: .BLKB           ;TRAP TO 250
     15                                         .BLKB           ;RESERVED
     16                                         .BLKB           ;RESERVED
     17                                         .BLKB           ;RESERVED
     18                                 .IIF    NE      .-14, .ERROR ;DISK GROUP
 DOESN'T START AT 14
     19 000014                          ERC$DC: .BLKB           ;RC11/RS64 DISK
     20 000015                          ERC$DF: .BLKB           ;RF11/RS11 DISK
     21 000016                          ERC$DS: .BLKB           ;RH11/RS03/RS04
DISK
     22 000017                          ERC$DK: .BLKB           ;RK11/RK05 DISK
     23 000020                          ERC$DM: .BLKB           ;RK611/RK06/RK07
 DISK
     24 000021                          ERC$DP: .BLKB           ;RP11/RP02/RP03
DISK
     25 000022                          ERC$DR: .BLKB           ;RH11/RM02/RM03
DISK
     26 000023                          ERC$DB: .BLKB           ;RH11/RP04/RP05/
RP06 DISK
     27 000024                          ERC$DL: .BLKB           ;RL11/RL01/RL02
DISK
     28                                         .BLKB           ;RESERVED
     29                                         .BLKB           ;RESERVED
     30                                         .BLKB           ;RESERVED
     31                                 .IIF    NE      .-30, .ERROR ;DEVICE GRO
UP DOESN'T START AT 30
     32 000030                          ERC$KB: .BLKB           ;TERMINALS
     33 000031                          ERC$DT: .BLKB           ;DECTAPE
     34 000032                          ERC$LP: .BLKB           ;LINE PRINTERS
     35 000033                          ERC$PR: .BLKB           ;PAPER TAPE READ
ER
     36 000034                          ERC$PP: .BLKB           ;PAPER TAPE PUNC
H
     37 000035                          ERC$CR: .BLKB           ;CR11/CM11 CARD
READER
     38 000036                          ERC$CD: .BLKB           ;CD11 CARD READE
R
     39 000037                          ERC$MT: .BLKB           ;TM11/TU10 MAGTA
PE
     40 000040                          ERC$MM: .BLKB           ;RH11/TM02/TU16
MAGTAPE
     41 000041                          ERC$DX: .BLKB           ;RX11/RX211 FLOP
PY DISK
     42 000042                          ERC$XM: .BLKB           ;DMC11 NPR LINE
INTERFACE
     43 000043                          ERC$RJ: .BLKB           ;RJ2780
     44 000044                          ERC$XY: .BLKB           ;X-Y PLOTTER
     45 000045                          ERC$NW: .BLKB           ;DECNET
     46 000046                          ERC$MS: .BLKB           ;TS11/TS04 MAGTA
PE
     47 000047                          ERC$DD: .BLKB           ;TU58 DECTAPE II
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:14 PAGE 24


      1                                 ; RUN-TIME SYSTEM DESCRIPTION BLOCK (RTS
)
      2
      3 000050                          .DSECT  ,NOCREF
      4
      5 000000                          R.LINK: .BLKW           ;POINTER TO NEXT
 RTS
      6 000002                          R.NAME: .BLKW   2       ;2 WORD RAD50 RT
S NAME
      7 000006                          R.DEXT: .BLKW           ;DEFAULT EXTENSI
ON FOR RTS'S RUNNABLE IMAGES
      8 000010                          R.MCTL: .BLKB   MCBSIZ  ;MEMORY CONTROL
AREA
      9 000022                          R.DATA: .BLKB   FBBSIZ  ;FUN AND FBN OF
FILE DATA (I.E. THE RTS)
     10 000026                          R.FILE: .BLKB   FBBSIZ  ;N.E. OFFSET (/2
) AND FBN OF UFD FOR FILE
     11 000032                          R.CNT:  .BLKW           ;ACCESS AND RESI
DENCY COUNTS
     12 000034                          R.SIZE: .BLKB           ;MAXIMUM LEGAL J
OB IMAGE SIZE IN K
     13 000035                          R.MSIZ: .BLKB           ;MINIMUM LEGAL J
OB IMAGE SIZE IN K
     14 000036                          R.FLAG: .BLKW           ;RUN-TIME SYSTEM
 FLAGS
     15
     16 000040                          .EQUATE R.KSIZ,R.MCTL+M.SIZE,NOCREF ;RTS
 SIZE IN K
        000016                          R.KSIZ:
     17
     18 000016                          .BSECT  HIGH,NOCREF     ;FLAG BITS IN R.
FLAG
     19
     20 000400                          PF.KBM: .BLKB   .       ;RUN-TIME SYSTEM
 IS A KEYBOARD MONITOR
     21 001000                          PF.1US: .BLKB   .       ;ONLY 1 USER ALL
OWED
     22 002000                          PF.RW:  .BLKB   .       ;MAP RUN-TIME SY
STEM READ/WRITE
     23 004000                          PF.NER: .BLKB   .       ;DON'T ERROR LOG
 THIS RUN-TIME SYSTEM
     24 010000                          PF.REM: .BLKB   .       ;UNCONDITIONAL R
EMOVE FROM MEMORY ON EXIT
     25 020000                          PF.CSZ: .BLKB   .       ;RUN SIZE IS COM
PUTED FROM FILE SIZE
     26 040000                          PF.SLA: .BLKB   .       ;SAVE THE LOAD A
DDRESS (M.PHYA)
     27 100000                          PF.EMT: .BLKB   .       ;SPECIAL EMT HAN
DLING
     28
     29                                 ; RESIDENT LIBRARY DESCRIPTION BLOCK (LI
B)
     30
     31 000000                          .DSECT  ,NOCREF
     32
     33 000000                          R.LINK: .BLKW           ;POINTER TO NEXT
 RESIDENT LIBRARY
     34 000002                          R.NAME: .BLKW   2       ;2 WORD RAD50 RE
SIDENT LIBRARY NAME
     35 000006                          L.PPN:  .BLKW           ;RESIDENT LIBRAR
Y'S OWNING PPN
     36 000010                          R.MCTL: .BLKB   MCBSIZ  ;MEMORY CONTROL
AREA
     37 000022                          R.DATA: .BLKB   FBBSIZ  ;FUN AND FBN OF
FILE DATA (I.E. THE LIBRARY)
     38 000026                          R.FILE: .BLKB   FBBSIZ  ;N.E. OFFSET (/2
) AND FBN OF UFD FOR FILE
     39 000032                          R.CNT:  .BLKW           ;ATTACH AND MAP
COUNTS
     40 000034                          L.STAT: .BLKB           ;LIBRARY'S STATU
S
     41 000035                          L.PROT: .BLKB           ;LIBRARY'S PROTE
CTION CODE
     42 000036                          R.FLAG: .BLKW           ;RESIDENT LIBRAR
Y FLAGS
     43
     44 000040                          .EQUATE R.KSIZ,R.MCTL+M.SIZE,NOCREF ;RES
IDENT LIBRARY SIZE IN K
        000016                          R.KSIZ:
     45
     46 000016                          .BSECT  ,NOCREF         ;FLAG BITS IN L.
STAT
     47
     48                                         .BLKB   .       ;RESERVED
     49                                         .BLKB   .       ;RESERVED
     50                                         .BLKB   .       ;RESERVED
     51                                         .BLKB   .       ;RESERVED
     52                                         .BLKB   .       ;RESERVED
     53                                         .BLKB   .       ;RESERVED
     54                                         .BLKB   .       ;RESERVED
     55 000200                          LS.LIB: .BLKB   .       ;RESIDENT LIBRAR
Y BLOCK
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:14 PAGE 25


      1                                 ; LOCAL SEND/RECEIVE FUNCTION CODE MIN/M
AX
      2
      3 000400                          .EQUATE LCL$MN,-1,NOCREF ;MINIMUM LOCAL
CODE
        177777                          LCL$MN:
      4 177777                          .EQUATE LCL$MX,+3,NOCREF ;MAXIMUM LOCAL
CODE
        000003                          LCL$MX:
      5
      6                                 ; RECEIVER ID BLOCK (RIB)
      7
      8 000003                          .DSECT  ,NOCREF
      9
     10 000000                          S.LINK: .BLKW           ;LINK TO NEXT BL
OCK
     11 000002                          S.RCID: .BLKB   6       ;RECEIVER ID IN
ASCII
     12 000010                          S.JBNO: .BLKB           ;JOB NUMBER TIME
S 2
     13 000011                          S.OBJT: .BLKB           ;OBJECT TYPE (NE
TWORKS)
     14 000012                          S.ACCS: .BLKB           ;ACCESS CONTROL
     15                                         .BLKB           ;RESERVED
     16 000014                          S.BMAX: .BLKW           ;BUFFER MAXIMUM
IN BYTES
     17 000016                          S.MMAX: .BLKB           ;MESSAGE MAXIMUM
     18 000017                          S.MCNT: .BLKB           ;MESSAGE COUNT
     19 000020                          S.MLST: .BLKW   2       ;MESSAGE LIST RO
OT/TAIL POINTERS
     20 000024                          S.LMAX: .BLKB           ;LINK MAXIMUM
     21 000025                          S.LCNT: .BLKB           ;LINK COUNT
     22 000026                          S.LLST: .BLKW   2       ;LINK LIST ROOT/
TAIL POINTERS
     23                                         .BLKW   3       ;RESERVED FOR NE
TWORKS
     24
     25 000040                          .BSECT  ,NOCREF         ;BITS IN S.ACCS
     26
     27 000001                          SA.LCL: .BLKB   .       ;ALLOW LOCAL SEN
DERS
     28 000002                          SA.PRV: .BLKB   .       ;ALLOW ONLY PRIV
ILEGED LOCAL SENDERS
     29 000004                          SA.NET: .BLKB   .       ;ALLOW NETWORK S
ENDERS
     30 000010                          SA.1SH: .BLKB   .       ;NETWORK SINGLE
LINK MODE
     31                                         .BLKB   .       ;RESERVED
     32                                         .BLKB   .       ;RESERVED
     33                                         .BLKB   .       ;RESERVED
     34 000200                          SA.XOF: .BLKB   .       ;FURTHER LOCAL S
ENDS ARE 'XOFFED'
     35
     36                                 ; PENDING MESSAGE BLOCK (PMB)
     37
     38 000400                          .DSECT  ,NOCREF
     39
     40 000000                          P$LINK: .BLKW           ;LINK TO NEXT BL
OCK
     41 000002                          P$BUFA: .BLKW           ;"CONTORTED" BUF
FER ADDRESS
     42 000004                          P$TYPE: .BLKB           ;MESSAGE TYPE CO
DE
     43 000005                          P$SNDR: .BLKB           ;JOB NUMBER TIME
S 2 OF SENDER
     44 000006                          P$SPPN: .BLKW           ;PPN OF SENDER
     45                                         .BLKW           ;RESERVED
     46 000012                          P$BREM: .BLKW           ;BYTES REMAINING
 IN DATA MESSAGE
     47 000014                          P$PARM: .BLKB   20.     ;20. BYTES OF PA
RAMETERS
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:14 PAGE 26


      1                                 ; WINDOW DESCRIPTOR BLOCK (WDB)
      2
      3 000040                          .DSECT  ,NOCREF
      4
      5 000000                          W.LINK: .BLKW           ;LINK TO NEXT WD
B @ OFFSET+2
      6 000002                          W.ALIB: .BLKW   5       ;ATTACHED LIBRAR
Y(S) LIST
      7 000014                          W.WIN1: .BLKW   5       ;ADDRESS WINDOW
#1
      8 000026                          W.WIN2: .BLKW   5       ;ADDRESS WINDOW
#2
      9
     10 000040                          .EQUATE W.SIZE,W.WIN2-W.WIN1,NOCREF ;SIZ
E OF ONE WINDOW SLOT
        000012                          W.SIZE:
     11
     12 000012                          .DSECT  ,NOCREF         ;OFFSETS WITHIN
AN ADDRESS WINDOW
     13
     14 000000                          W$NAPR: .BLKB           ;WINDOW BASE APR
 (1-7)
     15 000001                          W$NSTS: .BLKB           ;WINDOW STATUS
     16 000002                          W$NSIZ: .BLKW           ;WINDOW SIZE/100
     17 000004                          W$NLIB: .BLKW           ;POINTER TO LIBR
ARY POINTER IN W.ALIB
     18 000006                          W$NOFF: .BLKW           ;MAP OFFSET/100
INTO LIBRARY
     19 000010                          W$NBYT: .BLKW           ;MAP LENGTH IN B
YTES
     20
     21 000012                          .BSECT HIGH,NOCREF      ;FLAG BITS IN W$
NSTS
     22
     23 000400                          WS$WRT: .BLKB   .       ;WRITE ACCESS DE
SIRED
     24                                         .BLKB   .       ;RESERVED
     25                                         .BLKB   .       ;RESERVED
     26                                         .BLKB   .       ;RESERVED
     27                                         .BLKB   .       ;RESERVED
     28                                         .BLKB   .       ;RESERVED
     29                                         .BLKB   .       ;RESERVED
     30 100000                          WS$MAP: .BLKB   .       ;WINDOW IS MAPPE
D
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:14 PAGE 27


      1                                 ; DISK CACHE CONTROL REGION LAYOUT
      2
      3 000000                          .DSECT  ,NOCREF
      4
      5 000000                          CH$CTL: .BLKW           ;400=>CACHEING E
NABLED; 0=>CACHEING DISABLED
      6 000002                          CH$TIC: .BLKW           ;1=>CHARGE CACHE
 TIME; 0=>NO CHARGE
      7 000004                          CH$SEC: .BLKW           ;APPROX SECONDS
SINCE BOOT (MOD 64K)
      8 000006                          CH$NXT: .BLKW           ;POINTER TO "FIR
ST" IN LIST @ +2 (1=>NO CACHER)
      9 000010                          CH$PRV: .BLKW           ;POINTER TO "LAS
T" IN LIST @ +0
     10 000012                          CH$PAR: .BLKW           ;PAR6 VALUE FOR
EXTENDED CACHE TAGS
     11 000014                          CH$TAG: .BLKW           ;LIST OF USABLE
EXTENDED CACHE TAGS
     12 000016                          CH$USM: .BLKW           ;-1=>USE MONITOR
 BUFFER POOL; 0=>DON'T USE IT
     13 000020                          CH$WTG: .BLKW           ;LIST OF USABLE
EXTENDED CACHE WRITE-TAGS
     14 000022                          CH$LIM: .BLKW           ;LIMIT OF TOTAL
NUMBER OF EXTENDED CACHE TAGS
     15 000024                          CH$FLM: .BLKW           ;LIMIT OF NUMBER
 OF EXTENDED CACHE DIRECTORY TAGS
     16 000026                          CH$DLM: .BLKW           ;LIMIT OF NUMBER
 OF EXTENDED CACHE DATA TAGS
     17 000030                          CH$MOD: .BLKB           ;0=>NO DATA; 1=>
OPEN MODE DATA; -1=>ALL DATA
     18 000031                          CH$DAT: .BLKB           ;0=>NO DATA CACH
EING; 200=>DATA CACHEING AVAILABLE
     19 000032                          CH$BSZ: .BLKW           ;SIZE OF A CACHE
 CLUSTER IN BLOCKS
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:14 PAGE 28


      1                                 ; TRANSFER CONTROL BLOCK (XRB)
      2
      3                                 ; USED BY USER TO INITIATE AN I/O REQUES
T
      4                                 ;       AND FOR MONITOR/USER DATA REQUES
TS.
      5
      6 000034                          .DSECT  ,NOCREF
      7
      8 000000                          XRLEN:  .BLKW           ;LENGTH OF I/O B
UFFER IN BYTES
      9 000002                          XRBC:   .BLKW           ;BYTE COUNT FOR
TRANSFER
     10 000004                          XRLOC:  .BLKW           ;POINTER TO I/O
BUFFER
     11 000006                          XRCI:   .BLKB           ;CHANNEL NUMBER
TIMES 2 FOR TRANSFER
     12 000007                          XRBLKM: .BLKB           ;RANDOM ACCESS B
LOCK NUMBER (MSB)
     13 000010                          XRBLK:  .BLKW           ;RANDOM ACCESS B
LOCK NUMBER (LSB)
     14 000012                          XRTIME: .BLKW           ;WAIT TIME FOR T
ERMINAL INPUT
     15 000014                          XRMOD:  .BLKW           ;MODIFIERS
     16 000016                          XRBSIZ:                 ;SIZE OF THE XRB
 IN BYTES
     17 000016                          XRBSAV: .BLKW           ;SAVED READ/WRIT
E INDICATION
     18 000020                          XRBUSE:                 ;SIZE OF "TO BE
SAVED" AREA IN BYTES
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:14 PAGE 29


      1                                 ; FILE REQUEST QUEUE BLOCK (FIRQB)  (PRO
NOUNCED 'FURK-BE')
      2
      3 000020                          .DSECT  ,NOCREF
      4
      5                                         .BLKW           ;QUEUE WORD, SET
 BY FIP
      6 000002                          FQJOB:  .BLKB           ;REQUESTING JOB
NUMBER TIMES 2
      7 000003                          FQFUN:  .BLKB           ;FUNCTION REQUES
TED
      8 000004                          FQERNO:                 ;ERROR MESSAGE C
ODE AND TEXT BEGIN
      9 000004                          FQFIL:  .BLKB           ;CHANNEL NUMBER
TIMES 2
     10 000005                          FQSIZM: .BLKB           ;FILE SIZE IN BL
OCKS (MSB)
     11 000006                          FQPPN:  .BLKW           ;PROJECT-PROGRAM
MER NUMBER
     12 000010                          FQNAM1: .BLKW   2       ;2 WORD FILENAME
 IN RADIX 50
     13 000014                          FQEXT:  .BLKW           ;.EXT IN RADIX 5
0
     14 000016                          FQSIZ:  .BLKW           ;FILE SIZE IN BL
OCKS (LSB)
     15 000020                          FQNAM2:                 ;3 WORD NEW FILE
 FILENAME.EXT IN RADIX 50
     16 000020                          FQSWIT:                 ;OPEN FOR OUTPUT
 SWITCH
     17 000020                          FQBUFL: .BLKW           ;DEFAULT BUFFER
LENGTH
     18 000022                          FQMODE: .BLKW           ;MODE INDICATOR
     19 000024                          FQFLAG: .BLKW           ;OPENED FILE'S F
LAG WORD
     20 000026                          FQPFLG: .BLKB           ;"PROTECTION COD
E REAL" INDICATOR
     21 000027                          FQPROT: .BLKB           ;NEW PROTECTION
CODE
     22 000030                          FQDEV:  .BLKW           ;2 BYTE ASCII DE
VICE NAME
     23 000032                          FQDEVN: .BLKB           ;1 BYTE UNIT NUM
BER
     24                                         .BLKB           ;"UNIT NUMBER RE
AL" INDICATOR
     25 000034                          FQCLUS: .BLKW           ;FILE CLUSTER SI
ZE FOR FILE CREATES
     26 000036                          FQNENT:                 ;NUMBER OF ENTRI
ES ON DIRECTORY LOOKUP
     27 000036                          FQADDR: .BLKW           ;DISPATCH/RETURN
 ADDRESS
     28 000040                          FQBSIZ:                 ;SIZE OF THE FIR
QB IN BYTES
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:14 PAGE 30


      1                                 ; MONITOR CALLS (EMT'S)
      2
      3 000040                          .DSECT  +EMT,NOCREF
      4
      5 104000                          CALFIP: .BLKW           ;CALL FIP, WITH
FIRQB LOADED
      6 104002                          .READ:  .BLKW           ;READ
      7 104004                          .WRITE: .BLKW           ;WRITE
      8 104006                          .CORE:  .BLKW           ;CHANGE USER MEM
ORY SIZE
      9 104010                          .SLEEP: .BLKW           ;SLEEP JOB FOR N
 SECONDS
     10 104012                          .PEEK:  .BLKW           ;PEEK AT MEMORY
     11 104014                          .SPEC:  .BLKW           ;SPECIAL FUNCTIO
N
     12 104016                          .TTAPE: .BLKW           ;ENTER TAPE MODE
     13 104020                          .TTECH: .BLKW           ;ENABLE ECHO
     14 104022                          .TTNCH: .BLKW           ;DISABLE ECHO
     15 104024                          .TTDDT: .BLKW           ;DDT SUBMODE
     16 104026                          .TTRST: .BLKW           ;CANCEL ^O EFFEC
T
     17 104030                          .TIME:  .BLKW           ;GET TIMING INFO
RMATION
     18 104032                          .POSTN: .BLKW           ;GET DEVICE'S HO
RIZONTAL POSITION
     19 104034                          .DATE:  .BLKW           ;GET CURRENT DAT
E & TIME
     20 104036                          .SET:   .BLKW           ;SET KEYWORD BIT
(S)
     21 104040                          .STAT:  .BLKW           ;GET MY STATISTI
CS
     22 104042                          .RUN:   .BLKW           ;RUN A NEW PROGR
AM
     23 104044                          .NAME:  .BLKW           ;INSTALL A NEW P
ROGRAM NAME
     24 104046                          .EXIT:  .BLKW           ;EXIT TO DEFAULT
 RUN-TIME SYSTEM
     25 104050                          .RTS:   .BLKW           ;CHANGE TO A NEW
 RUN-TIME SYSTEM
     26 104052                          .ERLOG: .BLKW           ;LOG AN ERROR FR
OM THE RUN-TIME SYSTEM
     27 104054                          .LOGS:  .BLKW           ;CHECK FOR LOGIC
AL DEVICES
     28 104056                          .CLEAR: .BLKW           ;CLEAR KEYWORD B
IT(S)
     29 104060                          .MESAG: .BLKW           ;MESSAGE SEND/RE
CEIVE
     30 104062                          .CCL:   .BLKW           ;CCL CHECKER
     31 104064                          .FSS:   .BLKW           ;FILE STRING SCA
NNER
     32 104066                          .UUO:   .BLKW           ;UUO HOOK
     33 104070                          .CHAIN: .BLKW           ;CHAIN TO A NEW
PROGRAM
     34 104072                          .PLAS:  .BLKW           ;RESIDENT LIBRAR
Y CONTROL
     35 104074                          .RSX:   .BLKW           ;ENTER RSX EMULA
TION
     36 104076                          .ULOG:  .BLKW           ;ASSIGN/REASSIGN
/DEASSIGN DEVICE/USER LOGICAL
     37         000100                  EMTSIZ  =       .&377   ;SIZE OF EMTTBL
IN BYTES
     38
     39                                 ; MONITOR CALLS (EMT'S) MACRO
     40
     41                                 .MACRO  EMTENT  NAME,ADDR=$$$$$$
     42                                 .DSABL  CRF
     43                                 $$$$$$  =       .
     44                                         TMPORG  EMTTBL,NAME-EMT
     45                                 .ENABL  CRF
     46                                          .WORD  ADDR            ; LOAD E
MTTBL FOR NAME
     47                                         UNORG
     48                                 .ENDM   EMTENT
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:14 PAGE 31


      1                                 ; FIP (FIRQB @ FQFUN) FUNCTION CODES
      2
      3 104100                          .DSECT  ,NOCREF
      4
      5 000000                          CLSFQ:  .BLKW           ;CLOSE AN OPEN C
HANNEL
      6 000002                          OPNFQ:  .BLKW           ;OPEN A CHANNEL
      7 000004                          CREFQ:  .BLKW           ;CREATE/EXTEND/O
PEN A CHANNEL
      8 000006                          DLNFQ:  .BLKW           ;DELETE A FILE B
Y NAME
      9 000010                          RENFQ:  .BLKW           ;RENAME A FILE
     10 000012                          DIRFQ:  .BLKW           ;DIRECTORY INFOR
MATION
     11 000014                          UUOFQ:  .BLKW           ;PROCESS UUO
     12 000016                          ERRFQ:  .BLKW           ;GET ERROR MESSA
GE TEXT
     13 000020                          RSTFQ:  .BLKW           ;RESET (CLOSE) [
ALL] CHANNEL[S EXCEPT 0]
     14 000022                          LOKFQ:  .BLKW           ;LOOKUP A FILE
     15 000024                          ASSFQ:  .BLKW           ;ASSIGN A DEVICE
     16 000026                          DEAFQ:  .BLKW           ;DEASSIGN A DEVI
CE
     17 000030                          DALFQ:  .BLKW           ;DEASSIGN ALL DE
VICES
     18 000032                          CRTFQ:  .BLKW           ;CREATE/EXTEND/O
PEN A UNIQUE .TMP FILE ON DISK
     19 000034                          CRBFQ:  .BLKW           ;CREATE/EXTEND/O
PEN A COMPILED IMAGE FILE ON DISK
     20
     21 000036                          NONRTS:                 ;STARTING VALUE
OF INTERNAL FUNCTIONS
     22
     23 000036                          RUNFQ:  .BLKW           ;RUN A PROGRAM I
MAGE
     24
     25 000040                          NONMSK:                 ;STARTING VALUE
OF NON-MASKED FUNCTIONS
     26
     27 000040                          WINFQ:  .BLKW           ;WINDOW TURNER F
OR DISK FILES
     28 000042                          EXTFQ:  .BLKW           ;EXTEND AN OPEN
DISK FILE
     29 000044                          BYEFQ:  .BLKW           ;LOGOUT A USER
     30 000046                          SNDFQ:  .BLKW           ;MESSAGE SEND
     31 000050                          RCVFQ:  .BLKW           ;MESSAGE RECEIVE
     32 000052                          NETFQ:  .BLKW           ;NETWORK UTILITI
ES
     33
     34 000054                          FQFSIZ:                 ;SIZE OF FIPTBL
IN BYTES
     35
     36 000054                          DSPFQ:  .BLKW           ;DO A GENERAL DI
SPATCH ON ADDRESS
     37
     38                                 ; .PLAS (FIRQB @ FQERNO) FUNCTION CODES
     39
     40 000056                          .DSECT  ,NOCREF
     41
     42 000000                          ATRFQ:  .BLKW           ;ATTACH REGION (
RESIDENT LIBRARY)
     43 000002                          DTRFQ:  .BLKW           ;DETACH REGION (
RESIDENT LIBRARY)
     44 000004                          CRAFQ:  .BLKW           ;CREATE ADDRESS
WINDOW
     45 000006                          ELAFQ:  .BLKW           ;ELIMINATE ADDRE
SS WINDOW
     46 000010                          MAPFQ:  .BLKW           ;MAP ADDRESS WIN
DOW
     47 000012                          UMPFQ:  .BLKW           ;UNMAP ADDRESS W
INDOW
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:14 PAGE 32


      1                                 ; .UUO/UUOFQ SUBFUNCTION CODES
      2
      3 000014                          .DSECT  -28.,NOCREF
      4
      5 177744                          UU$MIN:                 ;MOST NEGATIVE L
EGAL VALUE
      6 177744                          UU.SPL: .BLKB           ;-28., ONE-SHOT
SPOOLING REQUEST
      7 177745                          UU.DMP: .BLKB           ;-27., ONLINE MO
NITOR SNAPSHOT
      8 177746                          UU.FIL: .BLKB           ;-26., FILE UTIL
ITY
      9 177747                          UU.ATR: .BLKB           ;-25., READ/WRIT
E FILE ATTRIBUTES
     10 177750                          UU.CCL: .BLKB           ;-24., CCL COMMA
ND ADD/DELETE
     11                                         .BLKB           ;-23., RESERVED
(BASIC-PLUS TERMINATING FILE STRING SCAN)
     12                                         .BLKB           ;-22., RESERVED
(BASIC-PLUS SPECIAL RUN PRIORITY)
     13                                         .BLKB           ;-21., RESERVED
(BASIC-PLUS PRIVILEGE DROP/RESTORE)
     14                                         .BLKB           ;-20., RESERVED
(BASIC-PLUS MEMORY LOCK/UNLOCK)
     15 177755                          UU.LOG: .BLKB           ;-19., SET NUMBE
R OF ALLOWED LOGINS
     16 177756                          UU.RTS: .BLKB           ;-18., RUN-TIME
SYSTEM & RESIDENT LIBRARY CONTROL
     17 177757                          UU.NAM: .BLKB           ;-17., SET FILE'
S RUN-TIME SYSTEM NAME
     18 177760                          UU.DIE: .BLKB           ;-16., SPECIAL S
HUTUP LOGOUT
     19 177761                          UU.ACT: .BLKB           ;-15., ACCOUNTIN
G INFORMATION DUMP
     20 177762                          UU.DAT: .BLKB           ;-14., DATE/TIME
 CHANGER
     21 177763                          UU.PRI: .BLKB           ;-13., PRIORITY,
 RUN BURST, MAXIMUM CHANGER
     22 177764                          UU.TB2: .BLKB           ;-12., 2ND PART
OF MONITOR TABLES
     23 177765                          UU.BCK: .BLKB           ;-11., BACKUP FI
LE ACCOUNTING CHANGER
     24                                         .BLKB           ;-10., RESERVED
(BASIC-PLUS FILE STRING SCAN)
     25 177767                          UU.HNG: .BLKB           ; -9., HANGUP/EN
ABLE A DATASET
     26 177770                          UU.FCB: .BLKB           ; -8., GET FCB/D
DB INFORMATION
     27                                         .BLKB           ; -7., RESERVED
(BASIC-PLUS CONTROL/C TRAP ENABLE)
     28 177772                          UU.POK: .BLKB           ; -6., POKE MONI
TOR MEMORY
     29                                         .BLKB           ; -5., RESERVED
(BASIC-PLUS SEND TO TERMINAL)
     30                                         .BLKB           ; -4., RESERVED
(BASIC-PLUS FORCE TO TERMINAL)
     31 177775                          UU.TB1: .BLKB           ; -3., 1ST PART
OF MONITOR TABLES
     32 177776                          UU.NLG: .BLKB           ; -2., SET NUMBE
R OF ALLOWED LOGINS TO 1
     33 177777                          UU.YLG: .BLKB           ; -1., SET NUMBE
R OF ALLOWED LOGINS TO MAXIMUM
     34 000000                          UU.PAS: .BLKB           ; +0., CREATE AN
 ACCOUNT
     35 000001                          UU.DLU: .BLKB           ; +1., DELETE AN
 ACCOUNT
     36 000002                          UU.CLN: .BLKB           ; +2., CLEAN A D
ISK PACK
     37 000003                          UU.MNT: .BLKB           ; +3., DISK PACK
 MOUNT/DISMOUNT
     38 000004                          UU.LIN: .BLKB           ; +4., LOGIN
     39 000005                          UU.BYE: .BLKB           ; +5., LOGOUT
     40 000006                          UU.ATT: .BLKB           ; +6., ATTACH
     41 000007                          UU.DET: .BLKB           ; +7., DETACH
     42 000010                          UU.CHU: .BLKB           ; +8., CHANGE PA
SSWORD/QUOTA
     43 000011                          UU.ERR: .BLKB           ; +9., GET ERROR
 MESSAGE TEXT
     44 000012                          UU.ASS: .BLKB           ;+10., ASSIGN
     45 000013                          UU.DEA: .BLKB           ;+11., DEASSIGN
     46 000014                          UU.DAL: .BLKB           ;+12., DEASSIGN
ALL
     47 000015                          UU.ZER: .BLKB           ;+13., ZERO DEVI
CE
     48 000016                          UU.RAD: .BLKB           ;+14., READ ACCO
UNTING INFORMATION
     49 000017                          UU.DIR: .BLKB           ;+15., GET DIREC
TORY INFORMATION
     50 000020                          UU.TRM: .BLKB           ;+16., SET TERMI
NAL CHARACTERISTICS
     51 000021                          UU.LOK: .BLKB           ;+17., WILDCARD
DIRECTORY LOOKUP
     52                                         .BLKB           ;+18., RESERVED
(BASIC-PLUS OLD MESSAGE SEND/RECEIVE)
     53 000023                          UU.CHE: .BLKB           ;+19., CACHE ENA
BLE/DISABLE
     54 000024                          UU.CNV: .BLKB           ;+20., CONVERT D
ATE/TIME TO ASCII
     55 000025                          UU.SLN: .BLKB           ;+21., SET/CLEAR
 SYSTEM-WIDE LOGICAL NAMES
     56                                         .BLKB           ;+22., RESERVED
(BASIC-PLUS MESSAGE SEND/RECEIVE)
     57 000027                          UU.SWP: .BLKB           ;+23., ADD/REMOV
E SWAP, OVERLAY, ERROR MSG FILES
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:14 PAGE 32-1


     58 000030                          UU.JOB: .BLKB           ;+24., JOB CREAT
ION
     59 000031                          UU.PPN: .BLKB           ;+25., WILDCARD
PPN LOOKUP
     60 000032                          UU.SYS: .BLKB           ;+26., RETURN JO
B STATUS INFORMATION
     61 000033                          UU.KMC: .BLKB           ;+27., CONNECT K
MC-11 TO ANOTHER DEVICE
     62                                         .BLKB   -1      ;CORRECTION FOR
BELOW
     63 000033                          UU$MAX:                 ;MOST POSITIVE L
EGAL VALUE
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:14 PAGE 33


      1                                 ; BUFFER CHAIN CONTROL SUB-BLOCK
      2
      3 000033                          .DSECT  ,NOCREF
      4
      5 000000                          EP:     .BLKW           ;EMPTY POINTER
      6 000002                          FP:     .BLKW           ;FILL POINTER
      7 000004                          BC:     .BLKW           ;BUFFER COUNT
      8 000006                          BCBSIZ:                 ;SIZE OF THE BUF
FER CONTROL SUB-BLOCK IN BYTES
      9
     10                                 ; DEVICE DATA BLOCK (DDB)
     11
     12                                 ; THE NON-DEVICE DEPENDENT ENTRIES IN TH
E DDB ARE:
     13
     14 000006                          .DSECT  ,NOCREF
     15
     16                                 ; THE FOLLOWING ENTRIES ARE REQUIRED TO
BE IN ALL DDB'S
     17
     18 000000                          DDIDX:  .BLKB           ;DRIVER INDEX
     19 000001                          DDSTS:  .BLKB           ;STATUS AND ACCE
SS CONTROL BYTE
     20 000002                          DDJBNO: .BLKB           ;OWNER JOB NUMBE
R TIMES 2 (0 IF FREE)
     21 000003                          DDUNT:  .BLKB           ;DEVICE UNIT NUM
BER
     22 000004                          DDTIME: .BLKW           ;TIME ASSIGNED O
R INITED
     23 000006                          DDCNT:  .BLKW           ;INIT COUNT AND
ASSIGNMENT CONTROL
     24
     25                                 ; THE FOLLOWING ENTRIES SHOULD APPEAR ON
LY IF USED
     26
     27 000010                          DDFLAG: .BLKW           ;DEVICE DEPENDEN
T FLAGS
     28 000012                          DDBUFC: .BLKB   BCBSIZ  ;BUFFER CHAIN CO
NTROL AREA
     29 000020                          DDHORZ: .BLKB           ;HORIZONTAL POSI
TION
     30 000021                          DDHORC: .BLKB           ;CHARACTERS PER
LINE+1
     31
     32                                 ; BIT ASSIGNMENTS FOR DDB STATUS WORDS A
RE AS FOLLOWS:
     33
     34 000022                          .BSECT  HIGH,NOCREF     ;IN DDSTS (AS A
WORD)
     35
     36 000400                          DDPRVO: .BLKB   .       ;OWNERSHIP REQUI
RES PRIV'S
     37 001000                          DDRLO:  .BLKB   .       ;READ LOCK FOR D
EVICE IF SET
     38 002000                          DDWLO:  .BLKB   .       ;WRITE LOCK FOR
DEVICE IF SET
     39 004000                          DDNET:  .BLKB   .       ;NETWORK DEVICE
     40                                         .BLKB   .       ;RESERVED
     41 020000                          DDAUX:  .BLKB   .       ;DEVICE ACCEPTS
BRIDGE CONNECTIONS
     42 040000                          DDAUXA: .BLKB   .       ;BRIDGE CONNECTI
ON IS ACTIVE
     43 100000                          DDSTAT: .BLKB   .       ;INTERNAL STATUS
, CLEARED BY "CLOSE"
     44
     45 000000                          .BSECT  HIGH,NOCREF     ;IN DDCNT
     46
     47                                         .BLKB   .       ;RESERVED
     48                                         .BLKB   .       ;RESERVED
     49                                         .BLKB   .       ;RESERVED
     50                                         .BLKB   .       ;RESERVED
     51                                         .BLKB   .       ;RESERVED
     52 020000                          DDCONS: .BLKB   .       ;DEVICE IS THE C
ONSOLE DEVICE
     53 040000                          DDUTIL: .BLKB   .       ;DEVICE ASSIGNED
 FOR UTILTY SEQUENCE
     54 100000                          DDASN:  .BLKB   .       ;DEVICE ASSIGNED
 THROUGH COMMAND
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:14 PAGE 34


      1                                 ; DEVICE DRIVER TO AUXILIARY PROCESSOR B
RIDGE BLOCK (BB)
      2
      3 000000                          .DSECT  ,NOCREF
      4
      5 000000                          BBSTS:  .BLKB           ;STATUS
      6 000001                          BBDOFF: .BLKB           ;DATA OFFSET WIT
HIN DATA BUFFER
      7 000002                          BBGIRB: .BLKW           ;POINTER TO "GET
 IRB/DATA BUFFER" SUBROUTINE
      8 000004                          BBASND: .BLKW           ;POINTER TO "SEN
D IRB/DATA BUFFER" SUBROUTINE
      9 000006                          BBAAP5: .BLKW           ;POINTER TO PAR5
 VALUE FOR ABOVE TWO SUBROUTINES
     10 000010                          BBDUNT: .BLKB           ;DEVICE'S CONTRO
L UNIT NUMBER
     11 000011                          BBAUNT: .BLKB           ;AUXILIARY'S CON
TROL UNIT NUMBER
     12 000012                          BBDSTA: .BLKW           ;POINTER TO "STA
TUS CHANGE" ENTRY IN DEVICE DRIVER
     13 000014                          BBDINT: .BLKW           ;POINTER TO "INT
ERRUPT" ENTRY IN DEVICE DRIVER
     14 000016                          BBDAP5: .BLKW           ;POINTER TO PAR5
 VALUE FOR ABOVE TWO ENTRY POINTS
     15                                         .BLKW   8.      ;RESERVED
     16
     17                                 ; INTERPROCESS REQUEST BLOCK (IRB)
     18
     19 000040                          .DSECT  ,NOCREF
     20
     21 000000                          IRBFUN: .BLKW           ;FUNCITON CODE &
 ITS MODIFIER
     22 000002                          IRBSTA: .BLKW           ;STATUS
     23 000004                          IRBCHN: .BLKB           ;CHANNEL NUMBER
     24 000005                          IRB18M: .BLKB           ;MSB OF 18-BIT U
NIBUS ADDRESS OF DATA WITHIN BUFFER
     25 000006                          IRB18L: .BLKW           ;LSB OF 18-BIT U
NIBUS ADDRESS OF DATA WITHIN BUFFER
     26 000010                          IRBMOD: .BLKW           ;DATA MODIFIER
     27 000012                          IRBCON: .BLKW           ;CONTORTED ADDRE
SS OF DATA BUFFER
     28 000014                          IRBNXT: .BLKW           ;LINK TO NEXT IR
B (IF CHAINED)
     29 000016                          IRBBFL: .BLKW           ;BYTE SIZE OF DA
TA WITHIN DATA BUFFER
     30 000020                          IRBMMU: .BLKW           ;MMU ADDRESS OF
WHOLE DATA BUFFER
     31 000022                          IRBSIZ: .BLKW           ;BYTE SIZE OF WH
OLE DATA BUFFER
     32 000024                          IRBDPT: .BLKW           ;VIRTUAL (THROUG
H PAR6) DONE POINTER
     33 000026                          IRBFPT: .BLKW           ;VIRTUAL (THROUG
H PAR6) FILL POINTER
     34 000030                          IRBEPT: .BLKW           ;VIRTUAL (THROUG
H PAR6) EMPTY POINTER
     35                                         .BLKW   3       ;RESERVED
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:14 PAGE 35


      1                                 ; MONITOR LOW MEMORY AREA DEFINED
      2
      3 000040                          .DSECT  ,NOCREF
      4
      5                                         .BLKB   1000    ;RESERVED FOR VE
CTORS
      6 001000                          DATE:   .BLKW           ;TODAY'S DATE IN
 INTERNAL FORM
      7 001002                          TIME:   .BLKW           ;CURRENT TIME IN
 INTERNAL FORM
      8 001004                          TIMSEC: .BLKB           ;SECONDS TO NEXT
 MINUTE
      9 001005                          TIMCLK: .BLKB           ;TICKS TO NEXT S
ECOND
     10 001006                          JOB:    .BLKB           ;JOB RUNNING NOW
     11 001007                          NEXT:   .BLKB           ;NEXT JOB TO RUN
     12 001010                          JOBDA:  .BLKW           ;POINTER TO CURR
ENT JOB DATA BLOCK (JDB)
     13 001012                          JOBF:   .BLKW           ;POINTER TO CURR
ENT FLAGS (JDB @ JDFLG)
     14 001014                          IOSTS:  .BLKW           ;POINTER TO CURR
ENT I/O STATUS (JDB @ JDIOST)
     15 001016                          JOBWRK: .BLKW           ;POINTER TO JOB'
S WORK BLOCK (WRK)
     16 001020                          JOBJD2: .BLKW           ;POINTER TO JOB'
S SECOND JOB DATA BLOCK (JDB2)
     17 001022                          JOBRTS: .BLKW           ;POINTER TO JOB'
S RUN-TIME SYSTEM BLOCK (RTS)
     18 001024                          CPUTIM: .BLKW           ;POINTER TO CURR
ENT CPU TIME BUCKET
     19 001026                          JOBWDB: .BLKW           ;POINTER TO JOB'
S WINDOW DESCRIPTOR BLOCK (WDB)
     20
     21                                 ; JOB UNIQUE LOW MEMORY LAYOUT
     22
     23 001030                          .DSECT  ,NOCREF
     24
     25                                         .BLKW   30      ;JOB CONTROLLED
     26 000060                          CONTXT: .BLKW   15      ;RESERVED FOR MO
NITOR CONTEXT USE
     27 000112                          FPPTXT: .BLKW   30      ;RESERVED FOR MO
NITOR FPP CONTEXT USE
     28                                         .BLKW   103     ;JOB'S SP STACK
AREA
     29 000400                          USRSP:                  ;DEFAULT (INITIA
L) JOB SP STACK SETTING
     30 000400                          KEY:    .BLKW           ;KEYWORD OF JOB'
S CURRENT STATUS
     31 000402                          FIRQB:  .BLKB   FQBSIZ  ;FILE REQUEST QU
EUE BLOCK
     32 000442                          XRB:    .BLKB   XRBSIZ  ;TRANSFER CONTRO
L BLOCK
     33 000460                          CORCMN: .BLKB   200     ;CCL LINE COMMON
     34                                         .BLKW   26      ;JOB CONTROLLED
     35 000734                          USRPPN: .BLKW           ;USER'S ASSIGNAB
LE PPN
     36 000736                          USRPRT: .BLKW           ;USER'S ASSIGNAB
LE PROTECTION CODE
     37 000740                          USRLOG: .BLKW   4*4     ;USER'S LOGICAL
DEVICE TABLE
     38 001000                          NSTORG:                 ;END OF LOW MEMO
RY FIXED LAYOUT
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:14 PAGE 36


      1                                 ; ARGUMENT FORMS FOR "BUFFER" CALLS:
      2
      3                                 .MACRO  BUFFER  TYPE,CLEAR,LEAVE
      4                                 .IF     IDN     <TYPE>,<GETSML>
      5                                 .DSABL  CRF
      6                                 $$$$$$  =       16.-1
      7                                 .IIF    NB      <CLEAR>,        $$$$$$=C
LEAR-1
      8                                 .IIF    LT      $$$$$$,         $$$$$$=0
      9                                 .IIF    LE      16.-$$$$$$,     $$$$$$=1
6.-1
     10                                 .ENABL  CRF
     11                                          .WORD  IOT,TYPE-$$$$$$+<LEAVE+0
&177*400>
     12                                 .MEXIT
     13                                 .ENDC
     14                                          .WORD  IOT,TYPE
     15                                 .ENDM   BUFFER
     16
     17 001000                          .EQUATE GETSML,000377,NOCREF    ;GET 16.
 WD MONITOR BUFFER
        000377                          GETSML:
     18
     19 000377                          .EQUATE RETSML,000040,NOCREF    ;RETURN
16. WD MONITOR BUFFER
        000040                          RETSML:
     20
     21 000040                          .EQUATE RETURN,000000,NOCREF    ;RETURN
N WD BUFFER
        000000                          RETURN:
     22
     23                                 ; BUFFER HEADER DEFINITIONS
     24
     25 000000                          .DSECT  ,NOCREF
     26
     27 000000                          BF.SIZ: .BLKW           ;BUFFER SIZE IN
BYTES
     28 000002                          BF.OFF: .BLKW           ;BYTE OFFSET TO
DATA IN BUFFER
     29 000004                          BF.LNK: .BLKW           ;LINK "ADDRESS"
TO NEXT BUFFER
     30 000006                          BF.CNT: .BLKW           ;DATA SIZE IN BY
TES
     31 000010                          BUFHDR:                 ;BUFFER HEADER S
IZE IN BYTES
     32
     33                                 ; BIG BUFFER SUB-BLOCK
     34
     35 000010                          .DSECT  ,NOCREF
     36
     37                                         .BLKW           ;QUEUE LINK WORD
     38 000002                          BGQRET: .BLKW           ;RETURN ADDRESS
TO DRIVER
     39                                         .BLKW           ;UNUSED BY BIG B
UFFER ROUTINES
     40 000006                          BGBUFF: .BLKW           ;BIG BUFFER ADDR
ESS
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:14 PAGE 37


      1                                 ; DISK REQUEST QUEUE ENTRY BLOCK (DSQ)
      2
      3 000010                          .DSECT  ,NOCREF
      4
      5                                         .BLKW           ;QUEUE LINK WORD
      6 000002                          DSQJOB: .BLKB           ;REQUESTING JOB
NUMBER TIMES 2
      7 000003                          DSQERR: .BLKB           ;RETRY COUNT AND
 ERROR FLAG
      8 000004                          DSQL3Q: .BLKW           ;COMPLETION QUEU
E AND L3Q BITS TO SET
      9 000006                          DSQUNT: .BLKB           ;FIP UNIT NUMBER
     10 000007                          DSQFBM: .BLKB           ;FIP BLOCK NUMBE
R (MSB)
     11 000010                          DSQFBL: .BLKW           ;FIP BLOCK NUMBE
R (LSB)
     12 000012                          DSQRFN: .BLKB           ;RH11 FUNCTION
     13 000013                          DSQMAM: .BLKB           ;MEMORY ADDRESS
OF THE TRANSFER (MSB)
     14 000014                          DSQMAL: .BLKW           ;MEMORY ADDRESS
OF THE TRANSFER (LSB)
     15 000016                          DSQCNT: .BLKW           ;WORD COUNT OF T
HE TRANSFER
     16 000020                          DSQFUN: .BLKB           ;OPERATION FUNCT
ION CODE
     17 000021                          DSQFAR: .BLKB           ;QUEUE FAIRNESS
OR PRIORITY
     18 000022                          DSQMSC: .BLKW           ;MISC. POINTER
     19 000024                          DSQTOT: .BLKW           ;TOTAL TRANSFER
COUNTER
     20 000026                          DSQPDA: .BLKW           ;PHYSICAL DISK A
DDRESS
     21 000030                          DSQOPT: .BLKW           ;DISK OPTIMIZATI
ON WORD
     22 000032                          DSQOUN: .BLKB           ;PHYSICAL DISK U
NIT NUMBER * 2
     23 000033                          DSQSAV: .BLKB           ;SAVED FUNCTION
     24 000034                          DSQPTO: .BLKW           ;OFFSET POINTER
     25 000036                          DSQCTO: .BLKB           ;OFFSET RETRY CO
UNTER
     26 000037                          DSQPUN: .BLKB           ;PHYSICAL DISK U
NIT NUMBER
     27 000040                          DSQSIZ:                 ;SIZE OF A DSQ I
N BYTES
     28
     29                                 ; DISK FUNCTION CODES, TO BE LOADED INTO
 DSQFUN
     30
     31 000040                          .DSECT  ,NOCREF
     32
     33 000000                          WFUN.C: .BLKW           ;WRITE WITH WRIT
E CHECK DISK
     34 000002                          WFUN:   .BLKW           ;WRITE DISK
     35 000004                          RFUN:   .BLKW           ;READ DISK
     36 000006                          RFUN.C: .BLKW           ;WRITE CHECK DIS
K
     37
     38                                 ; DISK DRIVER 'D?DINT' LAYOUT
     39
     40 000010                          .DSECT  ,NOCREF
     41
     42                                         .BLKW   4       ;INTERRUPTS: JSR
 R5,@#(PC)+, INTSVX, DSKAP5, INT$D?
     43 000010                          QDS$OO: .BLKW           ;ENTRY FOR SETTI
NG UP A DSQ
     44 000012                          DQS$OO: .BLKW           ;BASE QUEUE ROOT
 POINTER
     45 000014                          UMR$OO: .BLKW           ;ENTRY FOR UMR F
REED UP
     46 000016                          TMO$OO: .BLKW           ;ENTRY FOR TIMEO
UTS
     47 000020                          DSKSIZ:                 ;SIZE OF 'D?DINT
' IN BYTES
     48
     49                                 .IIF    NDF     L$$IST, .ENABL  CRF
     50                                 .IIF    NDF     L$$IST, .LIST
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:14 PAGE 38


      1 000020                          TITLE   CONFIG,<CONFIGURATION PARAMETERS
>,07,18-OCT-86,RSTS
                                        .TITLE  CONFIG  CONFIGURATION PARAMETERS
                                        .IDENT  "07.007"
                                        .SBTTL
                                        .SBTTL  CONFIG  CONFIGURATION PARAMETERS
                                        .SBTTL
                                        .SBTTL  EDIT:           DATE:
BY:
                                        .SBTTL   07           18-OCT-86
RSTS
                                        .SBTTL
      2
      3                                 ;
      4                                 ;       COPYRIGHT (C) 1974, 1975, 1976,
1977, 1978, 1979, 198: BY
      5                                 ;       DIGITAL EQUIPMENT CORPORATION, M
AYNARD, MASS.
      6                                 ;
      7                                 ; THIS SOFTWARE IS FURNISHED UNDER A LIC
ENSE AND MAY BE USED AND  COPIED
      8                                 ; ONLY  IN  ACCORDANCE  WITH  THE  TERMS
  OF  SUCH  LICENSE AND WITH THE
      9                                 ; INCLUSION OF THE ABOVE COPYRIGHT NOTIC
E.  THIS SOFTWARE OR  ANY  OTHER
     10                                 ; COPIES  THEREOF MAY NOT BE PROVIDED OR
 OTHERWISE MADE AVAILABLE TO ANY
     11                                 ; OTHER PERSON.  NO TITLE TO AND OWNERSH
IP OF  THE  SOFTWARE  IS  HEREBY
     12                                 ; TRANSFERRED.
     13                                 ;
     14                                 ; THE INFORMATION IN THIS SOFTWARE IS SU
BJECT TO CHANGE  WITHOUT  NOTICE
     15                                 ; AND  SHOULD  NOT  BE  CONSTRUED  AS  A
 COMMITMENT BY DIGITAL EQUIPMENT
     16                                 ; CORPORATION.
     17                                 ;
     18                                 ; DIGITAL ASSUMES NO RESPONSIBILITY FOR
THE USE  OR  RELIABILITY  OF ITS
     19                                 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUP
PLIED BY DIGITAL.
     20                                 ;
 CONFIG  CONFIGURATION PARAMETER MACRO V03.01 18-OCT-86 01:52:14 PAGE 39


      1                                 ; SYSTEM LEVEL
      2
      3         033460                  SYSVEN  =       "07     ;EDIT NUMBER
      4
      5                                 ; TERMINAL TYPES
      6
      7         000020                  KL11    =       16.     ;# OF KL11 TYPE
INTERFACES (INCLUDING CONSOLE)
      8         000000                  DC11    =       0.      ;# OF DC11 TYPE
INTERFACES
      9         000020                  DL11CD  =       16.     ;# OF DL11C AND
DL11D TYPE INTERFACES
     10         000000                  DL11E   =       0.      ;# OF DL11E TYPE
 INTERFACES
     11
     12         000004                  PK11    =       4.      ;# OF PSEUDO-KEY
BOARDS
     13
     14         000002                  DJ11    =       2.      ;# OF DJ11 MULTI
PLEXERS
     15         000020                  DJ0NL   =       16.     ;NUMBER OF LINES
 ENABLED
     16         000020                  DJ1NL   =       16.     ;NUMBER OF LINES
 ENABLED
     17
     18         000000                  DH11    =       0.      ;# OF DH11 MULTI
PLEXERS
     19         000000                  DM11BB  =       0       ;1 IF DM11BB'S;
ELSE 0
     20
     21         000000                  DZ11    =       0.      ;# OF DZ11 MULTI
PLEXERS
     22         000000                  DZ11AB  =       0       ;1 IF DZ11A/B'S;
 ELSE 0
     23
     24                                 ; TERMINAL OPTIONS
     25
     26         000000                  SL2741  =       0       ;1 IF 2741'S ON
SL INTERFACES; ELSE 0
     27         000000                  DH2741  =       0       ;1 IF 2741'S ON
DH11; ELSE 0
     28         000000                  DZ2741  =       0       ;1 IF 2741'S ON
DZ11; ELSE 0
     29         000000                  KBCORR  =       0       ;2741 CORRESPOND
ENCE CODE
     30         000000                  KBEBCD  =       0       ;2741 EBCD CODE
     31         000000                  KBBCD   =       0       ;2741 BCD  CODE
     32         000000                  KBC360  =       0       ;2741 CALL 360 B
ASIC CODE
     33
     34         000001                  MULTTY  =       1       ;1 IF MULTI-TERM
INAL OPTION; ELSE 0
     35         000001                  EKOCTL  =       1       ;1 IF ECHO CONTR
OL OPTION; ELSE 0
     36
     37                                 ; DISKS
     38
     39         000000                  CNT.DC  =       0.      ;1. IF RC11/RS64
; ELSE 0
     40         000000                  CNT.DF  =       0.      ;1. IF RF11/RS11
; ELSE 0
     41         000000                  CNT.DS  =       0.      ;# OF RS03/RS04'
S; ELSE 0
     42         000000                  CNT.DK  =       0.      ;# OF RK05'S; EL
SE 0
     43         000004                  CNT.DL  =       4.      ;# OF RL01'S; EL
SE 0
     44         000000                  CNT.DM  =       0.      ;# OF RK06/7'S;
ELSE 0
     45         000000                  CNT.DP  =       0.      ;# OF RP02/RP03'
S; ELSE 0
     46         000010                  CNT.DR  =       8.      ;# OF RM02/3'S;
ELSE 0
     47         000010                  CNT.DB  =       8.      ;# OF RP04/5/6'S
; ELSE 0
     48
     49                                 ; OTHER DEVICES
     50
     51         000002                  TM02    =       2.      ;# OF TU16/TE16/
TU45/TU77'S; ELSE 0
     52
     53         000000                  TM11    =       0.      ;# OF TU10/TE10/
TS03'S; ELSE 0
     54
     55         000000                  TS11    =       0.      ;# OF TS11'S; EL
SE 0
     56
     57         000000                  TC11    =       0.      ;# OF DECTAPE DR
IVES; ELSE 0
 CONFIG  CONFIGURATION PARAMETER MACRO V03.01 18-OCT-86 01:52:14 PAGE 39-1


     58
     59         000000                  TU58    =       0.      ;# OF DECTAPE II
 DRIVES; ELSE 0
     60
     61         000001                  LP11    =       1.      ;# OF LINE PRINT
ERS; ELSE 0
     62
     63         000010                  RX11    =       8.      ;# OF FLOPPY DRI
VES; ELSE 0
     64
     65         000000                  DMC11   =       0.      ;# OF DMC11'S; E
LSE 0
     66
     67         000000                  KMC11   =       0.      ;# OF KMC11'S; E
LSE 0
     68
     69         000000                  II11    =       0.      ;# OF KMC/3271 L
INKS; ELSE 0
     70
     71         000000                  CR11    =       0.      ;1 IF CR11/CM11;
 ELSE 0
     72
     73         000000                  CD11    =       0.      ;1 IF CD11; ELSE
 0
     74
     75         000001                  PR11    =       1.      ;1 IF PAPER TAPE
 READER; ELSE 0
     76
     77         000001                  PP11    =       1.      ;1 IF PAPER TAPE
 PUNCH; ELSE 0
     78
     79         000000                  RJ2780  =       0       ;"DP OR "DU FOR
2780; ELSE 0
     80
     81                                 ; SYSTEM PARAMETERS
     82
     83         000030                  JOBMAX  =       24.     ;MAXIMUM # OF JO
BS
     84
     85         000012                  LOGICL  =       10.     ;# OF SYSTEM WID
E LOGICALS
     86
     87         000001                  QSTATS  =       1       ;1 FOR QUEUE STA
TISTICS
     88         000001                  JSTATS  =       1       ;1 FOR JOB STATI
STICS
     89         000001                  DSTATS  =       1       ;1 FOR DISK STAT
ISTICS
 CONFIG  CONFIGURATION PARAMETER MACRO V03.01 18-OCT-86 01:52:14 PAGE 40


      1                                 .IIF    NDF     L$$IST, .NLIST
      2                                 .IIF    NDF     L$$IST, .DSABL  CRF
      3 000020                          TITLE   CHECK,<CHECK CONFIGURATION PARAM
ETERS>,07,22-SEP-79,MHB/SJK
                                        .TITLE  CHECK   CHECK CONFIGURATION PARA
METERS
                                        .IDENT  "07.007"
                                        .SBTTL
                                        .SBTTL  CHECK   CHECK CONFIGURATION PARA
METERS
                                        .SBTTL
                                        .SBTTL  EDIT:           DATE:
BY:
                                        .SBTTL   07           22-SEP-79
MHB/SJK
                                        .SBTTL
      4
      5                                 ;
      6                                 ;       COPYRIGHT (C) 1974, 1975, 1976,
1977, 1978, 1979 BY
      7                                 ;       DIGITAL EQUIPMENT CORPORATION, M
AYNARD, MASS.
      8                                 ;
      9                                 ; THIS SOFTWARE IS FURNISHED UNDER A LIC
ENSE AND MAY BE USED AND  COPIED
     10                                 ; ONLY  IN  ACCORDANCE  WITH  THE  TERMS
  OF  SUCH  LICENSE AND WITH THE
     11                                 ; INCLUSION OF THE ABOVE COPYRIGHT NOTIC
E.  THIS SOFTWARE OR  ANY  OTHER
     12                                 ; COPIES  THEREOF MAY NOT BE PROVIDED OR
 OTHERWISE MADE AVAILABLE TO ANY
     13                                 ; OTHER PERSON.  NO TITLE TO AND OWNERSH
IP OF  THE  SOFTWARE  IS  HEREBY
     14                                 ; TRANSFERRED.
     15                                 ;
     16                                 ; THE INFORMATION IN THIS SOFTWARE IS SU
BJECT TO CHANGE  WITHOUT  NOTICE
     17                                 ; AND  SHOULD  NOT  BE  CONSTRUED  AS  A
 COMMITMENT BY DIGITAL EQUIPMENT
     18                                 ; CORPORATION.
     19                                 ;
     20                                 ; DIGITAL ASSUMES NO RESPONSIBILITY FOR
THE USE  OR  RELIABILITY  OF ITS
     21                                 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUP
PLIED BY DIGITAL.
     22                                 ;
 CHECK   CHECK CONFIGURATION PAR MACRO V03.01 18-OCT-86 01:52:14 PAGE 41


      1                                 ; DEVICE NAMING MACROS
      2
      3                                 .MACRO  $DISKS  Z
      4                                 Z'.IRP  NAME,<DC,DF,DS,DK,DL,DM,DP,DR,DB
>
      5                                 .ENDM   $DISKS
      6
      7                                 .MACRO  $NAMES  LAB,RAB,Z
      8                                 Z'.IRP  NAME,<LAB'SY'RAB>
      9                                 .ENDM   $NAMES
     10
     11                                 .MACRO  $KBS    Z
     12                                 Z'.IRP  NAME,<KL,DC,DL,DE,PK,DJ,DH,DZ>
     13                                 .ENDM   $KBS
     14
     15                                 .MACRO  DEVICE  NN,AN,L3QBITS,ZZ
     16                                 .DSABL  CRF
     17                                 $NAMES  ^!^%NAME,<LAB'!,^!,NN''RAB>%!
     18                                 .MACRO  $NAMES  LAB,RAB,Z
     19                                 Z'.IRP  NAME
     20                                 .ENDM   $NAMES
     21                                 ZZ'.ENDM
     22                                 .IF     NB      <AN>
     23                                 ALT.'NN =       "AN
     24                                 .ENDC
     25                                 .MACRO  L3Q$'NN
     26                                 .IRP    ITEM,<L3QBITS>
     27                                 .NCHR   $$$$$$,<ITEM>
     28                                 .IF     EQ      $$$$$$-3
     29                                 .LIST
     30                                 Q'NN''ITEM::.BLKB       .&77777 ;LEVEL 3
 QUEUE BIT FOR NN FOR ITEM
     31                                 .NLIST
     32                                 .IFF
     33                                 .LIST
     34                                 Q'NN''ITEM::    .BLKB   .&77777 ;LEVEL 3
 QUEUE BIT FOR NN FOR ITEM
     35                                 .NLIST
     36                                 .ENDC
     37                                         L3QENT  Q'NN''ITEM,ITEM'$'NN,NN'
DAP5
     38                                 .GLOBL  ITEM'$'NN
     39                                 .ASECT
     40                                 .ENDM
     41                                 .ENDM   L3Q$'NN
     42                                 .ENABL  CRF
     43                                 .ENDM   DEVICE
 CHECK   CHECK CONFIGURATION PAR MACRO V03.01 18-OCT-86 01:52:14 PAGE 42


      1                                 ; DO TERMINAL CHECKS
      2
      3         000000                  KB2741  =       SL2741 ! DH2741 ! DZ2741
 ;1 IF 2741'S; ELSE 0
      4
      5         000040                  PKSTKB  =       KL11+DC11+DL11CD+DL11E ;
STARTING KB # FOR PK'S
      6
      7         000044                  CNT.KB  =       KL11+DC11+DL11CD+DL11E+P
K11 ;TOTAL # OF SINGLE LINE TERMINALS
      8
      9                                 .IRP    XX,<DJ,DH,DZ>
     10                                 $$$$$$  =       0
     11                                 .REPT   XX'11
     12                                 .RADIX  10
     13                                 .IRP    N,<\$$$$$$>
     14                                 .RADIX  8
     15                                 CNT.KB  =       CNT.KB+XX''N'NL
     16                                 .ENDM
     17                                 $$$$$$  =       $$$$$$+1
     18                                 .ENDR
     19                                 .ENDM
     20
     21                                 ; DEFAULT SOME PARAMETERS
     22
     23                                 .IIF    NDF     JSTATS, JSTATS=0
;ASSUME NO JOB STATISTICS
     24                                 .IIF    NDF     DSTATS, DSTATS=0
;ASSUME NO DISK STATISTICS
     25                                 .IIF    NDF     QSTATS, QSTATS=0
;ASSUME NO QUEUE STATISTICS
     26
     27                                 .IIF    NDF     L$$IST, .ENABL  CRF
     28                                 .IIF    NDF     L$$IST, .LIST
 CHECK   CHECK CONFIGURATION PAR MACRO V03.01 18-OCT-86 01:52:14 PAGE 43


      1                                 ; REQUIRED DEVICES
      2
      3 000020                          DEVICE  KB,TT           ;TERMINALS
      4         000104                  CNT.KB  =       CNT.KB  ; # OF TERMINALS
      5                                 ;DDS.KB =               ; SIZE OF DDB DE
TERMINED LATER
      6         000001                  CCC.KB  =       1       ; DEVICE IS CONT
ROL/C INTERRUPTABLE
      7         000001                  SLP.KB  =       1       ; DEVICE CHECKIN
G NEEDED BEFORE "SLEEP"
      8
      9 000020                          DEVICE  NL              ;NULL DEVICE
     10         000001                  CNT.NL  =       1.      ; ONLY NL0: PLEA
SE
     11         000010                  DDS.NL  =       10      ; 10 BYTE DDB'S
     12         000000                  CCC.NL  =       0       ; DEVICE IS NOT
CONTROL/C INTERRUPTABLE
     13
     14                                 ; OPTIONAL DEVICES
     15
     16                                 .IF     NE      PK11
     17
     18 000020                          DEVICE  PK              ;PSEUDO-KEYBOARD
S
     19         000004                  CNT.PK  =       PK11    ; # OF PSEUDO-KE
YBOARDS
     20         000014                  DDS.PK  =       14      ; 14 BYTE DDB'S
     21         000001                  CCC.PK  =       1       ; DEVICE IS CONT
ROL/C INTERRUPTABLE
     22         000001                  SLP.PK  =       1       ; DEVICE CHECKIN
G NEEDED BEFORE "SLEEP"
     23
     24                                 .IFF
     25
     26                                 CNT.PK  =       0.      ;NO PSEUDO-KEYBO
ARDS
     27
     28                                 .ENDC
     29
     30                                 .IF     NE      RJ2780
     31
     32                                 DEVICE  RJ,,<IDL>       ;2780 REMOTE JOB
 ENTRY
     33                                 CNT.RJ  =       1.      ; ONLY RJ0: PLEA
SE
     34                                 DDS.RJ  =       14      ; 14 BYTE DDB'S
     35                                 CCC.RJ  =       0       ; DEVICE IS NOT
CONTROL/C INTERRUPTABLE
     36
     37                                 .ENDC
     38
     39                                 .IF     NE      DMC11
     40
     41                                 DEVICE  XM,,<DNE>       ;DDCMP NPR LINE
INTERFACE
     42                                 CNT.XM  =       DMC11   ; # OF INTERFACE
S
     43                                 DDS.XM  =       60      ; 60 BYTE DDB'S
     44                                 CCC.XM  =       1       ; DEVICE IS CONT
ROL/C INTERRUPTABLE
     45                                 SLP.XM  =       1       ; DEVICE CHECKIN
G NEEDED BEFORE "SLEEP"
     46
     47                                 .ENDC
     48
     49                                 .IF     NE      LP11
     50
     51 000020                          DEVICE  LP              ;LINE PRINTER
     52         000001                  CNT.LP  =       LP11    ; # OF PRINTERS
     53         000040                  DDS.LP  =       40      ; 40 BYTE DDB'S
(AUX PROC ASSISTED)
     54         000001                  CCC.LP  =       1       ; DEVICE IS CONT
ROL/C INTERRUPTABLE
     55         000024                  BFQ.LP  =       20.     ; BUFFER QUOTA
     56         000120                  HOR.LP  =       80.     ; HORIZONTAL WID
TH
     57
 CHECK   CHECK CONFIGURATION PAR MACRO V03.01 18-OCT-86 01:52:14 PAGE 43-1


     58                                 .ENDC
     59
     60                                 .IF     NE      PR11
     61
     62 000020                          DEVICE  PR              ;PAPER TAPE READ
ER
     63         000001                  CNT.PR  =       PR11    ; # OF READERS
     64         000020                  DDS.PR  =       20      ; 20 BYTE DDB'S
     65         000001                  CCC.PR  =       1       ; DEVICE IS CONT
ROL/C INTERRUPTABLE
     66         000012                  BFQ.PR  =       10.     ; BUFFER QUOTA
     67
     68                                 .ENDC
     69
     70                                 .IF     NE      PP11
     71
     72 000020                          DEVICE  PP              ;PAPER TAPE PUNC
H
     73         000001                  CNT.PP  =       PP11    ; # OF PUNCHES
     74         000020                  DDS.PP  =       20      ; 20 BYTE DDB'S
     75         000001                  CCC.PP  =       1       ; DEVICE IS CONT
ROL/C INTERRUPTABLE
     76         000012                  BFQ.PP  =       10.     ; BUFFER QUOTA
     77
     78                                 .ENDC
     79
     80                                 .IF     NE      CR11
     81
     82                                 DEVICE  CR              ;COLUMN INTERRUP
T CARD READER
     83                                 CNT.CR  =       CR11    ; # OF READERS
     84                                 DDS.CR  =       262     ; 262 BYTE DDB'S
     85                                 CCC.CR  =       1       ; DEVICE IS CONT
ROL/C INTERRUPTABLE
     86
     87                                 .ENDC
     88
     89                                 .IF     NE      CD11
     90
     91                                 DEVICE  CD,CR           ;NPR CARD READER
     92                                 CNT.CD  =       CD11    ; # OF READERS
     93                                 DDS.CD  =       262     ; 262 BYTE DDB'S
     94                                 CCC.CD  =       1       ; DEVICE IS CONT
ROL/C INTERRUPTABLE
     95
     96                                 .ENDC
     97
     98                                 .IF     NE      TM11
     99
    100                                 DEVICE  MT,,<CON,DNE>   ;TU10/TE10/TS03
MAGTAPE
    101                                 CNT.MT  =       TM11    ; # OF DRIVES
    102                                 DDS.MT  =       46      ; 46 BYTE DDB'S
    103                                 CCC.MT  =       0       ; DEVICE IS NOT
CONTROL/C INTERRUPTABLE
    104                                 UMR.MT  =       1       ; DEVICE HANDLES
 UNUBUS MAP ENTRIES
    105
    106                                 .ENDC
    107
    108                                 .IF     NE      TM02
    109
    110 000020                          DEVICE  MM,MT,<CON,DNE> ;TU16/TE16/TU45
MAGTAPE
    111         000002                  CNT.MM  =       TM02    ; # OF DRIVES
    112         000046                  DDS.MM  =       46      ; 46 BYTE DDB'S
    113         000000                  CCC.MM  =       0       ; DEVICE IS NOT
CONTROL/C INTERRUPTABLE
    114         000001                  UMR.MM  =       1       ; DEVICE HANDLES
 UNIBUS MAP ENTRIES
 CHECK   CHECK CONFIGURATION PAR MACRO V03.01 18-OCT-86 01:52:14 PAGE 43-2


    115
    116                                 .ENDC
    117
    118                                 .IF     NE      TS11
    119
    120                                 DEVICE  MS,MT,<DNE,CON> ;TS11 MAGTAPE
    121                                 CNT.MS  =       TS11    ; # OF DRIVES
    122                                 DDS.MS  =       120     ; 120 BYTE DDB'S
    123                                 CCC.MS  =       0       ; DEVICE IS NOT
CONTROL/C INTERRUPTABLE
    124                                 UMR.MS  =       1       ; DEVICE HANDLES
 UNIBUS MAP ENTRIES
    125
    126                                 .ENDC
    127
    128                                 .IF     NE      TC11
    129
    130                                 DEVICE  DT,,<FIP,DNE,RES> ;DECTAPE
    131                                 CNT.DT  =       TC11    ; # OF DRIVES
    132                                 DDS.DT  =       40      ; 40 BYTE DDB'S
    133                                 CCC.DT  =       0       ; DEVICE IS NOT
CONTROL/C INTERRUPTABLE
    134
    135                                 .ENDC
    136
    137                                 .IF     NE      RX11
    138
    139 000020                          DEVICE  DX,DY,<CON>     ;FLOPPY DISK
    140         000010                  CNT.DX  =       RX11    ; # OF DRIVES
    141         000034                  DDS.DX  =       34      ; 34 BYTE DDB'S
    142         000000                  CCC.DX  =       0       ; DEVICE IS NOT
CONTROL/C INTERRUPTABLE
    143         000001                  UMR.DX  =       1       ; DEVICE HANDLES
 UNIBUS MAP ENTRIES
    144
    145                                 .ENDC
    146
    147                                 .IF     NE      TU58
    148
    149                                 DEVICE  DD,,<CON>       ;DECTAPE II
    150                                 CNT.DD  =       TU58    ; # OF DRIVES
    151                                 DDS.DD  =       32      ; 32 BYTE DDB'S
    152                                 CCC.DD  =       0       ; DEVICE IS NOT
CONTROL/C INTERRUPTABLE
    153
    154                                 .ENDC
    155
    156                                 .IF     NE      II11
    157
    158                                 DEVICE  II              ;IBM INTERFACE D
UP-11
    159                                 CNT.II  =       II11    ; # OF DRIVES
    160                                 DDS.II  =       24      ; 24 BYTE DDB'S
    161                                 CCC.II  =       1       ; DEVICE IS CONT
ROL/C INTERRUPTABLE
    162                                 SLP.II  =       1       ; DEVICE NEEDS C
HECK FOR SLEEP
    163
    164                                 .ENDC
    165
    166                                 .IF     NE      KMC11
    167
    168                                 DEVICE  XK              ;KMC-11 MICRO-PR
OCESSOR
    169                                 CNT.XK  =       KMC11   ; # OF DRIVES
    170                                 DDS.XK  =       46      ; 46 BYTE DDB'S
    171                                 CCC.XK  =       0       ; DEVICE IS NOT
CONTROL/C INTERRUPTABLE
 CHECK   CHECK CONFIGURATION PAR MACRO V03.01 18-OCT-86 01:52:14 PAGE 43-3


    172
    173                                 .ENDC
 CHECK   CHECK CONFIGURATION PAR MACRO V03.01 18-OCT-86 01:52:14 PAGE 44


      1 000020                          TITLE   TBL,<SYSTEM TABLES>,07,22-SEP-79
,MHB/ABC/MJG
                                        .TITLE  TBL     SYSTEM TABLES
                                        .IDENT  "07.007"
                                        .SBTTL
                                        .SBTTL  TBL     SYSTEM TABLES
                                        .SBTTL
                                        .SBTTL  EDIT:           DATE:
BY:
                                        .SBTTL   07           22-SEP-79
MHB/ABC/MJG
                                        .SBTTL
      2
      3                                 ;
      4                                 ;       COPYRIGHT (C) 1974, 1975, 1976,
1977, 1978, 1979 BY
      5                                 ;       DIGITAL EQUIPMENT CORPORATION, M
AYNARD, MASS.
      6                                 ;
      7                                 ; THIS SOFTWARE IS FURNISHED UNDER A LIC
ENSE AND MAY BE USED AND  COPIED
      8                                 ; ONLY  IN  ACCORDANCE  WITH  THE  TERMS
  OF  SUCH  LICENSE AND WITH THE
      9                                 ; INCLUSION OF THE ABOVE COPYRIGHT NOTIC
E.  THIS SOFTWARE OR  ANY  OTHER
     10                                 ; COPIES  THEREOF MAY NOT BE PROVIDED OR
 OTHERWISE MADE AVAILABLE TO ANY
     11                                 ; OTHER PERSON.  NO TITLE TO AND OWNERSH
IP OF  THE  SOFTWARE  IS  HEREBY
     12                                 ; TRANSFERRED.
     13                                 ;
     14                                 ; THE INFORMATION IN THIS SOFTWARE IS SU
BJECT TO CHANGE  WITHOUT  NOTICE
     15                                 ; AND  SHOULD  NOT  BE  CONSTRUED  AS  A
 COMMITMENT BY DIGITAL EQUIPMENT
     16                                 ; CORPORATION.
     17                                 ;
     18                                 ; DIGITAL ASSUMES NO RESPONSIBILITY FOR
THE USE  OR  RELIABILITY  OF ITS
     19                                 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUP
PLIED BY DIGITAL.
     20                                 ;
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 45


      1                                 ; LIST THE PREFIX FILES
      2
      3         000001                  L$$IST  =       1
      4
      5                                 .SBTTL  CALL ALL REQUIRED MODULES FROM T
HE LIBRARY
      6
      7 000020                                  INCLUDE <MED,UPE,FPP,RTI,RES,ERL
,SUB,CMNDVR>
      8
      9                                 .SBTTL  CALL ALL NEEDED DISK DRIVERS FRO
M THE LIBRARY (SORT OF...)
     10
     11 000020                          $DISKS
     12                                 .IF     NE      CNT.'NAME
     13                                 .GLOBL  CNT.'NAME
     14                                 .IFF
     15                                 .DSABL  CRF
     16                                 NAME'DSK        ==      0
     17                                 $'NAME'DINT     ==      0
     18                                 .ENABL  CRF
     19                                 .ENDC
     20                                 .ENDM
     21
     22                                 .SBTTL  CALL ALL NEEDED DRIVERS FROM THE
 LIBRARY
     23
     24 000020                          $NAMES
     25                                         INCLUDE NAME'DVR
     26                                 .IF     DIF     <NAME>,<SY>
     27                                 .IF     DIF     <NAME>,<NL>
     28                                 .GLOBL  CNT.'NAME
     29                                 .ENDC
     30                                 .ENDC
     31                                 .ENDM
     32
     33                                 .IF     NE      JSTATS ! QSTATS
     34 000020                                  INCLUDE JQSTAT
     35                                 .ENDC
     36
     37                                 .IF     NE      DSTATS
     38 000020                                  INCLUDE DSTAT
     39                                 .ENDC
     40
     41                                 .SBTTL  GLOBALIZE 2780 CONFIGURATION INF
ORMATION
     42
     43         000000                  $$2780  ==      RJ2780  ;**INIT** 2780 I
NTERFACE TYPE
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 46
DEFINE DRIVER INDEXES FOR DEVICES

      1                                 .SBTTL  DEFINE DRIVER INDEXES FOR DEVICE
S
      2
      3 000020                          .DSECT
      4
      5 000000                          $NAMES
      6                                 .LIST
      7                                 IDX.'NAME::.BLKW                ;DRIVER
INDEX FOR NAME
      8                                 .NLIST
      9                                 .ENDM
        000000                          IDX.SY::.BLKW           ;DRIVER INDEX FO
R SY
        000002                          IDX.KB::.BLKW           ;DRIVER INDEX FO
R KB
        000004                          IDX.NL::.BLKW           ;DRIVER INDEX FO
R NL
        000006                          IDX.PK::.BLKW           ;DRIVER INDEX FO
R PK
        000010                          IDX.LP::.BLKW           ;DRIVER INDEX FO
R LP
        000012                          IDX.PR::.BLKW           ;DRIVER INDEX FO
R PR
        000014                          IDX.PP::.BLKW           ;DRIVER INDEX FO
R PP
        000016                          IDX.MM::.BLKW           ;DRIVER INDEX FO
R MM
        000020                          IDX.DX::.BLKW           ;DRIVER INDEX FO
R DX
     10 000022                          IDX$MX:                 ;SIZE OF DRIVER
TABLES IN BYTES
     11
     12 000022                          .ASSUME IDX.SY  EQ      0
     13 000022                          .ASSUME IDX.KB  EQ      2
     14 000022                          .ASSUME IDX.NL  EQ      4
     15                                 .IF     NE      CNT.PK
     16 000022                          .ASSUME IDX.PK  EQ      6
     17                                 .ENDC
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 47
DEFINE JSBITS FOR DEVICES

      1                                 .SBTTL  DEFINE JSBITS FOR DEVICES
      2
      3         000000                  JSALL   =       0       ;THIS WILL BE TH
E CTRL/C JSBIT PATTERN
      4
      5 000022                          .BSECT
      6
      7 000001                          $NAMES
      8                                 .IIF    NDF     CCC.'NAME,      CCC.'NAM
E=-1
      9                                 .IF     NE      CCC.'NAME
     10                                 .ASSUME .       NE      JSTEL
     11                                 .LIST
     12                                 JS.'NAME::      .BLKB   .       ;JSBIT F
OR NAME DRIVER
     13                                 .NLIST
     14                                 .IF     EQ      CCC.'NAME-1
     15                                 JSALL   =       JSALL!JS.'NAME
     16                                 .ENDC
     17                                 .IFF
     18                                 .LIST
     19                                 JS.'NAME        ==      JS.SY   ;JSBIT F
OR NAME DRIVER
     20                                 .NLIST
     21                                 .ENDC
     22                                 .ENDM
        000001                          JS.SY:: .BLKB   .       ;JSBIT FOR SY DR
IVER
        000002                          JS.KB:: .BLKB   .       ;JSBIT FOR KB DR
IVER
                000001                  JS.NL   ==      JS.SY   ;JSBIT FOR NL DR
IVER
        000004                          JS.PK:: .BLKB   .       ;JSBIT FOR PK DR
IVER
        000010                          JS.LP:: .BLKB   .       ;JSBIT FOR LP DR
IVER
        000020                          JS.PR:: .BLKB   .       ;JSBIT FOR PR DR
IVER
        000040                          JS.PP:: .BLKB   .       ;JSBIT FOR PP DR
IVER
                000001                  JS.MM   ==      JS.SY   ;JSBIT FOR MM DR
IVER
                000001                  JS.DX   ==      JS.SY   ;JSBIT FOR DX DR
IVER
     23
     24         064076                  JSALL   ==      JSALL!JSTEL!JSTIM!JSBUF
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 48
DECLARE AND ORDER THE .CSECTS

      1                                 .SBTTL  DECLARE AND ORDER THE .CSECTS
      2
      3                                 ; ***** LOWCOR STARTS AT PHYSICAL 0 ****
*
      4
      5 000100                                  DEFORG  LOWCOR          ;LOW MEM
ORY
      6
      7                                 ; ***** BUFPOL STARTS AT A 40(8) ADDRESS
 BOUNDARY *****
      8
      9 000000                                  DEFORG  BUFPOL          ;MONITOR
'S BUFFER POOL
     10         000000'                 $$BUFS  ==      .       ;**INIT** START
OF MONITOR'S BUFFER POOL
     11
     12                                 ; ***** IOBUFR STARTS AT A 1000(8) ADDRE
SS BOUNDARY *****
     13
     14 000000                                  ORG     IOBUFR          ;FIP'S I
/O BUFFERS
     15         000000'                 $$BUFE  ==      .       ;**INIT** END OF
 MONITOR'S BUFFER POOL
     16
     17                                 ; ***** MORBUF STARTS AT A 40(8) ADDRESS
 BOUNDARY *****
     18
     19 000000                                  DEFORG  MORBUF          ;EXTRA M
ONITOR BUFFER POOL COMES HERE
     20         000000'                 $$MBFS  ==      .       ;**INIT** START
OF MORE MONITOR BUFFER POOL
     21
     22 000000                                  ORG     MEDCTL          ;"MED" C
ODE
     23         000000'                 $$MBFE  ==      .       ;**INIT** END OF
 MORE MONITOR BUFFER POOL
     24         000000'                 $$MEDS  ==      .       ;**INIT** START
OF "MED" CODE
     25
     26 000000                                  ORG     UPECTL          ;UNIBUS
MEMORY PARITY CODE
     27         000000'                 $$MEDE  ==      .       ;**INIT** END OF
 "MED" CODE
     28         000000'                 $$UPES  ==      .       ;**INIT** START
OF UNIBUS PARITY CODE
     29
     30 000000                                  ORG     UMRCTL          ;UNIBUS
WINDOW MAPPING REGISTER CODE
     31         000000'                 $$UPEE  ==      .       ;**INIT** END OF
 UNIBUS PARITY CODE
     32         000000'                 $$UMRS  ==      .       ;**INIT** START
OF UMR ALLOCATION CODE
     33
     34 000000                                  ORG     FPPCTL          ;ASYNC F
PP CODE GOES HERE
     35         000000'                 $$UMRE  ==      .       ;**INIT** END OF
 UMR ALLOCATION CODE
     36         000000'                 $$FPPS  ==      .       ;**INIT** START
OF ASYNC FPP CODE
     37
     38 000000                                  ORG     LIBCTL          ;RESIDEN
T LIBRARY SUBROUTINES GO HERE
     39         000000'                 $$FPPE  ==      .       ;**INIT** END OF
 ASYNC FPP CODE
     40         000000'                 $$LIBS  ==      .       ;**INIT** START
OF RESIDENT LIBRARY SUBROUTINES
     41
     42 000000                                  DEFORG  BGBUFR          ;BIG I/O
 BUFFER
     43         000000'                 $$LIBE  ==      .       ;**INIT** END OF
 RESIDENT LIBRARY SUBROUTINES
     44
     45 000000                                  DEFORG  RAWMEM          ;GENERAL
 READ/WRITE MEMORY
     46
     47 000000                          $NAMES
     48                                 .IF     DIF     <NAME>,<SY>
     49                                 .LIST
     50                                                                 ;DDBS FO
R NAME DRIVER (NAME'DDDB)
     51                                 .NLIST
     52                                         DEFORG  NAME'DDDB
     53                                 .ENDC
     54                                 .ENDM
                                                                        ;DDBS FO
R KB DRIVER (KBDDDB)
                                                                        ;DDBS FO
R NL DRIVER (NLDDDB)
                                                                        ;DDBS FO
R PK DRIVER (PKDDDB)
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 48-1
DEFINE IN LIBRARY "PKDDDB"

                                                                        ;DDBS FO
R LP DRIVER (LPDDDB)
                                                                        ;DDBS FO
R PR DRIVER (PRDDDB)
                                                                        ;DDBS FO
R PP DRIVER (PPDDDB)
                                                                        ;DDBS FO
R MM DRIVER (MMDDDB)
                                                                        ;DDBS FO
R DX DRIVER (DXDDDB)
     55
     56 000000                          $DISKS
     57                                 .IF     NE      CNT.'NAME
     58                                 .LIST
     59                                                                 ;R/W SEC
TION FOR NAME DRIVER (NAME'DCTL)
     60                                 .NLIST
     61                                         DEFORG  NAME'DCTL
     62                                 NAME'DCTL::.WORD        0
;CONTROL BUSY POINTER
     63                                 NAME'DPT1::.WORD        DQE$'NAME
;ROUND-ROBIN POINTER #1
     64                                 NAME'DPT2::.WORD        DQE$'NAME
;ROUND-ROBIN POINTER #2
     65                                 .IF     IDN     <NAME>,<DL>
     66                                 NAME'DPOS::.WORD        0
;POSITION BUCKET(S)
     67                                         .BLKW0  CNT.'NAME-1
     68                                 .ENDC
     69                                 .ENDC
     70                                 .ENDM
                                                                        ;R/W SEC
TION FOR DL DRIVER (DLDCTL)
        000000  000000                  DLDCTL::.WORD   0               ;CONTROL
 BUSY POINTER
        000002  001612'                 DLDPT1::.WORD   DQE$DL          ;ROUND-R
OBIN POINTER #1
        000004  001612'                 DLDPT2::.WORD   DQE$DL          ;ROUND-R
OBIN POINTER #2
        000006  000000                  DLDPOS::.WORD   0               ;POSITIO
N BUCKET(S)
                                                                        ;R/W SEC
TION FOR DR DRIVER (DRDCTL)
        000000  000000                  DRDCTL::.WORD   0               ;CONTROL
 BUSY POINTER
        000002  001632'                 DRDPT1::.WORD   DQE$DR          ;ROUND-R
OBIN POINTER #1
        000004  001632'                 DRDPT2::.WORD   DQE$DR          ;ROUND-R
OBIN POINTER #2
                                                                        ;R/W SEC
TION FOR DB DRIVER (DBDCTL)
        000000  000000                  DBDCTL::.WORD   0               ;CONTROL
 BUSY POINTER
        000002  001652'                 DBDPT1::.WORD   DQE$DB          ;ROUND-R
OBIN POINTER #1
        000004  001652'                 DBDPT2::.WORD   DQE$DB          ;ROUND-R
OBIN POINTER #2
     71
     72 000006                          $NAMES
     73                                 .LIST
     74                                                                 ;R/W SEC
TION FOR NAME DRIVER (NAME'DCTL)
     75                                 .NLIST
     76                                         ORG     NAME'DCTL
     77                                 .ENDM
                                                                        ;R/W SEC
TION FOR SY DRIVER (SYDCTL)
                                                                        ;R/W SEC
TION FOR KB DRIVER (KBDCTL)
                                                                        ;R/W SEC
TION FOR NL DRIVER (NLDCTL)
                                                                        ;R/W SEC
TION FOR PK DRIVER (PKDCTL)
                                                                        ;R/W SEC
TION FOR LP DRIVER (LPDCTL)
                                                                        ;R/W SEC
TION FOR PR DRIVER (PRDCTL)
                                                                        ;R/W SEC
TION FOR PP DRIVER (PPDCTL)
                                                                        ;R/W SEC
TION FOR MM DRIVER (MMDCTL)
                                                                        ;R/W SEC
TION FOR DX DRIVER (DXDCTL)
     78
     79                                 .IRP    NAME,<RTI,BUF,RES,ERL,CHE,FIP>
     80                                 .LIST
     81                                                                 ;R/W SEC
TION FOR NAME (NAME'CTL)
     82                                 .NLIST
     83                                         ORG     NAME'CTL
     84                                 .ENDM
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 48-2
DEFINE IN LIBRARY "DBDCTL"

                                                                        ;R/W SEC
TION FOR RTI (RTICTL)
                                                                        ;R/W SEC
TION FOR BUF (BUFCTL)
                                                                        ;R/W SEC
TION FOR RES (RESCTL)
                                                                        ;R/W SEC
TION FOR ERL (ERLCTL)
                                                                        ;R/W SEC
TION FOR CHE (CHECTL)
                                                                        ;R/W SEC
TION FOR FIP (FIPCTL)
     85
     86 000000                                  ORG     NSPCTL          ;R/W SEC
TION FOR NSP (NSPCTL)
     87 000000  000000                  NODELS::.WORD   0               ;NODE LI
ST POINTER FOR CTRL/T SYSTAT
     88
     89 000002                                  ORG     ERLCTB          ;ERROR L
OGGING CONTROL TABLE
     90
     91 000000                                  DEFORG  JSTCTL          ;JOB STA
TISTICS TABLE
     92
     93 000000                                  DEFORG  DSTCTL          ;DISK ST
ATISTICS TABLE
     94
     95 000000                                  DEFORG  QSTCTL          ;QUEUE S
TATISTICS TABLE
     96
     97 000000                                  DEFORG  BOOT            ;SIMPLE
DISK I/O
     98         000000'                 $$BOOT  ==      .       ;**INIT** BOOT A
ND PARAMS GO HERE
     99
    100 000000                                  .BLKW0  128.+81.        ;THIS IS
 THE CORRECT SIZE
    101         000014'                 BOOTSP  =       BOOT+14         ;BOOTSTR
AP SP STACK
    102
    103 000642                                  DEFORG  PATCH           ;PATCH S
PACE
    104
    105 000000                                  .BLKW0  128.            ;128. WO
RDS OF PATCH ALLOWED
    106
    107                                 ; ***** TBL IS THE START OF READ-ONLY ME
MORY *****
    108
    109 000400                                  DEFORG  TBL             ;GENERAL
 R-O MEMORY
    110         000000'                 $$SROM  ==      .       ;**INIT** START
OF READ-ONLY MEMORY
    111
    112 000000                                  DEFORG  PATCHS          ;PATCH S
EQUENCE NUMBERS
    113
    114         000000'                 $$0301  ==      .       ;**AUTO-PATCH**
MONITOR PATCHES
    115 000000                                  .BLKW0  4               ;3.1.1 T
HROUGH 3.1.64
    116         000010'                 $$0303  ==      .       ;**AUTO-PATCH**
TERMINAL SERVICE PATCHES
    117 000010                                  .BLKW0  4               ;3.3.1 T
HROUGH 3.3.64
    118         000020'                 $$0305  ==      .       ;**AUTO-PATCH**
FILE PROCESSOR PATCHES
    119 000020                                  .BLKW0  4               ;3.5.1 T
HROUGH 3.5.64
    120         000030'                 $$0307  ==      .       ;**AUTO-PATCH**
DEVICE DRIVER PATCHES
    121 000030                                  .BLKW0  4               ;3.7.1 T
HROUGH 3.7.64
    122
    123 000040                                  ORG     EMTTBL          ;EMT SER
VICE DISPATCH TABLE
    124         000000'                 $EMTTBL ==      .       ;**MERGE** ALTER
NATE FOR 'EMTTBL'
    125
    126 000000                                  .BLKW0  EMTSIZ/2        ;INITIAL
LY ALL DISPATCH TO 0
    127
    128 000100                                  ORG     L3QTBL          ;LEVEL 3
 QUEUE DISPATCH TABLE
    129         000000'                 $L3QTBL ==      .       ;**MERGE** ALTER
NATE FOR 'L3QTBL'
    130
    131 000000                                  .BLKW0  L3QSIZ/2        ;INITIAL
LY ALL DISPATCH TO 0
    132
    133 000076                                  ORG     L3QPAR          ;LEVEL 3
 QUEUE POINTERS TO KISAR5 VALUE
    134         000000'                 $L3QPAR ==      .       ;**MERGE** ALTER
NATE FOR 'L3QPAR'
    135
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 48-3
DEFINE IN LIBRARY "PATCHS"

    136 000000                                  .BLKW0  L3QSIZ/2        ;INITIAL
LY ALL ARE 0
    137
    138 000076                                  ORG     ERRTBL          ;ERROR L
OGGING DISPATCH TABLE
    139         000000'                 $ERRTBL ==      .       ;**MERGE** ALTER
NATE FOR 'ERRTBL'
    140
    141 000000                                  .BLKW0  LOG$SZ/2        ;INITIAL
LY ALL DISPATCH TO 0
    142
    143 000044                                  ORG     SERTBL          ;I/O DRI
VER SERVICE DISPATCH TABLE
    144         000000'                 $SERTBL ==      .       ;**MERGE** ALTER
NATE FOR 'SERTBL'
    145
    146 000000                                  .BLKW0  IDX$MX/2        ;INITIAL
LY ALL DISPATCH TO 0
    147
    148 000022                                  ORG     OPNTBL          ;I/O DRI
VER OPEN SERVICE DISPATCH TABLE
    149         000000'                 $OPNTBL ==      .       ;**MERGE** ALTER
NATE FOR 'OPNTBL'
    150
    151 000000                                  .BLKW0  IDX$MX/2        ;INITIAL
LY ALL DISPATCH TO 0
    152
    153 000022                                  ORG     CLSTBL          ;I/O DRI
VER CLOSE SERVICE DISPATCH TABLE
    154         000000'                 $CLSTBL ==      .       ;**MERGE** ALTER
NATE FOR 'CLSTBL'
    155
    156 000000                                  .BLKW0  IDX$MX/2        ;INITIAL
LY ALL DISPATCH TO 0
    157
    158 000022                                  ORG     SPCTBL          ;I/O DRI
VER SPECIAL FUNCTION DISPATCH TABLE
    159         000000'                 $SPCTBL ==      .       ;**MERGE** ALTER
NATE FOR 'SPCTBL'
    160
    161 000000                                  .BLKW0  IDX$MX/2        ;INITIAL
LY ALL DISPATCH TO 0
    162
    163 000022                                  ORG     ASNTBL          ;I/O DRI
VER DEVICE ASSIGNMENT DISPATCH TABLE
    164         000000'                 $ASNTBL ==      .       ;**MERGE** ALTER
NATE FOR 'ASNTBL'
    165
    166 000000                                  .BLKW0  IDX$MX/2        ;INITIAL
LY ALL DISPATCH TO 0
    167
    168 000022                                  ORG     DEATBL          ;I/O DRI
VER DEVICE DEASSIGNMENT DISPATCH TABLE
    169         000000'                 $DEATBL ==      .       ;**MERGE** ALTER
NATE FOR 'DEATBL'
    170
    171 000000                                  .BLKW0  IDX$MX/2        ;INITIAL
LY ALL DISPATCH TO 0
    172
    173 000022                                  ORG     TMOTBL          ;I/O DRI
VER TIMEOUT DISPATCH TABLE
    174         000000'                 $TMOTBL ==      .       ;**MERGE** ALTER
NATE FOR 'TMOTBL'
    175
    176 000000                                  .BLKW0  IDX$MX/2        ;INITIAL
LY ALL DISPATCH TO 0
    177
    178 000022                                  ORG     SLPTBL          ;I/O DRI
VER "SLEEP" CHECKING DISPATCH TABLE
    179         000000'                 $SLPTBL ==      .       ;**MERGE** ALTER
NATE FOR 'SLPTBL'
    180
    181 000000                                  .BLKW0  IDX$MX/2        ;INITIAL
LY ALL DISPATCH TO 0
    182
    183 000022                                  ORG     FLGTBL          ;I/O DRI
VER FLAGS/HANDLER INDEX TABLE
    184         000000'                 $FLGTBL ==      .       ;**MERGE** ALTER
NATE FOR 'FLGTBL'
    185
    186 000000                                  .BLKW0  IDX$MX/2        ;INITIAL
LY ALL ARE 0
    187
    188 000022                                  ORG     SIZTBL          ;I/O DRI
VER LINE WIDTH TABLE
    189         000000'                 $SIZTBL ==      .       ;**MERGE** ALTER
NATE FOR 'SIZTBL'
    190
    191 000000                                  .BLKW0  IDX$MX/2        ;INITIAL
LY ALL ARE 0
    192
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 48-4
DEFINE IN LIBRARY "PATCHS"

    193 000022                                  ORG     BUFTBL          ;I/O DRI
VER BUFFER SIZE TABLE
    194         000000'                 $BUFTBL ==      .       ;**MERGE** ALTER
NATE FOR 'BUFTBL'
    195
    196 000000                                  .BLKW0  IDX$MX/2        ;INITIAL
LY ALL ARE 0
    197
    198 000022                                  ORG     MSKTBL          ;POSTING
 PATTERN TABLE
    199         000000'                 $MSKTBL ==      .       ;**MERGE** ALTER
NATE FOR 'MSKTBL'
    200
    201 000000                                  .BLKW0  NONMSK/2,-1     ;INITIAL
LY ALL POST NOTHING
    202
    203 000040                                  ORG     FIPTBL          ;FIP'S F
UNCTION CODE DISPATCH TABLE
    204         000000'                 $FIPTBL ==      .       ;**MERGE** ALTER
NATE FOR 'FIPTBL'
    205
    206 000000                                  .BLKW0  FQFSIZ/2,1      ;INITIAL
LY ALL DISPATCH TO 1
    207
    208 000054                                  ORG     UUOTBL          ;FIP'S U
UO DISPATCH TABLE
    209         000000'                 $UUOTBL ==      .       ;**MERGE** ALTER
NATE FOR 'UUOTBL'
    210
    211 000000                                  .BLKW0  UU$MAX-UU$MIN+1,1 ;INITI
ALLY ALL DISPATCH TO 1
    212
    213 000160                                  ORG     UUOSNC          ;FIP'S U
UO SYNCHRONOUS TABLE
    214         000000'                 $UUOSNC ==      .       ;**MERGE** ALTER
NATE FOR 'UUOSNC'
    215
    216 000000                                  .BLKW0  <<UU$MAX-UU$MIN+1>+1/2>
;INITIALLY ALL ARE NON-SYNCHRONOUS
    217
    218 000070                                  DEFORG  STSTBL          ;STATIST
ICS TABLES POINTERS
    219
    220 000000  000000                          .WORD   0               ;POINTER
 TO DISK STATISTICS
    221 000002  000000                          .WORD   0               ;POINTER
 TO JOB STATISTICS
    222 000004  000000                          .WORD   0               ;POINTER
 TO QUEUE STATISTICS
    223 000006  000000                          .WORD   0               ;POINTER
 TO CACHE STATISTICS
    224
    225 000010                                  ORG     TERDSP          ;MONITOR
 TO TERMINAL SERVICE DISPATCHES
    226         000000'                 $TERDSP ==      .       ;**MERGE** ALTER
NATE FOR 'TERDSP'
    227
    228 000000  000000                  ENDKEY::.WORD   0               ;END A T
ERMINAL
    229 000002  000000                  SETPRM::.WORD   0               ;SET TER
MINAL PARAMETERS
    230 000004  000000                  CLRTER::.WORD   0               ;CLEAR O
UT A TERMINAL
    231 000006  000000                  CLRTIN::.WORD   0               ;CLEAR T
ERMINAL INPUT
    232 000010  000000                  CREJOB::.WORD   0               ;CREATE
A NEW JOB
    233 000012  000000                  SETDTR::.WORD   0               ;ENABLE
A DATASET
    234
    235 000014                                  ORG     DSKDSP          ;MONITOR
 TO DISK DISPATCHES
    236         000000'                 $DSKDSP ==      .       ;**MERGE** ALTER
NATE FOR 'DSKDSP'
    237
    238 000000  000000                  GODISK::.WORD   0               ;DO QUEU
E UP A DISK TRANSFER
    239
    240 000002                                  ORG     EMTDSP          ;MONITOR
 TO EMT DISPATCHES
    241         000000'                 $EMTDSP ==      .       ;**MERGE** ALTER
NATE FOR 'EMTDSP'
    242
    243 000000  000000                  DOPOST::.WORD   0               ;DO JOB
POSTING
    244 000002  000000                  RETEXT::.WORD   0               ;DO NPR/
NON-NPR BUFFER RELEASING
    245
    246 000004                                  ORG     FIPDSP          ;MONITOR
 TO FIP DISPATCHES
    247         000000'                 $FIPDSP ==      .       ;**MERGE** ALTER
NATE FOR 'FIPDSP'
    248
    249 000000  000000                  FIPGO:: .WORD   0               ;START U
P FIP
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 48-5
DEFINE IN LIBRARY "STSTBL"

    250 000002  000000                  FIPERR::.WORD   0               ;FIP ERR
OR
    251 000004  000000                  OVRBUF::.WORD   0               ;'FIPBUF
' ADDRESS
    252
    253 000006                                  ORG     RSXDSP          ;MONITOR
 TO RSX DISPATCHES
    254         000000'                 $RSXDSP ==      .       ;**MERGE** ALTER
NATE FOR 'RSXDSP'
    255
    256 000000  000000                  RSXTRP::.WORD   0               ;DO RSX
SST/AST'S
    257 000002  005000                  RSXAGN::CLR     R0              ;SIGNAL
RSX EMT RE-DO (EMT CODE = 0)
    258 000004  013737                  RSXENT::MOV     @(PC)+,@(PC)+   ;MOVE RS
X PHASE PAR5 VALUE TO PAR5
    259 000006  000000                           .WORD  0               ; "RSXAP
5" FILLED IN...
    260 000010  000000                           .WORD  0               ; "KISAR
5" FILLED IN...
    261 000012  000137                          JMP     @(PC)+          ;NOW GO
OFF TO IT
    262 000014  000000                           .WORD  0               ; ENTRY
POINT FILLED IN...
    263 000016                          .ASSUME .-RSXDSP EQ 16
    264
    265 000016                                  ORG     MTADSP          ;OVERLAY
 MAGTAPE DISPATCHES
    266         000000'                 $MTADSP ==      .       ;**MERGE** ALTER
NATE FOR 'MTADSP'
    267
    268 000000                                  .BLKW0  4               ;OPN, CL
S, DIR, ZER
    269
    270 000010                                  ORG     DTADSP          ;OVERLAY
 DECTAPE DISPATCHES
    271         000000'                 $DTADSP ==      .       ;**MERGE** ALTER
NATE FOR 'DTADSP'
    272
    273 000000                                  .BLKW0  7               ;OPN, CL
S, DIR, ZER, UTL, DLN, REN
    274
    275         000016'                 $$CRSZ  ==      .       ;**INIT** HIGHES
T ADDRESS IN CRASH DUMP FILE
    276
    277 000016                          $DISKS
    278                                 .IF     NE      CNT.'NAME
    279                                 .LIST
    280                                                                 ;R-O SEC
TION FOR NAME DRIVER (NAME'DINT)
    281                                 .NLIST
    282                                         DEFORG  NAME'DINT
    283                                 .LIST
    284                                 $'NAME'DINT     ==      .       ;**MERGE
** ALTERNATE FOR '$'NAME'DINT'
    285                                 NAME'DINT:      .BLKB   DSKSIZ
    286                                 .NLIST
    287                                 .ENDC
    288                                 .ENDM
                                                                        ;R-O SEC
TION FOR DL DRIVER (DLDINT)
                000000'                 $DLDINT ==      .       ;**MERGE** ALTER
NATE FOR '$DLDINT'
        000000                          DLDINT: .BLKB   DSKSIZ
                                                                        ;R-O SEC
TION FOR DR DRIVER (DRDINT)
                000000'                 $DRDINT ==      .       ;**MERGE** ALTER
NATE FOR '$DRDINT'
        000000                          DRDINT: .BLKB   DSKSIZ
                                                                        ;R-O SEC
TION FOR DB DRIVER (DBDINT)
                000000'                 $DBDINT ==      .       ;**MERGE** ALTER
NATE FOR '$DBDINT'
        000000                          DBDINT: .BLKB   DSKSIZ
    289
    290 000020                          $NAMES
    291                                 .LIST
    292                                                                 ;R-O SEC
TION FOR NAME DRIVER (NAME'DINT)
    293                                 .NLIST
    294                                         ORG     NAME'DINT
    295                                 .IF     DIF     <NAME>,<NL>
    296                                 .IF     DIF     <NAME>,<PK>
    297                                 .LIST
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 48-6
DEFINE IN LIBRARY "DBDINT"

    298                                 NAME'DINT:      .BLKW   2
    299                                 NAME'DAP5::
    300                                 .NLIST
    301                                 .ENDC
    302                                 .ENDC
    303                                 .ENDM
                                                                        ;R-O SEC
TION FOR SY DRIVER (SYDINT)
        000000                          SYDINT: .BLKW   2
        000004                          SYDAP5::
                                                                        ;R-O SEC
TION FOR KB DRIVER (KBDINT)
        000000                          KBDINT: .BLKW   2
        000004                          KBDAP5::
                                                                        ;R-O SEC
TION FOR NL DRIVER (NLDINT)
                                                                        ;R-O SEC
TION FOR PK DRIVER (PKDINT)
                                                                        ;R-O SEC
TION FOR LP DRIVER (LPDINT)
        000000                          LPDINT: .BLKW   2
        000004                          LPDAP5::
                                                                        ;R-O SEC
TION FOR PR DRIVER (PRDINT)
        000000                          PRDINT: .BLKW   2
        000004                          PRDAP5::
                                                                        ;R-O SEC
TION FOR PP DRIVER (PPDINT)
        000000                          PPDINT: .BLKW   2
        000004                          PPDAP5::
                                                                        ;R-O SEC
TION FOR MM DRIVER (MMDINT)
        000000                          MMDINT: .BLKW   2
        000004                          MMDAP5::
                                                                        ;R-O SEC
TION FOR DX DRIVER (DXDINT)
        000000                          DXDINT: .BLKW   2
        000004                          DXDAP5::
    304
    305                                 .IRP    NAME,<NSP>
    306                                 .LIST
    307                                                                 ;R-O SUB
ROUTINE SECTION FOR NAME (NAME'SUB)
    308                                 .NLIST
    309                                         ORG     NAME'SUB
    310                                 .ENDM
                                                                        ;R-O SUB
ROUTINE SECTION FOR NSP (NSPSUB)
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 49
FILL IN LOWCOR

      1                                 .SBTTL  FILL IN LOWCOR
      2
      3                                 ; FILL IN LOWCOR VECTOR AREA
      4
      5 000000                                  ORG     LOWCOR
      6
      7 000000                          LOWCOR:
      8
      9         000010                  .REPT   40/4
     10                                 .DSABL  CRF
     11                                 $$$$$$  =       .-LOWCOR
     12                                 .IRP    N,<\<$$$$$$/100>>
     13                                 .NLIST
     14                                         .WORD   FTLXX'N,PR7&4340!<$$$$$$
/4&17>
     15                                 .LIST
     16                                 .ENDM
     17                                 .ENABL  CRF
     18                                 .ENDR
     19
     20         000004                  .REPT   60-40/4
     21                                         .BLKW   2
     22                                 .ENDR
     23
     24         000164                  .REPT   1000-60/4
     25                                 .DSABL  CRF
     26                                 $$$$$$  =       .-LOWCOR
     27                                 .IRP    N,<\<$$$$$$/100>>
     28                                 .NLIST
     29                                         .WORD   FTLXX'N,PR7&4340!<$$$$$$
/4&17>
     30                                 .LIST
     31                                 .ENDM
     32                                 .ENABL  CRF
     33                                 .ENDR
     34
     35 001000                          GLOBAL  <FTLXX0,FTLXX1,FTLXX2,FTLXX3,FTL
XX4,FTLXX5,FTLXX6,FTLXX7>
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 50
FILL IN LOWCOR

      1                                 ; NOW FOR THE REAL LOW LOWCOR CONTENTS
      2
      3                                 .ENABL  LSB
      4
      5 001000                                  VECTOR  0,20$,PR7       ;FOR VEC
TORING TO 0
        000000  000106' 004340                   .WORD  20$,PR7&4340    ; VECTOR
 @ 0
      6
      7 000004                                  ORG     LOWCOR,40
      8
      9         000040'                 $$LOWS  ==      .       ;**INIT** START
OF 40-56 LOAD AREA
     10 000040                          10$:    .BLKW   2               ;40 - DO
 A SYSTEM RELOAD
     11
     12 000044                          IDATE:: .BLKW                   ;44 - ST
ART UP DATE
     13 000046                          ITIME:: .BLKW                   ;46 - ST
ART UP TIME
     14
     15                                         .BLKW                   ;50 - DO
 A SYSTEM RELOAD
     16                                         .BLKW                   ;52 - DO
 A CRASH DUMP/AUTO-RESTART
     17 000054                          HALT::  .BLKW                   ;54 - A
'HALT' (THE ONLY ONE!)
     18                                         .BLKW                   ;56 - DO
 A SYSTEM RELOAD
     19         000060'                 $$LOWE  ==      .       ;**INIT** END OF
 40-56 LOAD AREA
     20
     21 000060                                  VECTOR  100,CLOK.L,PR6  ;FOR KW1
1-L CLOCKS
        000100  000000G 004300                   .WORD  CLOK.L,PR6&4340 ; VECTOR
 @ 100
     22
     23 000104                                  VECTOR  104,CLOK.P,PR6  ;FOR KW1
1-P CLOCKS
        000104  000000G 004300                   .WORD  CLOK.P,PR6&4340 ; VECTOR
 @ 104
     24
     25 000110                                  ORG     LOWCOR,106
     26
     27 000106  004317                  20$:    JSR     R3,(PC)         ;FOR TRA
P TO 0 (=4317=PR6 & REG SET 1)
     28 000110                                  JMPX    FTL000          ; GO TO
HERE
        000110  000137  000000G                  JMP    @#FTL000
     29
     30                                 .DSABL  LSB
     31
     32 000114                                  ORG     LOWCOR,144
     33
     34 000144  000167  000034'         DODUMP: JMP     CRSDMP          ;GO TAKE
 A CRASH DUMP
     35
     36 000150                                  ORG     LOWCOR,234
     37
     38 000234  000000'                         .WORD   STSTBL          ;POINTER
 TO STATISTICS POINTERS
     39
     40 000236                          GLOBAL  <CLOK.L,CLOK.P>
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 51
FILL IN LOWCOR

      1                                 ; FILL IN NON-VECTOR LOWCOR CONTENTS
      2
      3 000236                                  ORG     LOWCOR,DATE
      4
      5                                 ; SYSTEM DATE/TIME INFORMATION
      6
      7         001000'                 $$DATE  ==      .       ;**INIT** START
UP DATE GOES HERE
      8 001000                          .ASSUME .-LOWCOR EQ DATE
      9                                         .BLKW                   ;CURRENT
 DATE
     10         001002'                 $$TIME  ==      .       ;**INIT** START
UP TIME GOES HERE
     11 001002                          .ASSUME .-LOWCOR EQ TIME
     12                                         .BLKW                   ;CURRENT
 TIME
     13 001004                          .ASSUME .-LOWCOR EQ TIMSEC
     14 001004     074                          .BYTE   60.             ;SECONDS
 UNTIL NEXT MINUTE
     15 001005                          .ASSUME .-LOWCOR EQ TIMCLK
     16 001005     001                          .BYTE   1               ;TICKS U
NTIL NEXT SECOND
     17
     18                                 ; CURRENT JOB ("JOB") INFORMATION
     19
     20 001006                          .ASSUME .-LOWCOR EQ JOB
     21 001006     000                          .BYTE   0               ;CURRENT
 JOB ("JOB")
     22 001007                          .ASSUME .-LOWCOR EQ NEXT
     23 001007     000                          .BYTE   0               ;NEXT JO
B TO RUN
     24 001010                          .ASSUME .-LOWCOR EQ JOBDA
     25 001010  000000                          .WORD   0               ;-> "JOB
"S JOB DATA BLOCK
     26 001012                          .ASSUME .-LOWCOR EQ JOBF
     27 001012  000000G                         .WORD   ZERO            ;-> "JOB
"S JOB DATA BLOCK @ JDFLG
     28 001014                          .ASSUME .-LOWCOR EQ IOSTS
     29 001014  000000G                         .WORD   JUNK            ;-> "JOB
"S JOB DATA BLOCK @ JDIOST
     30 001016                          .ASSUME .-LOWCOR EQ JOBWRK
     31 001016  000000                          .WORD   0               ;-> "JOB
"S WORK BLOCK
     32 001020                          .ASSUME .-LOWCOR EQ JOBJD2
     33 001020  000000G                         .WORD   JUNK            ;-> "JOB
"S SECOND JOB DATA BLOCK
     34 001022                          .ASSUME .-LOWCOR EQ JOBRTS
     35 001022  000000                          .WORD   0               ;-> "JOB
"S RTS BLOCK
     36 001024                          .ASSUME .-LOWCOR EQ CPUTIM
     37 001024  000000G                         .WORD   JUNK            ;-> "JOB
"S CPU TIME BUCKET (JDB2 @ J2TICK)
     38 001026                          .ASSUME .-LOWCOR EQ JOBWDB
     39 001026  000000                          .WORD   0               ;-> "JOB
"S WDB BLOCK
     40
     41 001030                          GLOBAL  <ZERO,JUNK>
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 52
INITIAL MEMORY CONTROL LIST

      1                                 .SBTTL  INITIAL MEMORY CONTROL LIST
      2
      3 001030                                  ORG     LOWCOR
      4
      5         001040                  $$$$$$  =       40-<.-LOWCOR&37>&37+.-LO
WCOR
      6
      7 001030                                  ORG     LOWCOR,$$$$$$
      8
      9                                 .ENABL  LSB
     10
     11 001040                          .ASSUME .-LOWCOR&37 EQ 0
     12
     13         001040'                 $$MEML  ==      .       ;**INIT** ROOT O
F MEMORY CONTROL LIST
     14 001040  000000                  MEMLST::.WORD   0               ;LINK TO
 PREVIOUS @ +2
     15 001042  001110'                         .WORD   10$             ;LINK TO
 NEXT
     16 001044  000000                          .WORD   0               ;TOTAL S
IZE OF MEMORY
     17 001046     000                          .BYTE   0               ;SIZE OF
 MONITOR
     18 001047     200                          .BYTE   LCK             ;MONITOR
 IS LOCKED INTO MEMORY
     19 001050  000000                          .WORD   0               ;PHYSICA
L ADDRESS
     20
     21         001100                  $$$$$$  =       40-<.-LOWCOR&37>&37+.-LO
WCOR
     22
     23 001052                                  ORG     LOWCOR,$$$$$$
     24
     25 001100                          .ASSUME .-LOWCOR&37 EQ 0
     26
     27         001100'                 $$DRTS  ==      .       ;**INIT** DEFAUL
T RTS BLOCK
     28 001100                          DFTRTS: .BLKW0  16.             ;SYSTEM
DEFAULT RTS BLOCK
     29
     30 001140                                  ORG     LOWCOR,DFTRTS+R.MCTL-LOW
COR
     31
     32 001110  001042'                 10$:    .WORD   MEMLST+2        ;LINK TO
 PREVIOUS @ +2
     33 001112  001140'                         .WORD   20$             ;LINK TO
 NEXT
     34 001114  000000                          .WORD   0               ;TOTAL S
IZE IN K
     35 001116     000                          .BYTE   0               ;RTS SIZ
E
     36 001117     304                          .BYTE   LCK!SWP!IN      ;SWAP IN
 REQUEST
     37 001120  000000                          .WORD   0               ;PHYSICA
L ADDRESS
     38
     39         001140                  $$$$$$  =       40-<.-LOWCOR&37>&37+.-LO
WCOR
     40
     41 001122                                  ORG     LOWCOR,$$$$$$
     42
     43 001140                          .ASSUME .-LOWCOR&37 EQ 0
     44
     45         001140'                 $$MEMT  ==      .       ;**INIT** TAIL O
F MEMORY CONTROL LIST
     46 001140  001112'                 20$:    .WORD   10$+2           ;LINK TO
 PREVIOUS @ +2
     47 001142  000000                          .WORD   0               ;LINK TO
 NEXT
     48 001144  000001                          .WORD   1               ;TOTAL S
IZE IN K
     49 001146     001                          .BYTE   1               ;DUMMY 1
K SECTION
     50 001147     200                          .BYTE   LCK             ; LOCKED
 INTO MEMORY
     51 001150  000000                  MEMSIZ::.WORD   0               ;PHYSICA
L ADDRESS (MEMORY SIZE IN K*32.)
     52
     53                                 .DSABL  LSB
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 53
INITIAL MESSAGE RECEIVER LIST

      1                                 .SBTTL  INITIAL MESSAGE RECEIVER LIST
      2
      3 001152                                  ORG     LOWCOR
      4
      5         001200                  $$$$$$  =       40-<.-LOWCOR&37>&37+.-LO
WCOR
      6
      7 001152                                  ORG     LOWCOR,$$$$$$
      8
      9 001200                          .ASSUME .-LOWCOR&37 EQ 0
     10
     11 001200  000000                  ERLRIB::.WORD   0               ;NO LINK
 TO NEXT YET
     12 001202     105     122     122          .ASCII  "ERRLOG"        ;RECEIVE
R ID
        001205     114     117     107
     13 001210     000     000                  .BYTE   0,0             ;NO JOB
AND NO OBJECT TYPE
     14 001212     003     000                  .BYTE   SA.LCL!SA.PRV,0 ;ONLY LO
CAL PRIV'D SENDERS
     15 001214  002400                          .WORD   40.*40          ;BUFFER
MAXIMUM OF 40.
     16 001216     050     000                  .BYTE   40.,0           ;LIMIT O
F 40. AND NO MESSAGES
     17 001220  000000  001220'                 .WORD   0,.-2           ;NULL PE
NDING MESSAGE LIST INITIALLY
     18 001224                                  .BLKW0  6               ;EXTRA W
ORDS
     19
     20 001240                          .ASSUME .-LOWCOR&37 EQ 0
     21
     22                                 .SBTTL  NULL RUN-TIME SYSTEM DESCRIPTION
 BLOCK
     23
     24 001240                                  ORG     LOWCOR
     25
     26         001240                  $$$$$$  =       40-<.-LOWCOR&37>&37+.-LO
WCOR
     27
     28 001240                                  ORG     LOWCOR,$$$$$$
     29
     30 001240                          .ASSUME .-LOWCOR&37 EQ 0
     31
     32 001240  000000                  NULRTS::.WORD   0               ;LINK TO
 NOWHERE
     33 001242  131574  071620                  .RAD50  /...RSX/        ;NAME IS
 "...RSX"
     34 001246  000000                          .WORD   0               ;NO EXTE
NSION
     35 001250  000000  000000                  .WORD   0,0             ;NO LINK
 TO PREVIOUS OR NEXT
     36 001254  000000                          .WORD   0               ;NO TOTA
L SIZE IN K
     37 001256     000                          .BYTE   0               ;NO RTS
SIZE
     38 001257     200                          .BYTE   LCK             ;ALWAYS
LOCKED INTO MEMORY
     39 001260  000000                          .WORD   0               ;NO PHYS
ICAL ADDRESS
     40 001262  000000  000000                  .WORD   0,0             ;NO DATA
 ON DISK
     41 001266  000000  000000                  .WORD   0,0             ;NO FILE
 ON DISK
     42 001272     000     000                  .BYTE   0,0             ;NO COUN
TS (AS YET)
     43 001274                          NULMAX: .BLKB                   ;"SWPMAX
" MAXIMUM SIZE (FILLED IN...)
     44 001275     001                          .BYTE   1               ;1K WORD
 MINIMUM SIZE
     45 001276  000000                          .WORD   0               ;NO FLAG
S
     46
     47 001300                          .ASSUME .-LOWCOR&37 EQ 0
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 54
FILE PROCESSOR (FIP) INFORMATION

      1                                 .SBTTL  FILE PROCESSOR (FIP) INFORMATION
      2
      3 001300                                  ORG     LOWCOR
      4
      5 001300  000000                  FIQUE:: .WORD   0               ;FIP'S Q
UEUE ROOT
      6
      7                                 ;***** THE NEXT 5 ITEMS ARE GROUPED ****
*
      8 001302                          FIJOB:: .BLKB                   ;THE JOB
 NUMBER TIMES 2 OF THE JOB IN FIP
      9 001303                          FIPRIV::.BLKB                   ;<>0 =>
NON-PRIVILEGED FIP USER
     10 001304                          FIUSER::.BLKW                   ;PPN OF
JOB IN FIP
     11 001306                          FIJBDA::.BLKW                   ;-> JDB
OF JOB IN FIP
     12 001310                          FIJBD2::.BLKW                   ;-> JDB2
 OF JOB IN FIP
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 55
STACK REGIONS

      1                                 .SBTTL  STACK REGIONS
      2
      3 001312                                  ORG     LOWCOR
      4
      5 001312                          PWFSAV::                        ;START O
F POWER FAIL SAVE AREA
      6
      7         000000                  $$$$$$  =       0               ;STARTIN
G TRIAL STACK LIMIT VALUE
      8
      9         000012                  .REPT   10.                     ;10. ITE
RATIONS SHOULD DO IT!!
     10                                 .IIF    LT      $$$$$$+340-<PWFSAV-LOWCO
R>, $$$$$$=$$$$$$+400
     11                                 .ENDR
     12
     13 001312                                  ORG     LOWCOR,$$$$$$
     14
     15 001000                          SL.VAL::.BLKB   400             ;STACK L
IMIT VALUE
     16
     17                                         .BLKW   124.-13.        ;THIS IS
 THE MONITOR'S STACK
     18         001736'                 $$STAK  ==      .       ;**INIT** INITIA
L START UP SP STACK
     19 001736  000000G 034240                  .WORD   CLOKGO,PR5      ;FIRST S
TART THE CLOCK
     20 001742  000000G 034240                  .WORD   SETUP,PR5       ;SECOND
SET UP DYNAMIC INFORMATION
     21 001746  001312'                         .WORD   START           ;SET UP
THE FIRST JOB
     22                                         .BLKW   6               ;DUMMY S
AVED R0-R5
     23 001764  000000G 034140                  .WORD   FIPSYS,PR3      ;QUEUE A
 LOGIN REQUEST AND GO!
     24 001770  000077                  SYSTAK::.WORD   77              ;R0 FOR
NULL JOB
     25 001772  000000                          .WORD   0               ;R1 FOR
NULL JOB
     26         001774'                 $$NULW  ==      .       ;**INIT** SET TO
 <FREQ+<30./2>>/30.
     27 001774  000002                          .WORD   <60.+<30./2>>/30. ;R2 FO
R NULL JOB
     28 001776  000000                          .WORD   0               ;R3 FOR
NULL JOB
     29 002000  000000                          .WORD   0               ;R4 FOR
NULL JOB
     30 002002  000000                          .WORD   0               ;R5 FOR
NULL JOB
     31 002004  000000'                         .WORD   NULJOB          ;PC FOR
NULL JOB
     32 002006  004040                          .WORD   PR1&4340        ;PS FOR
NULL JOB
     33
     34                                         .BLKW   124.            ;THIS IS
 THE FIP STACK
     35 002400                          FISTAK::                        ;BASE (R
ESET) LOCATION
     36
     37 002400                          GLOBAL  <CLOKGO,SETUP,FIPSYS>
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 56
THE MONITOR BUFFER POOL

      1                                 .SBTTL  THE MONITOR BUFFER POOL
      2
      3                                 ; ROUND UP LOWCOR TO A 40(8) ADDRESS BOU
NDARY
      4                                 ; SO THAT BUFPOL WILL START AT A 40(8) A
DDRESS BOUNDARY
      5
      6 002400                                  ORG     LOWCOR
      7
      8         002400                  $$$$$$  =       40-<.-LOWCOR&37>&37+.-LO
WCOR
      9
     10 002400                                  ORG     LOWCOR,$$$$$$
     11
     12 002400                          .ASSUME .-LOWCOR&37 EQ 0
     13
     14                                 ; FIND SIZE OF BUFPOL SO THAT IOBUFR WIL
L START AT
     15                                 ; A 1000(8) ADDRESS BOUNDARY
     16
     17 002400                                  ORG     LOWCOR
     18
     19         000400                  $$$$$$  =       1000-<.-LOWCOR&777>
     20
     21 002400                                  ORG     BUFPOL
     22
     23 000000  000000'                 BUFPOL: .WORD   MORBUF          ;LINK TO
 REST OF BUFFER POOL
     24 000002  000000C                         .WORD   <$$BUFE-$$BUFS/40>*40 ;I
NITIAL MONITOR BUFFER POOL SIZE
     25                                         .BLKB   $$$$$$-4        ;SIZE TO
 FORCE IOBUFR TO 1000(8) BOUNDARY
     26
     27 000400                                  ORG     MORBUF
     28
     29                                 .IIF    NDF     SMLBUF, SMLBUF=30. ;DEFA
ULT INITIAL SIZE TO SOME MINIMUM
     30
     31 000000  000000                  MORBUF: .WORD   0               ;LINK TO
 NOWHERE
     32 000002  000000C                         .WORD   <$$MBFE-$$MBFS/40>*40 ;I
NITIAL REST OF POOL SIZE
     33                                         .BLKB   <SMLBUF*40>-4   ;ALLOCAT
E SPACE AS REQUESTED...
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 57
ONE-SHOT CODE/DATA "HIDDEN" IN LOWCOR

      1                                 .SBTTL  ONE-SHOT CODE/DATA "HIDDEN" IN L
OWCOR
      2
      3 001700                                  ORG     LOWCOR,PWFSAV-LOWCOR
      4
      5                                 ; INITIAL START CODE IS STORED HERE...
      6
      7 001312  116767  000000G 177754  START:  MOVB    SWPMAX,NULMAX   ;;SET MA
XIMUM FOR THE NULL RUN-TIME SYSTEM
      8 001320  005726                          TST     (SP)+           ;;POP TH
E ERROR CODE (POWER FAIL)
      9 001322  016767  001000  176514          MOV     DATE,IDATE      ;;SET ST
ARTING DATE
     10 001330  016767  001002  176510          MOV     TIME,ITIME      ;; AND T
IME
     11 001336  005000                          CLR     R0              ;;SET KB
0: AND
     12 001340  012701  000000'                 MOV     #KBDDDB,R1      ;; POINT
 TO ITS DDB
     13 001344                                  CALLMI  CREJOB,KBDAP5   ;;NOW CR
EATE THE FIRST JOB
        001344  004537  000000G                  JSR    R5,@#CALLMI
        001350  000010' 000004'                   .WORD CREJOB,KBDAP5
     14 001354  016301  000254'                 MOV     JOBTBL(R3),R1   ;;GET ->
 JOB DATA
     15 001360  016104  000006                  MOV     JDWORK(R1),R4   ;;GET ->
 WORK BLOCK NOW
     16 001364  110364  000002                  MOVB    R3,FQJOB(R4)    ;;SET JO
B NUMBER TIMES 2
     17 001370  112764  000054  000003          MOVB    #DSPFQ,FQFUN(R4) ;;SET G
ENERAL DISPATCH FUNCTION
     18 001376  016764  000100' 000036          MOV     $UUOTBL+<UU.LIN-UU$MIN*2
>,FQADDR(R4) ;;GO TO LOGIN
     19 001404  042764  000001  000036          BIC     #1,FQADDR(R4)   ;; CLEAR
ING THE "PRIV" BIT
     20 001412  005063  000340'                 CLR     JBSTAT(R3)      ;;SAY JO
B IS WAITING
     21 001416  012763  010000  000422'         MOV     #JSFIP,JBWAIT(R3) ;; ON
FIP
     22 001424  000002                          RTI                     ;;NOW OF
F!!!
     23
     24 001426                          GLOBAL  <SWPMAX>
     25
     26                                 ; THE 40-56 CONTENTS ARE STORED HERE...
     27
     28         001426'                 $$LOWC  ==      .       ;**INIT** START
OF CONTENTS FOR 40-56
     29 001426  000137  000000'         10$:    JMP     @#RELOAD        ;40 - DO
 A SYSTEM RELOAD
     30
     31                                         .BLKW                   ;44 - ST
ART UP DATE
     32                                         .BLKW                   ;46 - ST
ART UP TIME
     33
     34 001436  000773                          BR      10$             ;50 - DO
 A SYSTEM RELOAD
     35 001440  000434                          BR      DODUMP+<$$LOWC-$$LOWS> ;
52 - DO A CRASH DUMP/AUTO-RESTART
     36 001442  000000                          HALT                    ;54 - A
'HALT' (THE ONLY ONE!)
     37 001444  000770                          BR      10$             ;56 - DO
 A SYSTEM RELOAD
     38
     39 001446                          .ASSUME .-$$LOWC EQ $$LOWE-$$LOWS
     40
     41 001446                          .ASSUME .       LE      $$STAK-100
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 58
THE NULL JOB

      1                                 .SBTTL  THE NULL JOB
      2
      3 001446                                  DEFORG  NULJOB
      4
      5 000000  010201                  NULJOB: MOV     R2,R1           ;RESET D
ELAY COUNTER
      6 000002  000001                  10$:    WAIT                    ;NOW WAI
T...
      7 000004  077102                          SOB     R1,10$          ; FOR SP
ECIFIED DELAY
      8 000006  006100                          ROL     R0              ;SHIFT T
HE LIGHTS
      9 000010  000773                          BR      NULJOB          ; AND CO
NTINUE
     10
     11                                 .SBTTL  CRASH DUMP/RELOADS
     12
     13 000012                                  ORG     TBL
     14
     15                                 .ENABL  LSB
     16
     17 000000                          RELOAD::SPLC    7               ;;;LOCK
EVERYTHING
        000000  012737  034340  177776           MOV    #PR7,@#PS
     18 000006  005037  177572                  CLR     @#MMUSR0        ;;;NO ME
MORY MANAGEMENT NOW
     19 000012  005077  000000G                 CLR     @MMU22W         ;;; AND
NO UNIBUS WINDOW
     20 000016  012706  000014'                 MOV     #BOOTSP,SP      ;;;SET A
 TEMP STACK
     21 000022                                  CALL    50$             ;;;CALL
FOR A READ OF BOOT BLOCK
        000022  004767  000102                   JSR    PC,50$
     22 000026  100037                          BPL     40$             ;;;O.K.,
 TAKE OFF
     23 000030  000167  000054'         10$:    JMP     HALT            ;;;ERROR
, HALT
     24
     25 000034                          CRSDMP::SPLC    7               ;;;LOCK
EVERYTHING
        000034  012737  034340  177776           MOV    #PR7,@#PS
     26 000042  005037  177572                  CLR     @#MMUSR0        ;;;NO ME
MORY MANAGEMENT NOW
     27 000046  005077  000000G                 CLR     @MMU22W         ;;; AND
NO UNIBUS WINDOW
     28 000052  012706  000014'                 MOV     #BOOTSP,SP      ;;;SET A
 TEMP STACK
     29 000056  005767  000400'                 TST     BOOT+400        ;;;CAN W
E WRITE A DUMP IMAGE?
     30 000062  001402                          BEQ     20$             ;;;NO WA
Y
     31 000064                                  CALL    BOOT+46         ;;;TRY T
O WRITE A CRASH DUMP IMAGE
        000064  004767  000046'                  JSR    PC,BOOT+46
     32 000070  027727  000000G 177777  20$:    CMP     @SWITCH,#-1     ;;;SHOUL
D WE AUTO-RESTART?
     33 000076  001354                          BNE     10$             ;;;NOPE
     34         000076'                 VOLSW1  ==      .-2     ;SWITCH REGISTER
 CHECK LOCATION
     35 000100  016746  000046'                 MOV     ITIME,-(SP)     ;;;SAVE
THE STARTUP TIME
     36 000104                          30$:    CALL    50$             ;;;NOW R
E-BOOT THE SYSTEM
        000104  004767  000020                   JSR    PC,50$
     37 000110  100775                          BMI     30$             ;;;WAIT
UNTIL WE CAN...
     38 000112  026726  001002                  CMP     TIME,(SP)+      ;;;HAVE
WE BEEN UP MORE THAN 1 MINUTE?
     39 000116  001403                          BEQ     40$             ;;;NO, S
O NO AUTO-RESTART
     40 000120  162737  000004  000026          SUB     #4,@#26         ;;;BACK
OFF 2 WORDS FOR AUTO-RESTART
     41         000122'                 VOLSW2  ==      .-4     ;PC BACKUP AMOUN
T LOCATION
     42 000126  005007                  40$:    CLR     PC              ;;; AND
GO
     43
     44 000130  116767  000040' 000042' 50$:    MOVB    BOOT+40,BOOT+42 ;;;SET F
UNCTION AS READ
     45 000136  012767  000400  000032'         MOV     #400,BOOT+32    ;;; OF 1
 BLOCK
     46 000144  005067  000400'                 CLR     BOOT+400        ;;;  AND
 IT IS BLOCK 0
     47 000150                                  CALLR   BOOT+46         ;;;NOW D
O IT
        000150  000167  000046'                  JMP    BOOT+46
     48
     49                                 .DSABL  LSB
     50
     51 000154                          GLOBAL  <MMU22W,SWITCH>
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 59
CHECK FOR NETWORK MESSAGE SEND/RECEIVE

      1                                 .SBTTL  CHECK FOR NETWORK MESSAGE SEND/R
ECEIVE
      2
      3                                 ;+
      4                                 ; NSPCHK - CHECK FOR NETWORK SPECIAL HAN
DLING.
      5                                 ;
      6                                 ;       R1 -> JOB DATA BLOCK @ JDFLG
[.MESAG, RCV, REMOVE, DCL]
      7                                 ;       R4 -> FIRQB
[.MESAG, RCV, REMOVE, DCL]
      8                                 ;       R5 -> RIB OF REMOVING RECEIVER
[REMOVE]
      9                                 ;
     10                                 ;       CALL    NSPCHK
     11                                 ;
     12                                 ;       IF Z=0 THEN NO NETWORKS
[.MESAG, RECEIVE]
     13                                 ;       IF Z=1 THEN NETWORKS EXISTS
[.MESAG, RECEIVE]
     14                                 ;
     15                                 ;       IF C=0 THEN NO ERROR
[RECEIVE]
     16                                 ;       IF C=1 THEN ERROR
[RECEIVE]
     17                                 ;
     18                                 ;       IF V=0 THEN NO FIP ENTER
[.MESAG]
     19                                 ;       IF V=1 THEN FIP ENTER
[.MESAG]
     20                                 ;
     21                                 ;-
     22
     23 000154                                  DEFORG  NSPCHK
     24
     25 000000  000257                  NSPCHK: CCC                     ;NO NETS
 (Z=0), ERROR (C=0), NOR FIP (V=0)
     26 000002                                  RETURN                  ; AND EX
IT
        000002  000207                           RTS    PC
     27
     28                                 .SBTTL  NSP TIMEOUTS
     29
     30                                 ;+
     31                                 ; NSPTMO - NSP TIMEOUTS.
     32                                 ;
     33                                 ; THIS SUBROUTINE IS CALLED ONCE A SECON
D, EVERY SECOND...
     34                                 ;-
     35
     36 000004                                  DEFORG  NSPTMO
     37
     38 000000                          NSPTMO: RETURN                  ;NOTHING
 UNLESS OVERLAID
        000000  000207                           RTS    PC
     39
     40                                 .SBTTL  2780 (RJE) TIMEOUTS
     41
     42                                 ;+
     43                                 ; RJETMO - 2780 (RJE) TIMEOUTS.
     44                                 ;
     45                                 ; THIS SUBROUTINE IS CALLED ONCE A TICK,
 EVERY TICK...
     46                                 ;-
     47
     48 000002                                  DEFORG  RJETMO
     49
     50 000000                          RJETMO: RETURN                  ;;NOTHIN
G UNLESS OVERLAID
        000000  000207                           RTS    PC
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 60
DEFINE ERROR LOGGING FOR DEVICES

      1                                 .SBTTL  DEFINE ERROR LOGGING FOR DEVICES
      2
      3 000002                          .DSECT  +EMT+LOG$SZ
      4
      5 104044                          $NAMES
      6                                 .IF     DIF     <NAME>,<SY>
      7                                 .IF     DIF     <NAME>,<NL>
      8                                 .IF     DIF     <NAME>,<PK>
      9                                 .LIST
     10                                 LOG$'NAME::.BLKW                ;LOG AN
ERROR FOR NAME
     11                                 .NLIST
     12                                         ERRENT  LOG$'NAME,ERL$'NAME
     13                                 .GLOBL  ERL$'NAME
     14                                 .ASECT
     15                                 .ENDC
     16                                 .ENDC
     17                                 .ENDC
     18                                 .ENDM
        104044                          LOG$KB::.BLKW           ;LOG AN ERROR FO
R KB
        000044  000000G                          .WORD  ERL$KB          ; LOAD E
RRTBL FOR LOG$KB
        104046                          LOG$LP::.BLKW           ;LOG AN ERROR FO
R LP
        000046  000000G                          .WORD  ERL$LP          ; LOAD E
RRTBL FOR LOG$LP
        104050                          LOG$PR::.BLKW           ;LOG AN ERROR FO
R PR
        000050  000000G                          .WORD  ERL$PR          ; LOAD E
RRTBL FOR LOG$PR
        104052                          LOG$PP::.BLKW           ;LOG AN ERROR FO
R PP
        000052  000000G                          .WORD  ERL$PP          ; LOAD E
RRTBL FOR LOG$PP
        104054                          LOG$MM::.BLKW           ;LOG AN ERROR FO
R MM
        000054  000000G                          .WORD  ERL$MM          ; LOAD E
RRTBL FOR LOG$MM
        104056                          LOG$DX::.BLKW           ;LOG AN ERROR FO
R DX
        000056  000000G                          .WORD  ERL$DX          ; LOAD E
RRTBL FOR LOG$DX
     19         000060                  LOG$SZ  =       .&377   ;SIZE OF ERRTBL
IN BYTES
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 61
DEFINE LEVEL 3 QUEUE BITS FOR DEVICES

      1                                 .SBTTL  DEFINE LEVEL 3 QUEUE BITS FOR DE
VICES
      2
      3 104060                          .DSECT  100001
      4
      5 100001                          QFAST:  .BLKB   .&77777 ;RESERVED FOR SO
ME FAST I/O DRIVER
      6
      7 100002                          $NAMES
      8                                 .IF     DIF     <NAME>,<SY>
      9                                 L3Q$'NAME
     10                                 .ASSUME .       NE      0
     11                                 .ENDC
     12                                 .ENDM
        100002                          QMMCON::.BLKB   .&77777 ;LEVEL 3 QUEUE B
IT FOR MM FOR CON
        000002  000004'                          .WORD  MMDAP5          ; LOAD L
3QPAR WITH MMDAP5
        000002  000000G                          .WORD  CON$MM          ; LOAD L
3QTBL FOR QMMCON
        100004                          QMMDNE::.BLKB   .&77777 ;LEVEL 3 QUEUE B
IT FOR MM FOR DNE
        000004  000004'                          .WORD  MMDAP5          ; LOAD L
3QPAR WITH MMDAP5
        000004  000000G                          .WORD  DNE$MM          ; LOAD L
3QTBL FOR QMMDNE
        100010                          QDXCON::.BLKB   .&77777 ;LEVEL 3 QUEUE B
IT FOR DX FOR CON
        000006  000004'                          .WORD  DXDAP5          ; LOAD L
3QPAR WITH DXDAP5
        000006  000000G                          .WORD  CON$DX          ; LOAD L
3QTBL FOR QDXCON
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 62
DEVICE NAME TABLE (DEVNAM)

      1                                 .SBTTL  DEVICE NAME TABLE (DEVNAM)
      2
      3 100020                                  ORG     TBL
      4
      5 000154  054523                          .WORD   "SY
      6 000156                          DEVNAM::
      7 000156                          $DISKS
      8                                         .WORD   "NAME
      9                                 .ENDM
        000156  041504                          .WORD   "DC
        000160  043104                          .WORD   "DF
        000162  051504                          .WORD   "DS
        000164  045504                          .WORD   "DK
        000166  046104                          .WORD   "DL
        000170  046504                          .WORD   "DM
        000172  050104                          .WORD   "DP
        000174  051104                          .WORD   "DR
        000176  041104                          .WORD   "DB
     10 000200                          DEVNKB::
     11 000200                          $NAMES
     12                                 .IF     DIF     <NAME>,<SY>
     13                                 NAM.'NAME:
     14                                         .WORD   "NAME
     15                                 .ENDC
     16                                 .ENDM
        000200  041113                          .WORD   "KB
        000202  046116                          .WORD   "NL
        000204  045520                          .WORD   "PK
        000206  050114                          .WORD   "LP
        000210  051120                          .WORD   "PR
        000212  050120                          .WORD   "PP
        000214  046515                          .WORD   "MM
        000216  054104                          .WORD   "DX
     17 000220                          DEVSYN::
     18 000220                          $NAMES
     19                                 .IF     DF      ALT.'NAME
     20                                         .WORD   ALT.'NAME
     21                                 .ENDC
     22                                 .ENDM
        000220  052124                          .WORD   ALT.KB
        000222  052115                          .WORD   ALT.MM
        000224  054504                          .WORD   ALT.DX
     23 000226  177777                          .WORD   -1
     24
     25         000022                  DEVOKB  ==      DEVNKB-DEVNAM   ;OFFSET
FROM 'DEVNAM' TO 'DEVNKB'
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 63
DEVICE MAXIMAL UNIT TABLE (DEVCNT)

      1                                 .SBTTL  DEVICE MAXIMAL UNIT TABLE (DEVCN
T)
      2
      3 000230                                  ORG     TBL
      4
      5 000230  000000                          .WORD   1-1
      6 000232                          DEVCNT::
      7 000232                          $DISKS
      8                                         .WORD   CNT.'NAME-1
      9                                 .ENDM
        000232  177777                          .WORD   CNT.DC-1
        000234  177777                          .WORD   CNT.DF-1
        000236  177777                          .WORD   CNT.DS-1
        000240  177777                          .WORD   CNT.DK-1
        000242  000003                          .WORD   CNT.DL-1
        000244  177777                          .WORD   CNT.DM-1
        000246  177777                          .WORD   CNT.DP-1
        000250  000007                          .WORD   CNT.DR-1
        000252  000007                          .WORD   CNT.DB-1
     10 000254                          $NAMES
     11                                 .IF     DIF     <NAME>,<SY>
     12                                         .WORD   CNT.'NAME-1
     13                                 .ENDC
     14                                 .ENDM
        000254  000103                          .WORD   CNT.KB-1
        000256  000000                          .WORD   CNT.NL-1
        000260  000003                          .WORD   CNT.PK-1
        000262  000000                          .WORD   CNT.LP-1
        000264  000000                          .WORD   CNT.PR-1
        000266  000000                          .WORD   CNT.PP-1
        000270  000001                          .WORD   CNT.MM-1
        000272  000007                          .WORD   CNT.DX-1
     15
     16         000054                  DEVOSN  ==      .-DEVSYN        ;OFFSET
FROM 'DEVNAM' TO 'DEVCNT'
     17
     18 000274                          $NAMES
     19                                 .IF     DF      ALT.'NAME
     20                                         .WORD   NAM.'NAME+2
     21                                 .ENDC
     22                                 .ENDM
        000274  000202'                         .WORD   NAM.KB+2
        000276  000216'                         .WORD   NAM.MM+2
        000300  000220'                         .WORD   NAM.DX+2
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 64
POINTER TO DDB POINTER TABLE (DEVPTR)

      1                                 .SBTTL  POINTER TO DDB POINTER TABLE (DE
VPTR)
      2
      3 000302                                  ORG     TBL
      4
      5         000302'                 $$SYSP  ==      .       ;**INIT** -> UNT
CNT ENTRY OF SYSTEM DISK
      6 000302  001722'                         .WORD   UNTCNT
      7 000304                          DEVPTR::
      8 000304                          $DISKS
      9                                         .WORD   DEV.'NAME
     10                                 .ENDM
        000304  001722'                         .WORD   DEV.DC
        000306  001722'                         .WORD   DEV.DF
        000310  001722'                         .WORD   DEV.DS
        000312  001722'                         .WORD   DEV.DK
        000314  001722'                         .WORD   DEV.DL
        000316  001732'                         .WORD   DEV.DM
        000320  001732'                         .WORD   DEV.DP
        000322  001732'                         .WORD   DEV.DR
        000324  001752'                         .WORD   DEV.DB
     11 000326                          $NAMES
     12                                 .IF     DIF     <NAME>,<SY>
     13                                         .WORD   DEV.'NAME
     14                                 .ENDC
     15                                 .ENDM
        000326  000000'                         .WORD   DEV.KB
        000330  000210'                         .WORD   DEV.NL
        000332  000212'                         .WORD   DEV.PK
        000334  000222'                         .WORD   DEV.LP
        000336  000224'                         .WORD   DEV.PR
        000340  000226'                         .WORD   DEV.PP
        000342  000230'                         .WORD   DEV.MM
        000344  000234'                         .WORD   DEV.DX
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 65
TABLE OF DDB POINTERS (DEVTBL)

      1                                 .SBTTL  TABLE OF DDB POINTERS (DEVTBL)
      2
      3 000346                                  ORG     RAWMEM
      4
      5 000000                          RAWMEM:
      6 000000                          DEVTBL::
      7 000000                          $NAMES
      8                                 .IF     DIF     <NAME>,<SY>
      9                                 .IF     IDN     <NAME>,<NL>
     10                                 .LIST
     11                                 DEVTBE::
     12                                 .NLIST
     13                                 .ENDC
     14                                 .LIST
     15                                 DEV.'NAME::
     16                                 .NLIST
     17                                 .DSABL  CRF
     18                                 $$$$$$  =       0
     19                                 .REPT   CNT.'NAME
     20                                 .IF     IDN     <NAME>,<KB>
     21                                 .IF     DF      DDS.KB
     22                                         .WORD   KBDDDB+<DDS.KB*$$$$$$>
     23                                 .IFF
     24                                         .WORD   0       ;FILLED IN...
     25                                 .ENDC
     26                                 .IFF
     27                                         .WORD   NAME'DDDB+<DDS.'NAME*$$$
$$$>
     28                                 .ENDC
     29                                 $$$$$$  =       $$$$$$+1
     30                                 .ENDR
     31                                 .ENABL  CRF
     32                                 .ENDC
     33                                 .ENDM
        000000                          DEV.KB::
        000000  000000                          .WORD   0       ;FILLED IN...
        000002  000000                          .WORD   0       ;FILLED IN...
        000004  000000                          .WORD   0       ;FILLED IN...
        000006  000000                          .WORD   0       ;FILLED IN...
        000010  000000                          .WORD   0       ;FILLED IN...
        000012  000000                          .WORD   0       ;FILLED IN...
        000014  000000                          .WORD   0       ;FILLED IN...
        000016  000000                          .WORD   0       ;FILLED IN...
        000020  000000                          .WORD   0       ;FILLED IN...
        000022  000000                          .WORD   0       ;FILLED IN...
        000024  000000                          .WORD   0       ;FILLED IN...
        000026  000000                          .WORD   0       ;FILLED IN...
        000030  000000                          .WORD   0       ;FILLED IN...
        000032  000000                          .WORD   0       ;FILLED IN...
        000034  000000                          .WORD   0       ;FILLED IN...
        000036  000000                          .WORD   0       ;FILLED IN...
        000040  000000                          .WORD   0       ;FILLED IN...
        000042  000000                          .WORD   0       ;FILLED IN...
        000044  000000                          .WORD   0       ;FILLED IN...
        000046  000000                          .WORD   0       ;FILLED IN...
        000050  000000                          .WORD   0       ;FILLED IN...
        000052  000000                          .WORD   0       ;FILLED IN...
        000054  000000                          .WORD   0       ;FILLED IN...
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 65-1
TABLE OF DDB POINTERS (DEVTBL)

        000056  000000                          .WORD   0       ;FILLED IN...
        000060  000000                          .WORD   0       ;FILLED IN...
        000062  000000                          .WORD   0       ;FILLED IN...
        000064  000000                          .WORD   0       ;FILLED IN...
        000066  000000                          .WORD   0       ;FILLED IN...
        000070  000000                          .WORD   0       ;FILLED IN...
        000072  000000                          .WORD   0       ;FILLED IN...
        000074  000000                          .WORD   0       ;FILLED IN...
        000076  000000                          .WORD   0       ;FILLED IN...
        000100  000000                          .WORD   0       ;FILLED IN...
        000102  000000                          .WORD   0       ;FILLED IN...
        000104  000000                          .WORD   0       ;FILLED IN...
        000106  000000                          .WORD   0       ;FILLED IN...
        000110  000000                          .WORD   0       ;FILLED IN...
        000112  000000                          .WORD   0       ;FILLED IN...
        000114  000000                          .WORD   0       ;FILLED IN...
        000116  000000                          .WORD   0       ;FILLED IN...
        000120  000000                          .WORD   0       ;FILLED IN...
        000122  000000                          .WORD   0       ;FILLED IN...
        000124  000000                          .WORD   0       ;FILLED IN...
        000126  000000                          .WORD   0       ;FILLED IN...
        000130  000000                          .WORD   0       ;FILLED IN...
        000132  000000                          .WORD   0       ;FILLED IN...
        000134  000000                          .WORD   0       ;FILLED IN...
        000136  000000                          .WORD   0       ;FILLED IN...
        000140  000000                          .WORD   0       ;FILLED IN...
        000142  000000                          .WORD   0       ;FILLED IN...
        000144  000000                          .WORD   0       ;FILLED IN...
        000146  000000                          .WORD   0       ;FILLED IN...
        000150  000000                          .WORD   0       ;FILLED IN...
        000152  000000                          .WORD   0       ;FILLED IN...
        000154  000000                          .WORD   0       ;FILLED IN...
        000156  000000                          .WORD   0       ;FILLED IN...
        000160  000000                          .WORD   0       ;FILLED IN...
        000162  000000                          .WORD   0       ;FILLED IN...
        000164  000000                          .WORD   0       ;FILLED IN...
        000166  000000                          .WORD   0       ;FILLED IN...
        000170  000000                          .WORD   0       ;FILLED IN...
        000172  000000                          .WORD   0       ;FILLED IN...
        000174  000000                          .WORD   0       ;FILLED IN...
        000176  000000                          .WORD   0       ;FILLED IN...
        000200  000000                          .WORD   0       ;FILLED IN...
        000202  000000                          .WORD   0       ;FILLED IN...
        000204  000000                          .WORD   0       ;FILLED IN...
        000206  000000                          .WORD   0       ;FILLED IN...
        000210                          DEVTBE::
        000210                          DEV.NL::
        000210  000000'                         .WORD   NLDDDB+<DDS.NL*$$$$$$>
        000212                          DEV.PK::
        000212  000000'                         .WORD   PKDDDB+<DDS.PK*$$$$$$>
        000214  000014'                         .WORD   PKDDDB+<DDS.PK*$$$$$$>
        000216  000030'                         .WORD   PKDDDB+<DDS.PK*$$$$$$>
        000220  000044'                         .WORD   PKDDDB+<DDS.PK*$$$$$$>
        000222                          DEV.LP::
        000222  000000'                         .WORD   LPDDDB+<DDS.LP*$$$$$$>
        000224                          DEV.PR::
        000224  000000'                         .WORD   PRDDDB+<DDS.PR*$$$$$$>
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 65-2
TABLE OF DDB POINTERS (DEVTBL)

        000226                          DEV.PP::
        000226  000000'                         .WORD   PPDDDB+<DDS.PP*$$$$$$>
        000230                          DEV.MM::
        000230  000000'                         .WORD   MMDDDB+<DDS.MM*$$$$$$>
        000232  000046'                         .WORD   MMDDDB+<DDS.MM*$$$$$$>
        000234                          DEV.DX::
        000234  000000'                         .WORD   DXDDDB+<DDS.DX*$$$$$$>
        000236  000034'                         .WORD   DXDDDB+<DDS.DX*$$$$$$>
        000240  000070'                         .WORD   DXDDDB+<DDS.DX*$$$$$$>
        000242  000124'                         .WORD   DXDDDB+<DDS.DX*$$$$$$>
        000244  000160'                         .WORD   DXDDDB+<DDS.DX*$$$$$$>
        000246  000214'                         .WORD   DXDDDB+<DDS.DX*$$$$$$>
        000250  000250'                         .WORD   DXDDDB+<DDS.DX*$$$$$$>
        000252  000304'                         .WORD   DXDDDB+<DDS.DX*$$$$$$>
     34 000254                          DEVEND::
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 66
JOB TABLES

      1                                 .SBTTL  JOB TABLES
      2
      3                                 ; ABSOLUTE GLOBALIZATIONS
      4
      5         000030                  JOBMAX  ==      JOBMAX          ;MAXIMAL
 JOB NUMBER
      6         000060                  JOBMX2  ==      JOBMAX*2        ;(MAXIMA
L JOB NUMBER)*2
      7
      8                                 ; MAIN JOB TABLE
      9
     10 000254                                  ORG     RAWMEM
     11
     12 000254                          JOBTBL::.BLKW0  JOBMAX+1        ;INITIAL
LY ALL ARE 0
     13 000336  177777                          .WORD   -1              ;ENDING
WITH A WORD OF -1
     14
     15                                 ; JOB STATUS (JBSTAT) AND JOB WAIT (JBWA
IT) TABLES
     16
     17 000340                                  ORG     RAWMEM
     18
     19 000340                          JBSTAT::.BLKW0  JOBMAX+1        ;INITIAL
LY ALL ARE 0
     20
     21 000422                          JBWAIT::.BLKW0  JOBMAX+1        ;INITIAL
LY ALL ARE 0
     22
     23                                 .SBTTL  RUN-TIME SYSTEM & RESIDENT LIBRA
RY LISTS
     24
     25 000504                                  ORG     RAWMEM
     26
     27 000504  001100'                 RTSLST::.WORD   DFTRTS          ;RTS LIS
T ROOT
     28 000506  000000                  LIBLST::.WORD   0               ;LIB LIS
T ROOT
     29
     30                                 .SBTTL  MESSAGE RECEIVER LIST & NSP CONT
ROL POINTER
     31
     32 000510  001200'                 SNDLST::.WORD   ERLRIB          ;MESSAGE
 RECEIVER LIST ROOT
     33 000512  000000'                         .WORD   NSPCTL          ;HOOK FO
R 'PEEKING' AT NSP
     34 000514  000000                  SPLLST::.WORD   0               ;SPOOLED
 DEVICE LIST
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 67
MORE TABLES

      1                                 .SBTTL  MORE TABLES
      2
      3                                 ; THE JOB STATUS BIT TABLE
      4
      5 000516                                  ORG     TBL
      6
      7 000346                          JSBTBL::
      8 000346                          $NAMES
      9                                         .WORD   JS.'NAME
     10                                 .ENDM
        000346  000001                          .WORD   JS.SY
        000350  000002                          .WORD   JS.KB
        000352  000001                          .WORD   JS.NL
        000354  000004                          .WORD   JS.PK
        000356  000010                          .WORD   JS.LP
        000360  000020                          .WORD   JS.PR
        000362  000040                          .WORD   JS.PP
        000364  000001                          .WORD   JS.MM
        000366  000001                          .WORD   JS.DX
     11
     12                                 ; THE I/O DRIVER POINTER TO KISAR5 VALUE
 TABLE
     13
     14 000370                                  ORG     TBL
     15
     16 000370                          DVRAP5::
     17 000370                          $NAMES
     18                                 .IF     IDN     <NAME>,<NL>
     19                                         .WORD   SYDAP5
     20                                 .IFF
     21                                 .IF     IDN     <NAME>,<PK>
     22                                         .WORD   KBDAP5
     23                                 .IFF
     24                                         .WORD   NAME'DAP5
     25                                 .ENDC
     26                                 .ENDC
     27                                 .ENDM
        000370  000004'                         .WORD   SYDAP5
        000372  000004'                         .WORD   KBDAP5
        000374  000004'                         .WORD   SYDAP5
        000376  000004'                         .WORD   KBDAP5
        000400  000004'                         .WORD   LPDAP5
        000402  000004'                         .WORD   PRDAP5
        000404  000004'                         .WORD   PPDAP5
        000406  000004'                         .WORD   MMDAP5
        000410  000004'                         .WORD   DXDAP5
     28 000412                          DVRA5E::                        ;END OF
TABLE
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 68
DISK POINTER TABLE AND UMR FREED UP DISPATCH TABLE

      1                                 .SBTTL  DISK POINTER TABLE AND UMR FREED
 UP DISPATCH TABLE
      2
      3                                 ; ***** THESE 2 TABLES ARE GROUPED *****
      4
      5 000412                          DSKPTR::
      6 000412                          $DISKS
      7                                 .IF     NE      CNT.'NAME
      8                                         .WORD   $'NAME'DINT+DQS$OO
      9                                 .ENDC
     10                                 .ENDM
        000412  000012'                         .WORD   $DLDINT+DQS$OO
        000414  000012'                         .WORD   $DRDINT+DQS$OO
        000416  000012'                         .WORD   $DBDINT+DQS$OO
     11 000420                          UMRKB:
     12 000420                          $NAMES
     13                                 .IF     DIF     <NAME>,<SY>
     14                                 .IF     DF      UMR.'NAME
     15                                         .WORD   UMR$'NAME
     16                                 .DSABL  CRF
     17                                 .GLOBL  UMR$'NAME
     18                                 .ENABL  CRF
     19                                 .IFF
     20                                         .WORD   0
     21                                 .ENDC
     22                                 .ENDC
     23                                 .ENDM
        000420  000000                          .WORD   0
        000422  000000                          .WORD   0
        000424  000000                          .WORD   0
        000426  000000                          .WORD   0
        000430  000000                          .WORD   0
        000432  000000                          .WORD   0
        000434  000000G                         .WORD   UMR$MM
        000436  000000G                         .WORD   UMR$DX
     24 000440                          UMREND::                        ;END OF
TABLE
     25
     26 000440                          .ASSUME UMREND-UMRKB    EQ      DVRA5E-<
DVRAP5+2>
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 69
TIMEOUT TABLES

      1                                 .SBTTL  TIMEOUT TABLES
      2
      3 000440                                  ORG     RAWMEM
      4
      5                                 ; ***** 'JOBCLK' AND 'TIMTBL' ARE GROUPE
D *****
      6
      7 000516                          JOBCLK::.BLKW0  JOBMAX+1        ;JOB "SL
EEP" TIMES
      8
      9 000600                          TIMTBL::                        ;DEVICE
TIMEOUTS
     10 000600                          DSS$XX::
     11 000600                          $DISKS
     12                                 .IF     NE      CNT.'NAME
     13                                 .LIST
     14                                 DSS$'NAME::
     15                                 .NLIST
     16                                         .BLKW0  CNT.'NAME
     17                                 .LIST
     18                                 DSE$'NAME::
     19                                 .NLIST
     20                                 .ENDC
     21                                 .ENDM
        000600                          DSS$DL::
        000610                          DSE$DL::
        000610                          DSS$DR::
        000630                          DSE$DR::
        000630                          DSS$DB::
        000650                          DSE$DB::
     22 000650                          $NAMES
     23                                 .IF     DIF     <NAME>,<SY>
     24                                 .LIST
     25                                 TIM.'NAME::
     26                                 .NLIST
     27                                         .BLKW0  CNT.'NAME
     28                                 .ENDC
     29                                 .ENDM
        000650                          TIM.KB::
        001060                          TIM.NL::
        001062                          TIM.PK::
        001072                          TIM.LP::
        001074                          TIM.PR::
        001076                          TIM.PP::
        001100                          TIM.MM::
        001104                          TIM.DX::
     30 001124                          TIMEND::
     31
     32         177130                  DDO.XX  ==      DEV.KB-TIM.KB   ;OFFSET
TO DDB TABLE FROM TIMEOUT TABLE
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 70
DEVICE CSR TABLE

      1                                 .SBTTL  DEVICE CSR TABLE
      2
      3 001124                                  ORG     TBL
      4
      5 000440                          CSRTBL::
      6 000440                          DSKCSR::
      7 000440                          $DISKS
      8                                 .IF     NE      CNT.'NAME
      9                                 .LIST
     10                                 CSR.'NAME::
     11                                 $$CS'NAME       ==      .       ;**INIT*
* DISK CSR FILLED IN
     12                                 .NLIST
     13                                 .NLIST
     14                                         .WORD   0
     15                                 .LIST
     16                                 .ENDC
     17                                 .ENDM
        000440                          CSR.DL::
                000440'                 $$CSDL  ==      .       ;**INIT** DISK C
SR FILLED IN
        000442                          CSR.DR::
                000442'                 $$CSDR  ==      .       ;**INIT** DISK C
SR FILLED IN
        000444                          CSR.DB::
                000444'                 $$CSDB  ==      .       ;**INIT** DISK C
SR FILLED IN
     18 000446                          $NAMES
     19                                 .IF     DIF     <NAME>,<SY>
     20                                 .IF     DIF     <NAME>,<NL>
     21                                 .IF     DIF     <NAME>,<PK>
     22                                 .LIST
     23                                 CSR.'NAME::
     24                                 .NLIST
     25                                 .IF     NDF     CSR$'NAME
     26                                 .LIST
     27                                 $$CS'NAME       ==      .       ;**INIT*
* CSR(S) FILLED IN
     28                                 .NLIST
     29                                 .ENDC
     30                                 .ENDC
     31                                 .ENDC
     32                                 .IF     IDN     <NAME>,<KB>
     33                                         .BLKW0  PKSTKB
     34                                         .BLKW0  CNT.PK,PKDCTL
     35                                         .BLKW0  CNT.KB-PKSTKB-CNT.PK
     36                                 .IFF
     37                                 .IF     NDF     CSR$'NAME
     38                                         .BLKW0  CNT.'NAME
     39                                 .IFF
     40                                         .BLKW0  CNT.'NAME,CSR$'NAME
     41                                 .ENDC
     42                                 .ENDC
     43                                 .ENDC
     44                                 .ENDM
        000446                          CSR.KB::
                000446'                 $$CSKB  ==      .       ;**INIT** CSR(S)
 FILLED IN
        000670                          CSR.LP::
                000670'                 $$CSLP  ==      .       ;**INIT** CSR(S)
 FILLED IN
        000672                          CSR.PR::
                000672'                 $$CSPR  ==      .       ;**INIT** CSR(S)
 FILLED IN
        000674                          CSR.PP::
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 70-1
DEVICE CSR TABLE

                000674'                 $$CSPP  ==      .       ;**INIT** CSR(S)
 FILLED IN
        000676                          CSR.MM::
                000676'                 $$CSMM  ==      .       ;**INIT** CSR(S)
 FILLED IN
        000702                          CSR.DX::
                000702'                 $$CSDX  ==      .       ;**INIT** CSR(S)
 FILLED IN
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 71
LOGICAL NAME TABLE

      1                                 .SBTTL  LOGICAL NAME TABLE
      2
      3 000722                                  ORG     RAWMEM
      4
      5 001124                          LOGNAM::
      6 001124                          $DISKS
      7                                 $$$$$$  =       0
      8                                 .REPT   CNT.'NAME
      9                                         .WORD   0,0
     10                                         .ASCII  "NAME"
     11                                         .BYTE   $$$$$$,-1
     12                                         .WORD   0
     13                                 $$$$$$  =       $$$$$$+1
     14                                 .ENDR
     15                                 .ENDM
        001124  000000  000000                  .WORD   0,0
        001130     104     114                  .ASCII  "DL"
        001132     000     377                  .BYTE   $$$$$$,-1
        001134  000000                          .WORD   0
        001136  000000  000000                  .WORD   0,0
        001142     104     114                  .ASCII  "DL"
        001144     001     377                  .BYTE   $$$$$$,-1
        001146  000000                          .WORD   0
        001150  000000  000000                  .WORD   0,0
        001154     104     114                  .ASCII  "DL"
        001156     002     377                  .BYTE   $$$$$$,-1
        001160  000000                          .WORD   0
        001162  000000  000000                  .WORD   0,0
        001166     104     114                  .ASCII  "DL"
        001170     003     377                  .BYTE   $$$$$$,-1
        001172  000000                          .WORD   0
        001174  000000  000000                  .WORD   0,0
        001200     104     122                  .ASCII  "DR"
        001202     000     377                  .BYTE   $$$$$$,-1
        001204  000000                          .WORD   0
        001206  000000  000000                  .WORD   0,0
        001212     104     122                  .ASCII  "DR"
        001214     001     377                  .BYTE   $$$$$$,-1
        001216  000000                          .WORD   0
        001220  000000  000000                  .WORD   0,0
        001224     104     122                  .ASCII  "DR"
        001226     002     377                  .BYTE   $$$$$$,-1
        001230  000000                          .WORD   0
        001232  000000  000000                  .WORD   0,0
        001236     104     122                  .ASCII  "DR"
        001240     003     377                  .BYTE   $$$$$$,-1
        001242  000000                          .WORD   0
        001244  000000  000000                  .WORD   0,0
        001250     104     122                  .ASCII  "DR"
        001252     004     377                  .BYTE   $$$$$$,-1
        001254  000000                          .WORD   0
        001256  000000  000000                  .WORD   0,0
        001262     104     122                  .ASCII  "DR"
        001264     005     377                  .BYTE   $$$$$$,-1
        001266  000000                          .WORD   0
        001270  000000  000000                  .WORD   0,0
        001274     104     122                  .ASCII  "DR"
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 71-1
LOGICAL NAME TABLE

        001276     006     377                  .BYTE   $$$$$$,-1
        001300  000000                          .WORD   0
        001302  000000  000000                  .WORD   0,0
        001306     104     122                  .ASCII  "DR"
        001310     007     377                  .BYTE   $$$$$$,-1
        001312  000000                          .WORD   0
        001314  000000  000000                  .WORD   0,0
        001320     104     102                  .ASCII  "DB"
        001322     000     377                  .BYTE   $$$$$$,-1
        001324  000000                          .WORD   0
        001326  000000  000000                  .WORD   0,0
        001332     104     102                  .ASCII  "DB"
        001334     001     377                  .BYTE   $$$$$$,-1
        001336  000000                          .WORD   0
        001340  000000  000000                  .WORD   0,0
        001344     104     102                  .ASCII  "DB"
        001346     002     377                  .BYTE   $$$$$$,-1
        001350  000000                          .WORD   0
        001352  000000  000000                  .WORD   0,0
        001356     104     102                  .ASCII  "DB"
        001360     003     377                  .BYTE   $$$$$$,-1
        001362  000000                          .WORD   0
        001364  000000  000000                  .WORD   0,0
        001370     104     102                  .ASCII  "DB"
        001372     004     377                  .BYTE   $$$$$$,-1
        001374  000000                          .WORD   0
        001376  000000  000000                  .WORD   0,0
        001402     104     102                  .ASCII  "DB"
        001404     005     377                  .BYTE   $$$$$$,-1
        001406  000000                          .WORD   0
        001410  000000  000000                  .WORD   0,0
        001414     104     102                  .ASCII  "DB"
        001416     006     377                  .BYTE   $$$$$$,-1
        001420  000000                          .WORD   0
        001422  000000  000000                  .WORD   0,0
        001426     104     102                  .ASCII  "DB"
        001430     007     377                  .BYTE   $$$$$$,-1
        001432  000000                          .WORD   0
     16 001434                          LOGSYS::
     17 001434  045520  000000                  .RAD50  "LB    "        ;LB: IS
SY:[1,1]
     18 001440     123     131                  .ASCII  "SY"
     19 001442     000     000                  .BYTE   0,0
     20 001444     001     001                  .BYTE   1,1
     21         000011                  .REPT   LOGICL-1
     22                                         .WORD   0,0,0,0,0
     23                                 .ENDR
        001446  000000  000000  000000          .WORD   0,0,0,0,0
        001454  000000  000000
        001460  000000  000000  000000          .WORD   0,0,0,0,0
        001466  000000  000000
        001472  000000  000000  000000          .WORD   0,0,0,0,0
        001500  000000  000000
        001504  000000  000000  000000          .WORD   0,0,0,0,0
        001512  000000  000000
        001516  000000  000000  000000          .WORD   0,0,0,0,0
        001524  000000  000000
        001530  000000  000000  000000          .WORD   0,0,0,0,0
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 71-2
LOGICAL NAME TABLE

        001536  000000  000000
        001542  000000  000000  000000          .WORD   0,0,0,0,0
        001550  000000  000000
        001554  000000  000000  000000          .WORD   0,0,0,0,0
        001562  000000  000000
        001566  000000  000000  000000          .WORD   0,0,0,0,0
        001574  000000  000000
     24 001600  177777                  LOGEND::.WORD   -1
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 72
DEVICE DDB'S

      1                                 .SBTTL  DEVICE DDB'S
      2
      3 001602                          $NAMES
      4                                 .IF     DIF     <NAME>,<SY>
      5                                         ORG     NAME'DDDB
      6                                 .LIST
      7
      8                                 NAME'DDDB:
      9                                 .NLIST
     10                                 .DSABL  CRF
     11                                 .GLOBL  DDS.'NAME,STS.'NAME
     12                                 $$$$$0  =       CNT.'NAME
     13                                 .IF     IDN     <NAME>,<KB>
     14                                 .IF     NDF     DDS.KB
     15                                 $$$$$0  =       0
     16                                 .ENDC
     17                                 .ENDC
     18                                 $$$$$$  =       0
     19                                 .REPT   $$$$$0
     20                                         .BYTE   IDX.'NAME,STS.'NAME,0,$$
$$$$
     21                                 .NLIST
     22                                 .REPT   DDS.'NAME-4/2
     23                                         .WORD   0
     24                                 .ENDR
     25                                 .LIST
     26                                 .IF     IDN     <NAME>,<PK>
     27                                 .       =       .-DDS.PK+DDFLAG
     28                                         .WORD   <PKSTKB+$$$$$$>*2
     29                                 .       =       .+DDS.PK-DDFLAG-2
     30                                 .ENDC
     31                                 .IF     DF      BFQ.'NAME
     32                                 .GLOBL  BFQ.'NAME
     33                                 .       =       .-DDS.'NAME+DDBUFC+BC
     34                                         .WORD   BFQ.'NAME
     35                                 .       =       .+DDS.'NAME-DDBUFC-BC-2
     36                                 .ENDC
     37                                 .IF     DF      HOR.'NAME
     38                                 .       =       .-DDS.'NAME+DDHORZ
     39                                         .BYTE   HOR.'NAME+1,HOR.'NAME+1
     40                                 .       =       .+DDS.'NAME-DDHORZ-2
     41                                 .ENDC
     42                                 .LIST
     43
     44                                 .NLIST
     45                                 $$$$$$  =       $$$$$$+1
     46                                 .ENDR
     47                                 .ENABL  CRF
     48                                 .ENDC
     49                                 .ENDM

        000000                          KBDDDB:

        000000                          NLDDDB:
        000000     004     000G    000          .BYTE   IDX.NL,STS.NL,0,$$$$$$
        000003     000


 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 72-1
DEVICE DDB'S

        000000                          PKDDDB:
        000000     006     000G    000          .BYTE   IDX.PK,STS.PK,0,$$$$$$
        000003     000
        000010  000100                          .WORD   <PKSTKB+$$$$$$>*2

        000014     006     000G    000          .BYTE   IDX.PK,STS.PK,0,$$$$$$
        000017     001
        000024  000102                          .WORD   <PKSTKB+$$$$$$>*2

        000030     006     000G    000          .BYTE   IDX.PK,STS.PK,0,$$$$$$
        000033     002
        000040  000104                          .WORD   <PKSTKB+$$$$$$>*2

        000044     006     000G    000          .BYTE   IDX.PK,STS.PK,0,$$$$$$
        000047     003
        000054  000106                          .WORD   <PKSTKB+$$$$$$>*2


        000000                          LPDDDB:
        000000     010     000G    000          .BYTE   IDX.LP,STS.LP,0,$$$$$$
        000003     000
        000016  000024                          .WORD   BFQ.LP
        000020     121     121                  .BYTE   HOR.LP+1,HOR.LP+1


        000000                          PRDDDB:
        000000     012     000G    000          .BYTE   IDX.PR,STS.PR,0,$$$$$$
        000003     000
        000016  000012                          .WORD   BFQ.PR


        000000                          PPDDDB:
        000000     014     000G    000          .BYTE   IDX.PP,STS.PP,0,$$$$$$
        000003     000
        000016  000012                          .WORD   BFQ.PP


        000000                          MMDDDB:
        000000     016     000G    000          .BYTE   IDX.MM,STS.MM,0,$$$$$$
        000003     000

        000046     016     000G    000          .BYTE   IDX.MM,STS.MM,0,$$$$$$
        000051     001


        000000                          DXDDDB:
        000000     020     000G    000          .BYTE   IDX.DX,STS.DX,0,$$$$$$
        000003     000

        000034     020     000G    000          .BYTE   IDX.DX,STS.DX,0,$$$$$$
        000037     001

        000070     020     000G    000          .BYTE   IDX.DX,STS.DX,0,$$$$$$
        000073     002

        000124     020     000G    000          .BYTE   IDX.DX,STS.DX,0,$$$$$$
        000127     003
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 72-2
DEVICE DDB'S


        000160     020     000G    000          .BYTE   IDX.DX,STS.DX,0,$$$$$$
        000163     004

        000214     020     000G    000          .BYTE   IDX.DX,STS.DX,0,$$$$$$
        000217     005

        000250     020     000G    000          .BYTE   IDX.DX,STS.DX,0,$$$$$$
        000253     006

        000304     020     000G    000          .BYTE   IDX.DX,STS.DX,0,$$$$$$
        000307     007

 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 73
DEVICE DRIVER DISPATCH TABLES

      1                                 .SBTTL  DEVICE DRIVER DISPATCH TABLES
      2
      3 000340                                  ORG     SERTBL,0
      4 000000                          SERTBL:
      5 000000                          $NAMES
      6                                 .IF     IDN     <NAME>,<KB>
      7                                         .WORD   0       ;FILLED IN...
      8                                 .IFF
      9                                 .IF     IDN     <NAME>,<PK>
     10                                         .WORD   0       ;FILLED IN...
     11                                 .IFF
     12                                         .WORD   SER$'NAME
     13                                 .DSABL  CRF
     14                                 .GLOBL  SER$'NAME
     15                                 .ENABL  CRF
     16                                 .ENDC
     17                                 .ENDC
     18                                 .ENDM
        000000  000000G                         .WORD   SER$SY
        000002  000000                          .WORD   0       ;FILLED IN...
        000004  000000G                         .WORD   SER$NL
        000006  000000                          .WORD   0       ;FILLED IN...
        000010  000000G                         .WORD   SER$LP
        000012  000000G                         .WORD   SER$PR
        000014  000000G                         .WORD   SER$PP
        000016  000000G                         .WORD   SER$MM
        000020  000000G                         .WORD   SER$DX
     19
     20 000022                                  ORG     OPNTBL,0
     21 000000                          OPNTBL:
     22 000000                          $NAMES
     23                                 .IF     IDN     <NAME>,<KB>
     24                                         .WORD   0       ;FILLED IN...
     25                                 .IFF
     26                                 .IF     IDN     <NAME>,<PK>
     27                                         .WORD   0       ;FILLED IN...
     28                                 .IFF
     29                                         .WORD   OPN$'NAME
     30                                 .DSABL  CRF
     31                                 .GLOBL  OPN$'NAME
     32                                 .ENABL  CRF
     33                                 .ENDC
     34                                 .ENDC
     35                                 .ENDM
        000000  000000G                         .WORD   OPN$SY
        000002  000000                          .WORD   0       ;FILLED IN...
        000004  000000G                         .WORD   OPN$NL
        000006  000000                          .WORD   0       ;FILLED IN...
        000010  000000G                         .WORD   OPN$LP
        000012  000000G                         .WORD   OPN$PR
        000014  000000G                         .WORD   OPN$PP
        000016  000000G                         .WORD   OPN$MM
        000020  000000G                         .WORD   OPN$DX
     36
     37 000022                                  ORG     CLSTBL,0
     38 000000                          CLSTBL:
     39 000000                          $NAMES
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 73-1
DEVICE DRIVER DISPATCH TABLES

     40                                 .IF     IDN     <NAME>,<KB>
     41                                         .WORD   0       ;FILLED IN...
     42                                 .IFF
     43                                 .IF     IDN     <NAME>,<PK>
     44                                         .WORD   0       ;FILLED IN...
     45                                 .IFF
     46                                         .WORD   CLS$'NAME
     47                                 .DSABL  CRF
     48                                 .GLOBL  CLS$'NAME
     49                                 .ENABL  CRF
     50                                 .ENDC
     51                                 .ENDC
     52                                 .ENDM
        000000  000000G                         .WORD   CLS$SY
        000002  000000                          .WORD   0       ;FILLED IN...
        000004  000000G                         .WORD   CLS$NL
        000006  000000                          .WORD   0       ;FILLED IN...
        000010  000000G                         .WORD   CLS$LP
        000012  000000G                         .WORD   CLS$PR
        000014  000000G                         .WORD   CLS$PP
        000016  000000G                         .WORD   CLS$MM
        000020  000000G                         .WORD   CLS$DX
     53
     54 000022                                  ORG     TMOTBL,0
     55 000000                          TMOTBL:
     56 000000                          $NAMES
     57                                 .IF     IDN     <NAME>,<SY>
     58                                         .WORD   0
     59                                 .IFF
     60                                 .IF     IDN     <NAME>,<KB>
     61                                         .WORD   0       ;FILLED IN...
     62                                 .IFF
     63                                 .IF     IDN     <NAME>,<PK>
     64                                         .WORD   0       ;FILLED IN...
     65                                 .IFF
     66                                         .WORD   TMO$'NAME
     67                                 .DSABL  CRF
     68                                 .GLOBL  TMO$'NAME
     69                                 .ENABL  CRF
     70                                 .ENDC
     71                                 .ENDC
     72                                 .ENDC
     73                                 .ENDM
        000000  000000                          .WORD   0
        000002  000000                          .WORD   0       ;FILLED IN...
        000004  000000G                         .WORD   TMO$NL
        000006  000000                          .WORD   0       ;FILLED IN...
        000010  000000G                         .WORD   TMO$LP
        000012  000000G                         .WORD   TMO$PR
        000014  000000G                         .WORD   TMO$PP
        000016  000000G                         .WORD   TMO$MM
        000020  000000G                         .WORD   TMO$DX
     74
     75 000022                                  ORG     SPCTBL,0
     76 000000                          SPCTBL:
     77 000000                          $NAMES
     78                                 .IF     IDN     <NAME>,<KB>
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 73-2
DEVICE DRIVER DISPATCH TABLES

     79                                         .WORD   0       ;FILLED IN...
     80                                 .IFF
     81                                 .IF     IDN     <NAME>,<PK>
     82                                         .WORD   0       ;FILLED IN...
     83                                 .IFF
     84                                         .WORD   SPC$'NAME
     85                                 .DSABL  CRF
     86                                 .GLOBL  SPC$'NAME
     87                                 .ENABL  CRF
     88                                 .ENDC
     89                                 .ENDC
     90                                 .ENDM
        000000  000000G                         .WORD   SPC$SY
        000002  000000                          .WORD   0       ;FILLED IN...
        000004  000000G                         .WORD   SPC$NL
        000006  000000                          .WORD   0       ;FILLED IN...
        000010  000000G                         .WORD   SPC$LP
        000012  000000G                         .WORD   SPC$PR
        000014  000000G                         .WORD   SPC$PP
        000016  000000G                         .WORD   SPC$MM
        000020  000000G                         .WORD   SPC$DX
     91
     92 000022                                  ORG     SLPTBL,0
     93 000000                          SLPTBL:
     94 000000                          $NAMES
     95                                 .IF     IDN     <NAME>,<KB>
     96                                         .WORD   0       ;FILLED IN...
     97                                 .IFF
     98                                 .IF     IDN     <NAME>,<PK>
     99                                         .WORD   0       ;FILLED IN...
    100                                 .IFF
    101                                 .IF     DF      SLP.'NAME
    102                                         .WORD   SLP$'NAME
    103                                 .DSABL  CRF
    104                                 .GLOBL  SLP$'NAME
    105                                 .ENABL  CRF
    106                                 .IFF
    107                                         .WORD   0
    108                                 .ENDC
    109                                 .ENDC
    110                                 .ENDC
    111                                 .ENDM
        000000  000000                          .WORD   0
        000002  000000                          .WORD   0       ;FILLED IN...
        000004  000000                          .WORD   0
        000006  000000                          .WORD   0       ;FILLED IN...
        000010  000000                          .WORD   0
        000012  000000                          .WORD   0
        000014  000000                          .WORD   0
        000016  000000                          .WORD   0
        000020  000000                          .WORD   0
    112
    113 000022                                  ORG     ASNTBL,0
    114 000000                          ASNTBL:
    115 000000                          $NAMES
    116                                 .IF     IDN     <NAME>,<SY>
    117                                         .WORD   0
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 73-3
DEVICE DRIVER DISPATCH TABLES

    118                                 .IFF
    119                                 .IF     IDN     <NAME>,<KB>
    120                                         .WORD   0       ;FILLED IN...
    121                                 .IFF
    122                                 .IF     IDN     <NAME>,<PK>
    123                                         .WORD   0       ;FILLED IN...
    124                                 .IFF
    125                                         .WORD   ASN$'NAME
    126                                 .DSABL  CRF
    127                                 .GLOBL  ASN$'NAME
    128                                 .ENABL  CRF
    129                                 .ENDC
    130                                 .ENDC
    131                                 .ENDC
    132                                 .ENDM
        000000  000000                          .WORD   0
        000002  000000                          .WORD   0       ;FILLED IN...
        000004  000000G                         .WORD   ASN$NL
        000006  000000                          .WORD   0       ;FILLED IN...
        000010  000000G                         .WORD   ASN$LP
        000012  000000G                         .WORD   ASN$PR
        000014  000000G                         .WORD   ASN$PP
        000016  000000G                         .WORD   ASN$MM
        000020  000000G                         .WORD   ASN$DX
    133
    134 000022                                  ORG     DEATBL,0
    135 000000                          DEATBL:
    136 000000                          $NAMES
    137                                 .IF     IDN     <NAME>,<SY>
    138                                         .WORD   0
    139                                 .IFF
    140                                 .IF     IDN     <NAME>,<KB>
    141                                         .WORD   0       ;FILLED IN...
    142                                 .IFF
    143                                 .IF     IDN     <NAME>,<PK>
    144                                         .WORD   0       ;FILLED IN...
    145                                 .IFF
    146                                         .WORD   DEA$'NAME
    147                                 .DSABL  CRF
    148                                 .GLOBL  DEA$'NAME
    149                                 .ENABL  CRF
    150                                 .ENDC
    151                                 .ENDC
    152                                 .ENDC
    153                                 .ENDM
        000000  000000                          .WORD   0
        000002  000000                          .WORD   0       ;FILLED IN...
        000004  000000G                         .WORD   DEA$NL
        000006  000000                          .WORD   0       ;FILLED IN...
        000010  000000G                         .WORD   DEA$LP
        000012  000000G                         .WORD   DEA$PR
        000014  000000G                         .WORD   DEA$PP
        000016  000000G                         .WORD   DEA$MM
        000020  000000G                         .WORD   DEA$DX
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 74
DEVICE DRIVER DATA TABLES

      1                                 .SBTTL  DEVICE DRIVER DATA TABLES
      2
      3 000022                                  ORG     FLGTBL,0
      4 000000                          FLGTBL:
      5 000000                          $NAMES
      6                                 .IF     IDN     <NAME>,<KB>
      7                                         .WORD   0       ;FILLED IN...
      8                                 .IFF
      9                                 .IF     IDN     <NAME>,<PK>
     10                                         .WORD   0       ;FILLED IN...
     11                                 .IFF
     12                                         .WORD   FLG.'NAME
     13                                 .DSABL  CRF
     14                                 .GLOBL  FLG.'NAME
     15                                 .ENABL  CRF
     16                                 .ENDC
     17                                 .ENDC
     18                                 .ENDM
        000000  000000G                         .WORD   FLG.SY
        000002  000000                          .WORD   0       ;FILLED IN...
        000004  000000G                         .WORD   FLG.NL
        000006  000000                          .WORD   0       ;FILLED IN...
        000010  000000G                         .WORD   FLG.LP
        000012  000000G                         .WORD   FLG.PR
        000014  000000G                         .WORD   FLG.PP
        000016  000000G                         .WORD   FLG.MM
        000020  000000G                         .WORD   FLG.DX
     19
     20 000022                                  ORG     SIZTBL,0
     21 000000                          SIZTBL:
     22 000000                          $NAMES
     23                                 .IF     IDN     <NAME>,<KB>
     24                                         .WORD   0       ;FILLED IN...
     25                                 .IFF
     26                                 .IF     IDN     <NAME>,<PK>
     27                                         .WORD   0       ;FILLED IN...
     28                                 .IFF
     29                                         .WORD   SIZ.'NAME
     30                                 .DSABL  CRF
     31                                 .GLOBL  SIZ.'NAME
     32                                 .ENABL  CRF
     33                                 .ENDC
     34                                 .ENDC
     35                                 .ENDM
        000000  000000G                         .WORD   SIZ.SY
        000002  000000                          .WORD   0       ;FILLED IN...
        000004  000000G                         .WORD   SIZ.NL
        000006  000000                          .WORD   0       ;FILLED IN...
        000010  000000G                         .WORD   SIZ.LP
        000012  000000G                         .WORD   SIZ.PR
        000014  000000G                         .WORD   SIZ.PP
        000016  000000G                         .WORD   SIZ.MM
        000020  000000G                         .WORD   SIZ.DX
     36
     37 000022                                  ORG     BUFTBL,0
     38 000000                          BUFTBL:
     39 000000                          $NAMES
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 74-1
DEVICE DRIVER DATA TABLES

     40                                 .IF     IDN     <NAME>,<KB>
     41                                         .WORD   0       ;FILLED IN...
     42                                 .IFF
     43                                 .IF     IDN     <NAME>,<PK>
     44                                         .WORD   0       ;FILLED IN...
     45                                 .IFF
     46                                         .WORD   BUF.'NAME
     47                                 .DSABL  CRF
     48                                 .GLOBL  BUF.'NAME
     49                                 .ENABL  CRF
     50                                 .ENDC
     51                                 .ENDC
     52                                 .ENDM
        000000  000000G                         .WORD   BUF.SY
        000002  000000                          .WORD   0       ;FILLED IN...
        000004  000000G                         .WORD   BUF.NL
        000006  000000                          .WORD   0       ;FILLED IN...
        000010  000000G                         .WORD   BUF.LP
        000012  000000G                         .WORD   BUF.PR
        000014  000000G                         .WORD   BUF.PP
        000016  000000G                         .WORD   BUF.MM
        000020  000000G                         .WORD   BUF.DX
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 75
DISK DRIVER TABLES AND QUEUES

      1                                 .SBTTL  DISK DRIVER TABLES AND QUEUES
      2
      3                                 ; FIP UNIT NUMBER TO DISK DRIVER INDEX T
ABLE
      4
      5 000022                                  ORG     TBL
      6
      7 000722                          DSKMAP::
      8         000000                  $$$$$$  =       0
      9 000722                          $DISKS
     10                                 .REPT   CNT.'NAME
     11                                         .WORD   $$$$$$
     12                                 .ENDR
     13                                 .IIF    NE      CNT.'NAME, $$$$$$ = $$$$
$$+2
     14                                 .ENDM
        000722  000000                          .WORD   $$$$$$
        000724  000000                          .WORD   $$$$$$
        000726  000000                          .WORD   $$$$$$
        000730  000000                          .WORD   $$$$$$
        000732  000002                          .WORD   $$$$$$
        000734  000002                          .WORD   $$$$$$
        000736  000002                          .WORD   $$$$$$
        000740  000002                          .WORD   $$$$$$
        000742  000002                          .WORD   $$$$$$
        000744  000002                          .WORD   $$$$$$
        000746  000002                          .WORD   $$$$$$
        000750  000002                          .WORD   $$$$$$
        000752  000004                          .WORD   $$$$$$
        000754  000004                          .WORD   $$$$$$
        000756  000004                          .WORD   $$$$$$
        000760  000004                          .WORD   $$$$$$
        000762  000004                          .WORD   $$$$$$
        000764  000004                          .WORD   $$$$$$
        000766  000004                          .WORD   $$$$$$
        000770  000004                          .WORD   $$$$$$
     15
     16                                 ; ALL OF THE DISK DRIVER QUEUES
     17
     18 000772                                  ORG     RAWMEM
     19
     20 001602                          DQS$XX::
     21 001602                          $DISKS
     22                                 .IF     NE      CNT.'NAME
     23                                 .LIST
     24                                 DQS$'NAME::
     25                                 .NLIST
     26                                         .BLKW0  CNT.'NAME
     27                                 .LIST
     28                                 DQE$'NAME::
     29                                 .NLIST
     30                                 .ENDC
     31                                 .ENDM
        001602                          DQS$DL::
        001612                          DQE$DL::
        001612                          DQS$DR::
        001632                          DQE$DR::
        001632                          DQS$DB::
        001652                          DQE$DB::
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 75-1
DISK DRIVER TABLES AND QUEUES

     32
     33                                 ; ALL OF THE OPTIMIZATION WORDS
     34
     35 001652                                  ORG     RAWMEM
     36
     37 001652                          OPT$XX::
     38 001652                          $DISKS
     39                                 .IF     NE      CNT.'NAME
     40                                 .LIST
     41                                 OPT$'NAME::
     42                                 .NLIST
     43                                         .BLKW0  CNT.'NAME
     44                                 .ENDC
     45                                 .ENDM
        001652                          OPT$DL::
        001662                          OPT$DR::
        001702                          OPT$DB::
     46
     47                                 ; GLOBALIZE OFFSETS FROM QUEUE ROOT TO O
THER TABLES
     48
     49         176776                  DSO$XX  ==      DSS$XX-DQS$XX   ;FROM QU
EUE ROOT TO STATUS TABLE
     50
     51         000050                  OPO$XX  ==      OPT$XX-DQS$XX   ;FROM QU
EUE ROOT TO OPTIMIZATION WORD
     52
     53                                 ; ALL OF THE 'ID' WORDS
     54
     55 001722                                  ORG     TBL
     56
     57         000772'                 $$DMID  ==      .       ;**INIT** CORREC
T ID'S FILLED IN
     58 000772                          MID$XX::
     59 000772                          $DISKS
     60                                 .IF     NE      CNT.'NAME
     61                                 .LIST
     62                                 MID$'NAME::
     63                                 .NLIST
     64                                         .BLKW0  CNT.'NAME
     65                                 .ENDC
     66                                 .ENDM
        000772                          MID$DL::
        001002                          MID$DR::
        001022                          MID$DB::
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 76
DISK LOGICAL STATUS TABLES

      1                                 .SBTTL  DISK LOGICAL STATUS TABLES
      2
      3                                 ; UNIT STATUS/COUNT TABLE
      4
      5 001042                                  ORG     RAWMEM
      6
      7 001722                          UNTCNT::
      8 001722                          $DISKS
      9                                 DEV.'NAME:
     10                                         .BLKW0  CNT.'NAME,UC.MNT
     11                                 .ENDM
     12 001772                          UNTCNE::
     13
     14                                 ; DO ABSOLUTE GLOBALIZATIONS
     15
     16         000023                  MAXUNT  ==      UNTCNE-UNTCNT/2-1
     17         000046                  MAXUN2  ==      MAXUNT*2
     18
     19                                 ; DEVICE CLUSTER (DCS) AND CLUSTER FACTO
R (BIASED PCS/DCS) TABLE
     20
     21 001772                                  ORG     RAWMEM
     22
     23         001772'                 $$DDCS  ==      .       ;**INIT** CORREC
T DCS'S FILLED IN
     24 001772                          DEVCLU::.BLKW0  MAXUNT+1
     25         001773'                 CLUFAC  ==      DEVCLU+1
     26
     27                                 ; PACK CLUSTER SIZE (PCS) AND ERROR COUN
T TABLE
     28
     29 002042                                  ORG     RAWMEM
     30
     31 002042                          UNTCLU::.BLKW0  MAXUNT+1
     32         002043'                 UNTERR  ==      UNTCLU+1
     33
     34                                 ; TABLE OF THE [1,2] UFD STARTING DCN FO
R EACH UNIT
     35
     36 002112                                  ORG     RAWMEM
     37
     38 002112                          UNTLIB::.BLKW0  MAXUNT+1
     39
     40                                 ; LIST HEADERS OF OPEN FILE FCB'S FOR LA
RGE FILE SYSTEMS
     41
     42 002162                                  ORG     RAWMEM
     43
     44 002162                          FCBLST::.BLKW0  MAXUNT+1
     45
     46                                 ; SIZE OF UNIT IN DCN'S TABLE
     47
     48 002232                                  ORG     TBL
     49
     50         001042'                 $$DSIZ  ==      .       ;**INIT** CORREC
T SIZES FILLED IN
     51 001042                          UNTSIZ::.BLKW0  MAXUNT+1
     52
     53                                 ; UNIT OWNING JOB AND UNIT OPTIONS TABLE
     54
     55 001112                                  ORG     RAWMEM
     56
     57 002232                          UNTOWN::.BLKW0  MAXUNT+1
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 76-1
DISK LOGICAL STATUS TABLES

     58         002233'                 UNTOPT  ==      UNTOWN+1
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 77
S.A.T. RELATED TABLES

      1                                 .SBTTL  S.A.T. RELATED TABLES
      2
      3                                 ; S.A.T. LOGICAL POINTER (DCN)
      4
      5 002302                                  ORG     RAWMEM
      6
      7 002302                          SATPTR::.BLKW0  MAXUNT+1
      8
      9                                 ; S.A.T. END (LARGEST PCN)
     10
     11 002352                                  ORG     RAWMEM
     12
     13 002352                          SATEND::.BLKW0  MAXUNT+1
     14
     15                                 ; S.A.T. STARTING FIP BLOCK NUMBER
     16
     17 002422                                  ORG     RAWMEM
     18
     19 002422                          SATSTL::.BLKW0  MAXUNT+1
     20
     21 002472                          SATSTM::.BLKW0  MAXUNT+1
     22
     23                                 ; S.A.T. COUNT OF FREE BLOCKS
     24
     25 002542                                  ORG     RAWMEM
     26
     27 002542                          SATCTL::.BLKW0  MAXUNT+1
     28
     29 002612                          SATCTM::.BLKW0  MAXUNT+1
     30
     31                                 .IF     NE      DSTATS
     32
     33 002662                                  ORG     STSTBL,0
     34
     35 000000  000000'                         .WORD   DSTCTL          ;INDICAT
E DISK STATISTICS EXIST
     36
     37 000002                                  ORG     DSTCTL
     38
     39 000000     024     000          DSTCTL: .BYTE   MAXUNT+1,0      ;# OF UN
ITS, TABLE RESET FLAG
     40 000002                                  .BLKW0  MAXUNT+1*6*6*2  ;ALL OF
THE COUNTING BUCKETS
     41 005502                          DSTCTE::                        ;END OF
THE TABLE
     42
     43         000740                  DSTMUL  ==      MAXUNT+1*6*2*2  ;MULTIPL
ICATION FACTOR FOR TABLE
     44
     45                                 .ENDC
 TBL     SYSTEM TABLES   MACRO V03.01 18-OCT-86 01:52:14 PAGE 78
SET FINAL .TITLE/.IDENT

      1                                 .SBTTL  SET FINAL .TITLE/.IDENT
      2
      3         033460                  $0      =       SYSVEL          ;SYSTEM
MAJOR VERSION
      4         030056                  $1      =       SYSVEE          ;SYSTEM
MINOR VERSION
      5         033460                  $2      =       SYSVEN          ;SYSTEM
EDIT LEVEL
      6
      7                                 .TITLE  RSTS
      8                                 .IDENT  <$0&177-22><$0/400&177-22>"."<$1
/400&177-22><$2&177-22><$2/400&177-22>
      9
     10         000001                  .END
 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE 78-1
SYMBOL TABLE

ALT.DX= 054504          CCC.PK= 000001          CON$MM= ****** G        DDWLO
002000          DM11BB= 000000
ALT.KB= 052124          CCC.PP= 000001          CORCMN  000460          DEAFQ
000026          DNE$MM= ****** G
ALT.MM= 052115          CCC.PR= 000001          CPUTIM  001024          DEATBL
000000R     071 DODUMP  000144R     002
ASNTBL  000000R     070 CCC.SY= 177777          CRAFQ   000004          DEA$DX=
****** G        DOPOST  000000RG    106
ASN$DX= ****** G        CDRHND  000014          CRBFQ   000034          DEA$LP=
****** G        DPDSK = 000000 G
ASN$LP= ****** G        CD11  = 000000          CREFQ   000004          DEA$MM=
****** G        DQE$DB  001652RG    014
ASN$MM= ****** G        CHECTL  000000R     045 CREJOB  000010RG    104 DEA$NL=
****** G        DQE$DL  001612RG    014
ASN$NL= ****** G        CH$BSZ  000032          CRSDMP  000034RG    056 DEA$PP=
****** G        DQE$DR  001632RG    014
ASN$PP= ****** G        CH$CTL  000000          CRTFQ   000032          DEA$PR=
****** G        DQS$DB  001632RG    014
ASN$PR= ****** G        CH$DAT  000031          CR11  = 000000          DEVCLU
001772RG    014 DQS$DL  001602RG    014
ASSFQ   000024          CH$DLM  000026          CSRTBL  000440RG    056 DEVCNT
000232RG    056 DQS$DR  001612RG    014
ATRFQ   000000          CH$FLM  000024          CSR.DB  000444RG    056 DEVEND
000254RG    014 DQS$OO  000012
AUDHND  000032          CH$LIM  000022          CSR.DL  000440RG    056 DEVNAM
000156RG    056 DQS$XX  001602RG    014
BBAAP5  000006          CH$MOD  000030          CSR.DR  000442RG    056 DEVNKB
000200RG    056 DRDCTL  000000RG    026
BBASND  000004          CH$NXT  000006          CSR.DX  000702RG    056 DEVOKB=
000022 G        DRDINT  000000RG    114
BBAUNT  000011          CH$PAR  000012          CSR.KB  000446RG    056 DEVOSN=
000054 G        DRDPT1  000002RG    026
BBDAP5  000016          CH$PRV  000010          CSR.LP  000670RG    056 DEVPTR
000304RG    056 DRDPT2  000004RG    026
BBDINT  000014          CH$SEC  000004          CSR.MM  000676RG    056 DEVSYN
000220RG    056 DSDSK = 000000 G
BBDOFF  000001          CH$TAG  000014          CSR.PP  000674RG    056 DEVTBE
000210RG    014 DSE$DB  000650RG    014
BBDSTA  000012          CH$TIC  000002          CSR.PR  000672RG    056 DEVTBL
000000RG    014 DSE$DL  000610RG    014
BBDUNT  000010          CH$USM  000016          DALFQ   000030          DEV.DB
001752R     014 DSE$DR  000630RG    014
BBGIRB  000002          CH$WTG  000020          DATE    001000          DEV.DC
001722R     014 DSKCSR  000440RG    056
BBSTS   000000          CLOKGO= ****** G        DBDCTL  000000RG    027 DEV.DF
001722R     014 DSKDSP  000000R     105
BC      000004          CLOK.L= ****** G        DBDINT  000000RG    115 DEV.DK
001722R     014 DSKHND  000000
BCBSIZ  000006          CLOK.P= ****** G        DBDPT1  000002RG    027 DEV.DL
001722R     014 DSKMAP  000722RG    056
BFQ.LP= 000024 G        CLRTER  000004RG    104 DBDPT2  000004RG    027 DEV.DM
001732R     014 DSKPTR  000412RG    056
BFQ.PP= 000012 G        CLRTIN  000006RG    104 DCDSK = 000000 G        DEV.DP
001732R     014 DSKSIZ  000020
BFQ.PR= 000012 G        CLSFQ   000000          DC11  = 000000          DEV.DR
001732R     014 DSO$XX= 176776 G
BF.CNT  000006          CLSTBL  000000R     066 DDASN   100000          DEV.DS
001722R     014 DSPFQ   000054
BF.LNK  000004          CLS$DX= ****** G        DDAUX   020000          DEV.DX
000234RG    014 DSQCNT  000016
BF.OFF  000002          CLS$LP= ****** G        DDAUXA  040000          DEV.KB
000000RG    014 DSQCTO  000036
BF.SIZ  000000          CLS$MM= ****** G        DDBUFC  000012          DEV.LP
000222RG    014 DSQERR  000003
BGBUFF  000006          CLS$NL= ****** G        DDCNT   000006          DEV.MM
000230RG    014 DSQFAR  000021
BGBUFR  000000RG    013 CLS$PP= ****** G        DDCONS  020000          DEV.NL
000210RG    014 DSQFBL  000010
BGQRET  000002          CLS$PR= ****** G        DDFLAG  000010          DEV.PK
000212RG    014 DSQFBM  000007
BOOT    000000RG    054 CLS$SY= ****** G        DDHORC  000021          DEV.PP
000226RG    014 DSQFUN  000020
BOOTSP= 000014R     054 CLUFAC= 001773RG    014 DDHORZ  000020          DEV.PR
000224RG    014 DSQJOB  000002
BUFCTL  000000R     042 CMNDVR= ****** G        DDIDX   000000          DFDSK =
000000 G        DSQL3Q  000004
BUFHDR  000010          CNT.DB= 000010 G        DDJBNO  000002          DFTRTS
001100R     002 DSQMAL  000014
BUFPOL  000000RG    003 CNT.DC= 000000          DDNET   004000          DH11  =
000000          DSQMAM  000013
BUFTBL  000000R     076 CNT.DF= 000000          DDNFS   000400          DH2741=
000000          DSQMSC  000022
BUF.DX= ****** G        CNT.DK= 000000          DDO.XX= 177130 G        DIRFQ
000012          DSQOPT  000030
BUF.LP= ****** G        CNT.DL= 000004 G        DDPRVO  000400          DJ0NL =
000020          DSQOUN  000032
BUF.MM= ****** G        CNT.DM= 000000          DDRLO   001000          DJ1NL =
000020          DSQPDA  000026
BUF.NL= ****** G        CNT.DP= 000000          DDSTAT  100000          DJ11  =
000002          DSQPTO  000034
BUF.PP= ****** G        CNT.DR= 000010 G        DDSTS   000001          DKDSK =
000000 G        DSQPUN  000037
BUF.PR= ****** G        CNT.DS= 000000          DDS.DX= 000034 G        DLDCTL
000000RG    025 DSQRFN  000012
BUF.SY= ****** G        CNT.DX= 000010 G        DDS.KB= ****** G        DLDINT
000000RG    113 DSQSAV  000033
BYEFQ   000044          CNT.KB= 000104 G        DDS.LP= 000040 G        DLDPOS
000006RG    025 DSQSIZ  000040
C       000001          CNT.LP= 000001 G        DDS.MM= 000046 G        DLDPT1
000002RG    025 DSQTOT  000024
CALFIP  104000          CNT.MM= 000002 G        DDS.NL= 000010 G        DLDPT2
000004RG    025 DSQUNT  000006
CALLMI= ****** G        CNT.NL= 000001          DDS.PK= 000014 G        DLNFQ
000006          DSS$DB  000630RG    014
CCC.DX= 000000          CNT.PK= 000004 G        DDS.PP= 000020 G        DL11CD=
000020          DSS$DL  000600RG    014
CCC.KB= 000001          CNT.PP= 000001 G        DDS.PR= 000020 G        DL11E =
000000          DSS$DR  000610RG    014
CCC.LP= 000001          CNT.PR= 000001 G        DDTIME  000004          DMCHND
000030          DSS$XX  000600RG    014
CCC.MM= 000000          CONTXT  000060          DDUNT   000003          DMC11 =
000000          DSTAT = ****** G
CCC.NL= 000000          CON$DX= ****** G        DDUTIL  040000          DMDSK =
000000 G        DSTATS= 000001
 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE 78-2
SYMBOL TABLE

DSTCTE  005502RG    052 ERC$XY  000044          FQFSIZ  000054          IRB18L
000006          JOBWRK  001016
DSTCTL  000000RG    052 ERL   = ****** G        FQFUN   000003          IRB18M
000005          JQSTAT= ****** G
DSTMUL= 000740 G        ERLCTB  000000R     050 FQJOB   000002          ITIME
000046RG    002 JSALL = 064076 G
DTADSP  000000R     112 ERLCTL  000000R     044 FQMODE  000022          JBSTAT
000340RG    014 JSBTBL  000346RG    056
DTAHND  000004          ERLRIB  001200RG    002 FQNAM1  000010          JBWAIT
000422RG    014 JSBUF   040000
DTRFQ   000002          ERL$DX= ****** G        FQNAM2  000020          JDBRST
000035          JSFIP   010000
DT2HND  000036          ERL$KB= ****** G        FQNENT  000036          JDFLG
000002          JSTATS= 000001
DVRAP5  000370RG    056 ERL$LP= ****** G        FQPFLG  000026          JDFLG2
000012          JSTCTL  000000RG    051
DVRA5E  000412RG    056 ERL$MM= ****** G        FQPPN   000006          JDIOB
000000          JSTEL   004000
DXDAP5  000004RG    126 ERL$PP= ****** G        FQPROT  000027          JDIOST
000004          JSTIM   020000
DXDCTL  000000R     040 ERL$PR= ****** G        FQSIZ   000016          JDJDB2
000010          JS.DX = 000001 G
DXDDDB  000000RG    024 ERRFQ   000016          FQSIZM  000005          JDMCTL
000020          JS.KB   000002 G
DXDINT  000000R     126 ERRTBL  000000R     063 FQSWIT  000020          JDPOST
000005          JS.LP   000010 G
DXDVR = ****** G        EXTFQ   000042          FTLXX0= ****** G        JDPRI
000034          JS.MM = 000001 G
DZ11  = 000000          FBBSIZ  000004          FTLXX1= ****** G        JDRESB
000032          JS.NL = 000001 G
DZ11AB= 000000          FCBLST  002162RG    014 FTLXX2= ****** G        JDRESQ
000016          JS.PK   000004 G
DZ2741= 000000          FIJBDA  001306RG    002 FTLXX3= ****** G        JDRTS
000014          JS.PP   000040 G
EKOCTL= 000001          FIJBD2  001310RG    002 FTLXX4= ****** G        JDSIZE
000026          JS.PR   000020 G
ELAFQ   000006          FIJOB   001302RG    002 FTLXX5= ****** G        JDSIZM
000036          JS.SY   000001 G
EMTDSP  000000R     106 FIPCTL  000000R     046 FTLXX6= ****** G        JDSIZN
000013          JUNK  = ****** G
EMTSIZ= 000100          FIPDSP  000000R     107 FTLXX7= ****** G        JDSWAP
000037          J2CON   000004
EMTTBL  000000R     060 FIPERR  000002RG    107 FTL000= ****** G        JDWORK
000006          J2CPU   000002
ENDKEY  000000RG    104 FIPGO   000000RG    107 F.FBNL  000002          JFBIG
020000          J2CPUI  000036
EP      000000          FIPRIV  001303RG    002 F.FBNM  000001          JFCC
000010          J2CPUM  000013
ERC$CD  000036          FIPSYS= ****** G        F.UNT   000000          JFCTXT
000001          J2DEV   000010
ERC$CK  000001          FIPTBL  000000R     100 GETSML  000377          JFFPP
001000          J2DRTS  000020
ERC$CR  000035          FIQUE   001300RG    002 GODISK  000000RG    105 JFGO
000100          J2KCT   000006
ERC$DB  000023          FIRQB   000402          HALT    000054RG    002 JFIOKY
000002          J2KCTM  000012
ERC$DC  000014          FISTAK  002400RG    002 HOR.LP= 000120          JFKILL
000200          J2MPTR  000022
ERC$DD  000047          FIUSER  001304RG    002 IBMHND  000042          JFKIL2
000100          J2NAME  000014
ERC$DF  000015          FLGFRC  020000          IDATE   000044RG    002 JFLOCK
040000          J2PCNT  000026
ERC$DK  000017          FLGKB   040000          IDX$MX  000022          JFNOPR
010000          J2PPN   000030
ERC$DL  000024          FLGMOD  010000          IDX.DX  000020 G        JFPOST
000001          J2PPTR  000024
ERC$DM  000020          FLGPOS  004000          IDX.KB  000002 G        JFPPT
000040          J2TICK  000000
ERC$DP  000021          FLGRND  100000          IDX.LP  000010 G        JFPRIV
002000          J2UFDR  000032
ERC$DR  000022          FLGTBL  000000R     074 IDX.MM  000016 G        JFPRTY
000002          J2WPTR  000034
ERC$DS  000016          FLG.DX= ****** G        IDX.NL  000004 G        JFREDO
000200          KBBCD = 000000
ERC$DT  000031          FLG.LP= ****** G        IDX.PK  000006 G        JFRSXP
000004          KBCORR= 000000
ERC$DX  000041          FLG.MM= ****** G        IDX.PP  000014 G        JFRUN
000004          KBC360= 000000
ERC$J0  000002          FLG.NL= ****** G        IDX.PR  000012 G        JFSPCL
100000          KBDAP5  000004RG    117
ERC$KB  000030          FLG.PP= ****** G        IDX.SY  000000 G        JFSPRI
000400          KBDCTL  000000R     031
ERC$KT  000010          FLG.PR= ****** G        II11  = 000000          JFSTAK
000020          KBDDDB  000000RG    015
ERC$LP  000032          FLG.SY= ****** G        IN      000004          JFSWPE
000040          KBDINT  000000R     117
ERC$MM  000040          FP      000002          IOBUFR  000000R     004 JFSWPR
000010          KBDVR = ****** G
ERC$MS  000046          FPP   = ****** G        IOSTS   001014          JFSYS
004000          KBEBCD= 000000
ERC$MT  000037          FPPCTL  000000R     011 IRBBFL  000016          JFSYST
000400          KB2741= 000000
ERC$NW  000045          FPPTXT  000112          IRBCHN  000004          JF2CC
000020          KEY     000400
ERC$PA  000007          FQADDR  000036          IRBCON  000012          JOB
001006          KISAR0  172340
ERC$PF  000006          FQBSIZ  000040          IRBDPT  000024          JOBCLK
000516RG    014 KISAR5  172352
ERC$PP  000034          FQBUFL  000020          IRBEPT  000030          JOBDA
001010          KISAR6  172354
ERC$PR  000033          FQCLUS  000034          IRBFPT  000026          JOBF
001012          KISDR0  172300
ERC$RI  000005          FQDEV   000030          IRBFUN  000000          JOBJD2
001020          KL11  = 000020
ERC$RJ  000043          FQDEVN  000032          IRBMMU  000020          JOBMAX=
000030 G        KMCHND  000040
ERC$T4  000004          FQERNO  000004          IRBMOD  000010          JOBMX2=
000060 G        KMC11 = 000000
ERC$UI  000003          FQEXT   000014          IRBNXT  000014          JOBRTS
001022          LCK     000200
ERC$XM  000042          FQFIL   000004          IRBSIZ  000022          JOBTBL
000254RG    014 LCL$MN  177777
ERC$XX  000000          FQFLAG  000024          IRBSTA  000002          JOBWDB
001026          LCL$MX  000003
 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE 78-3
SYMBOL TABLE

LIBCTL  000000R     012 MEMSIZ  001150RG    002 OPN$PR= ****** G        P$SNDR
000005          RHBA    000004
LIBLST  000506RG    014 MID$DB  001022RG    056 OPN$SY= ****** G        P$SPPN
000006          RHCLR   000040
LKS     177546          MID$DL  000772RG    056 OPO$XX= 000050 G        P$TYPE
000004          RHCS1   000000
LOGEND  001600RG    014 MID$DR  001002RG    056 OPT$DB  001702RG    014 P.BAD
177754          RHCS2   000010
LOGICL= 000012          MID$XX  000772RG    056 OPT$DL  001652RG    014 P.BPT
177756          RHDLT   100000
LOGNAM  001124RG    014 MMDAP5  000004RG    125 OPT$DR  001662RG    014 P.CC
177770          RHDPR   000400
LOGSYS  001434RG    014 MMDCTL  000000R     037 OPT$XX  001652RG    014 P.CRAS
177744          RHDRQ   004000
LOG$CK  104000          MMDDDB  000000RG    023 OUT     000002          P.DEXT
177734          RHDRY   000200
LOG$DB  104040          MMDINT  000000R     125 OVRBUF  000004RG    107 P.EMT
177762          RHDS    000012
LOG$DC  104022          MMDVR = ****** G        PATCH   000000RG    055 P.FIS
177742          RHDT    000026
LOG$DF  104024          MMUSR0  177572          PATCHS  000000RG    057 P.FLAG
177732          RHDTE   010000
LOG$DK  104030          MMU22W= ****** G        PC    =%000007          P.FPP
177766          RHER    000014
LOG$DL  104042          MORBUF  000000RG    005 PF.CSZ  020000          P.IOT
177760          RHERR   040000
LOG$DM  104032          MSKTBL  000000R     077 PF.EMT  100000          P.ISIZ
177736          RHESET  000011
LOG$DP  104034          MTADSP  000000R     111 PF.KBM  000400          P.MSIZ
177740          RHILF   000001
LOG$DR  104036          MTAHND  000016          PF.NER  004000          P.NEW
177750          RHILR   000002
LOG$DS  104026          MULTTY= 000001          PF.REM  010000          P.OFF
177732          RHMCPE  020000
LOG$DX  104056 G        M.CTRL  000007          PF.RW   002000          P.RUN
177752          RHMDPE  000400
LOG$J0  104002          M.PHYA  000010          PF.SLA  040000          P.SIZE
177774          RHMOH   020000
LOG$KB  104044 G        M.PNXT  000002          PF.1US  001000          P.STRT
177746          RHMOL   010000
LOG$KT  104016          M.PPRV  000000          PKBHND  000020          P.TRAP
177764          RHMR    000024
LOG$LP  104046 G        M.SIZE  000006          PKDCTL  000000R     033 P.2CC
177772          RHMXF   001000
LOG$MM  104054 G        M.TSIZ  000004          PKDDDB  000000RG    017 QBGBUF
000010          RHNED   010000
LOG$NW  104020          N       000010          PKDINT  000000R     121 QBRING
010000          RHNEM   004000
LOG$PA  104014          NAM.DX  000216R     056 PKDVR = ****** G        QBUFRT
100000          RHNSA   100000
LOG$PF  104012          NAM.KB  000200R     056 PKS     172540          QCACHE
000002          RHOPI   020000
LOG$PP  104052 G        NAM.LP  000206R     056 PKSTKB= 000040          QDS$OO
000010          RHPE    020000
LOG$PR  104050 G        NAM.MM  000214R     056 PK11  = 000004          QDUMP
004000          RHPGE   002000
LOG$RI  104010          NAM.NL  000202R     056 PLTHND  000034          QDXCON
100010 G        RHPIP   020000
LOG$SZ= 000060          NAM.PK  000204R     056 PPDAP5  000004RG    124 QFAST
100001          RHREAD  000071
LOG$T4  104006          NAM.PP  000212R     056 PPDCTL  000000R     036 QFILE
002000          RHRMR   000004
LOG$UI  104004          NAM.PR  000210R     056 PPDDDB  000000RG    022 QFIP
000100          RHSC    100000
LOKFQ   000022          NETFQ   000052          PPDINT  000000R     124 QFORCE
040000          RHSPR   002000
LOWCOR  000000RG    002 NEXT    001007          PPDVR = ****** G        QMMCON
100002 G        RHTAP   040000
LPDAP5  000004RG    122 NLDCTL  000000R     032 PP11  = 000001          QMMDNE
100004 G        RHTRE   040000
LPDCTL  000000R     034 NLDDDB  000000RG    016 PRDAP5  000004RG    123 QNSP
000400          RHUNS   040000
LPDDDB  000000RG    020 NLDINT  000000R     120 PRDCTL  000000R     035 QSCHED
020000          RHWC    000002
LPDINT  000000R     122 NLDVR = ****** G        PRDDDB  000000RG    021 QSTATS=
000001          RHWCHK  000051
LPDVR = ****** G        NODELS  000000RG    047 PRDINT  000000R     123 QSTCTL
000000RG    053 RHWRIT  000061
LPTHND  000006          NONMSK  000040          PRDVR = ****** G        QSWAPC
000040          RHWRL   004000
LP11  = 000001          NONRTS  000036          PR0     034000          QTIMER
000001          RH7CH   010000
LS.LIB  000200          NSPCHK  000000RG    131 PR1     034040          QTRN
000200          RJEHND  000024
L$$IST= 000001          NSPCTL  000000R     047 PR11  = 000001          QUMR
000020          RJETMO  000000RG    133
L.PPN   000006          NSPSUB  000000R     127 PR2     034100          RAWMEM
000000RG    014 RJ2780= 000000
L.PROT  000035          NSPTMO  000000RG    132 PR3     034140          RCVFQ
000050          RSTFQ   000020
L.STAT  000034          NSTORG  001000          PR4     034200          RELOAD
000000RG    056 RSXAGN  000002RG    110
L3QPAR  000000R     062 NULHND  000026          PR5     034240          RENFQ
000010          RSXDSP  000000R     110
L3QSIZ  000076          NULJOB  000000RG    130 PR6     034300          REQ    
000001          RSXENT  000004RG    110
L3QTBL  000000R     061 NULMAX  001274R     002 PR7     034340          RES   =
****** G        RSXTRP  000000RG    110
MAPFQ   000010          NULRTS  001240RG    002 PS      177776          RESCTL
000000R     043 RTI   = ****** G
MAXUNT= 000023 G        OPNFQ   000002          PTPHND  000012          RETEXT
000002RG    106 RTICTL  000000R     041
MAXUN2= 000046 G        OPNTBL  000000R     065 PTRHND  000010          RETSML
000040          RTSLST  000504RG    014
MBXHND  000044          OPN$DX= ****** G        PWFSAV  001312RG    002 RETURN
000000          RUNFQ   000036
MCBSIZ  000012          OPN$LP= ****** G        P$BREM  000012          RFUN
000004          RXDHND  000022
MED   = ****** G        OPN$MM= ****** G        P$BUFA  000002          RFUN.C
000006          RX11  = 000010
MEDCTL  000000R     006 OPN$NL= ****** G        P$LINK  000000          RHAS
000016          R.CNT   000032
MEMLST  001040RG    002 OPN$PP= ****** G        P$PARM  000014          RHATA
100000          R.DATA  000022
 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE 78-4
SYMBOL TABLE

R.DEXT  000006          SPC$LP= ****** G        TIM.PP  001076RG    014 UU$MAX
000033          W$NBYT  000010
R.FILE  000026          SPC$MM= ****** G        TIM.PR  001074RG    014 UU$MIN
177744          W$NLIB  000004
R.FLAG  000036          SPC$NL= ****** G        TMOTBL  000000R     072 UU.ACT
177761          W$NOFF  000006
R.KSIZ  000016          SPC$PP= ****** G        TMO$DX= ****** G        UU.ASS
000012          W$NSIZ  000002
R.LINK  000000          SPC$PR= ****** G        TMO$LP= ****** G        UU.ATR
177747          W$NSTS  000001
R.MCTL  000010          SPC$SY= ****** G        TMO$MM= ****** G        UU.ATT
000006          W.ALIB  000002
R.MSIZ  000035          SPLLST  000514RG    014 TMO$NL= ****** G        UU.BCK
177765          W.LINK  000000
R.NAME  000002          START   001312R     002 TMO$OO  000016          UU.BYE
000005          W.SIZE  000012
R.SIZE  000034          STSTBL  000000RG    103 TMO$PP= ****** G        UU.CCL
177750          W.WIN1  000014
R0    =%000000          STS.DX= ****** G        TMO$PR= ****** G        UU.CHE
000023          W.WIN2  000026
R1    =%000001          STS.KB= ****** G        TM02  = 000002          UU.CHU
000010          XRB     000442
R2    =%000002          STS.LP= ****** G        TM11  = 000000          UU.CLN
000002          XRBC    000002
R3    =%000003          STS.MM= ****** G        TS11  = 000000          UU.CNV
000024          XRBLK   000010
R4    =%000004          STS.NL= ****** G        TTYHND  000002          UU.DAL
000014          XRBLKM  000007
R5    =%000005          STS.PK= ****** G        TU58  = 000000          UU.DAT
177762          XRBSAV  000016
SATCTL  002542RG    014 STS.PP= ****** G        UC.CNT  000777          UU.DEA
000013          XRBSIZ  000016
SATCTM  002612RG    014 STS.PR= ****** G        UC.DLW  004000          UU.DET
000007          XRBUSE  000020
SATEND  002352RG    014 SUB   = ****** G        UC.LCK  020000          UU.DIE
177760          XRCI    000006
SATPTR  002302RG    014 SWITCH= ****** G        UC.MNT  100000          UU.DIR
000017          XRLEN   000000
SATSTL  002422RG    014 SWP     000100          UC.NFS  010000          UU.DLU
000001          XRLOC   000004
SATSTM  002472RG    014 SWPMAX= ****** G        UC.PRI  040000          UU.DMP
177745          XRMOD   000014
SA.LCL  000001          SWR     177570          UC.TOP  001000          UU.ERR
000011          XRTIME  000012
SA.NET  000004          SYDAP5  000004RG    116 UC.WLO  002000          UU.FCB
177770          Z       000004
SA.PRV  000002          SYDCTL  000000R     030 UISAR0  177640          UU.FIL
177746          ZERO  = ****** G
SA.XOF  000200          SYDINT  000000R     116 UISDR0  177600          UU.HNG
177767          $ASNTB= 000000RG    070
SA.1SH  000010          SYDVR = ****** G        UMPFQ   000012          UU.JOB
000030          $BUFTB= 000000RG    076
SERTBL  000000R     064 SYSTAK  001770RG    002 UMRCTL  000000R     010 UU.KMC
000033          $CLSTB= 000000RG    066
SER$DX= ****** G        SYSVEE  030056          UMREND  000440RG    056 UU.LIN
000004          $DBDIN= 000000RG    115
SER$LP= ****** G        SYSVEL  033460          UMRKB   000420R     056 UU.LOG
177755          $DCDIN= 000000 G
SER$MM= ****** G        SYSVEN= 033460          UMR$DX= ****** G        UU.LOK
000021          $DEATB= 000000RG    071
SER$NL= ****** G        S.ACCS  000012          UMR$MM= ****** G        UU.MNT
000003          $DFDIN= 000000 G
SER$PP= ****** G        S.BMAX  000014          UMR$OO  000014          UU.NAM
177757          $DKDIN= 000000 G
SER$PR= ****** G        S.JBNO  000010          UMR.DX= 000001          UU.NLG
177776          $DLDIN= 000000RG    113
SER$SY= ****** G        S.LCNT  000025          UMR.MM= 000001          UU.PAS
000000          $DMDIN= 000000 G
SETDTR  000012RG    104 S.LINK  000000          UNIWIN  170200          UU.POK
177772          $DPDIN= 000000 G
SETPRM  000002RG    104 S.LLST  000026          UNTCLU  002042RG    014 UU.PPN
000031          $DRDIN= 000000RG    114
SETUP = ****** G        S.LMAX  000024          UNTCNE  001772RG    014 UU.PRI
177763          $DSDIN= 000000 G
SIZTBL  000000R     075 S.MCNT  000017          UNTCNT  001722RG    014 UU.RAD
000016          $DSKDS= 000000RG    105
SIZ.DX= ****** G        S.MLST  000020          UNTERR= 002043RG    014 UU.RTS
177756          $DTADS= 000000RG    112
SIZ.LP= ****** G        S.MMAX  000016          UNTLIB  002112RG    014 UU.SLN
000025          $EMTDS= 000000RG    106
SIZ.MM= ****** G        S.OBJT  000011          UNTOPT= 002233RG    014 UU.SPL
177744          $EMTTB= 000000RG    060
SIZ.NL= ****** G        S.RCID  000002          UNTOWN  002232RG    014 UU.SWP
000027          $ERRTB= 000000RG    063
SIZ.PP= ****** G        T       000020          UNTSIZ  001042RG    056 UU.SYS
000032          $FIPDS= 000000RG    107
SIZ.PR= ****** G        TBL     000000RG    056 UO.CLN  000001          UU.TB1
177775          $FIPTB= 000000RG    100
SIZ.SY= ****** G        TC11  = 000000          UO.NCD  000040          UU.TB2
177764          $FLGTB= 000000RG    074
SL      177774          TERDSP  000000R     104 UO.NCF  000020          UU.TRM
000020          $L3QPA= 000000RG    062
SLPTBL  000000R     073 TIMCLK  001005          UO.WCF  000100          UU.YLG
177777          $L3QTB= 000000RG    061
SLP.KB= 000001          TIME    001002          UO.WCU  000200          UU.ZER
000015          $MSKTB= 000000RG    077
SLP.PK= 000001          TIMEND  001124RG    014 UPE   = ****** G        V
000002          $MTADS= 000000RG    111
SL.VAL  001000RG    002 TIMSEC  001004          UPECTL  000000R     007 VOLSW1=
000076RG    056 $OPNTB= 000000RG    065
SL2741= 000000          TIMTBL  000600RG    014 USRLOG  000740          VOLSW2=
000122RG    056 $RSXDS= 000000RG    110
SMLBUF= 000036          TIM.DX  001104RG    014 USRPPN  000734          WFUN
000002          $SERTB= 000000RG    064
SNDFQ   000046          TIM.KB  000650RG    014 USRPRT  000736          WFUN.C
000000          $SIZTB= 000000RG    075
SNDLST  000510RG    014 TIM.LP  001072RG    014 USRSP   000400          WINFQ
000040          $SLPTB= 000000RG    073
SP    =%000006          TIM.MM  001100RG    014 UUOFQ   000014          WS$MAP
100000          $SPCTB= 000000RG    067
SPCTBL  000000R     067 TIM.NL  001060RG    014 UUOSNC  000000R     102 WS$WRT
000400          $TERDS= 000000RG    104
SPC$DX= ****** G        TIM.PK  001062RG    014 UUOTBL  000000R     101 W$NAPR
000000          $TMOTB= 000000RG    072
 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE 78-5
SYMBOL TABLE

$UUOSN= 000000RG    102 $$DMID= 000772RG    056 $$SROM= 000000RG    056 $0    =
033460          .READ   104002
$UUOTB= 000000RG    101 $$DRTS= 001100RG    002 $$STAK= 001736RG    002 $1    =
030056          .RSX    104074
$$BOOT= 000000RG    054 $$DSIZ= 001042RG    056 $$SYSP= 000302RG    056 $2    =
033460          .RTS    104050
$$BUFE= 000000RG    004 $$FPPE= 000000RG    012 $$TIME= 001002RG    002 .CCL
104062          .RUN    104042
$$BUFS= 000000RG    003 $$FPPS= 000000RG    011 $$UMRE= 000000RG    011 .CHAIN
104070          .SET    104036
$$CRSZ= 000016RG    112 $$LIBE= 000000RG    013 $$UMRS= 000000RG    010 .CLEAR
104056          .SLEEP  104010
$$CSDB= 000444RG    056 $$LIBS= 000000RG    012 $$UPEE= 000000RG    010 .CORE
104006          .SPEC   104014
$$CSDL= 000440RG    056 $$LOWC= 001426RG    002 $$UPES= 000000RG    007 .DATE
104034          .STAT   104040
$$CSDR= 000442RG    056 $$LOWE= 000060RG    002 $$$VER= 033460          .ERLOG
104052          .TIME   104030
$$CSDX= 000702RG    056 $$LOWS= 000040RG    002 $$$$$$= 000006          .EXIT
104046          .TTAPE  104016
$$CSKB= 000446RG    056 $$MBFE= 000000RG    006 $$$$$0= 000010          .FSS
104064          .TTDDT  104024
$$CSLP= 000670RG    056 $$MBFS= 000000RG    005 $$$$$1= 000006          .LOGS
104054          .TTECH  104020
$$CSMM= 000676RG    056 $$MEDE= 000000RG    007 $$0301= 000000RG    057 .MESAG
104060          .TTNCH  104022
$$CSPP= 000674RG    056 $$MEDS= 000000RG    006 $$0303= 000010RG    057 .NAME
104044          .TTRST  104026
$$CSPR= 000672RG    056 $$MEML= 001040RG    002 $$0305= 000020RG    057 .PEEK
104012          .ULOG   104076
$$DATE= 001000RG    002 $$MEMT= 001140RG    002 $$0307= 000030RG    057 .PLAS
104072          .UUO    104066
$$DDCS= 001772RG    014 $$NULW= 001774RG    002 $$2780= 000000 G        .POSTN
104032          .WRITE  104004

. ABS.  177777     000
        000000     001
LOWCOR  002400     002
BUFPOL  000400     003
IOBUFR  000000     004
MORBUF  001700     005
MEDCTL  000000     006
UPECTL  000000     007
UMRCTL  000000     010
FPPCTL  000000     011
LIBCTL  000000     012
BGBUFR  000000     013
RAWMEM  002662     014
KBDDDB  000000     015
NLDDDB  000010     016
PKDDDB  000060     017
LPDDDB  000040     020
PRDDDB  000020     021
PPDDDB  000020     022
MMDDDB  000114     023
DXDDDB  000340     024
DLDCTL  000016     025
DRDCTL  000006     026
DBDCTL  000006     027
SYDCTL  000000     030
KBDCTL  000000     031
NLDCTL  000000     032
PKDCTL  000000     033
LPDCTL  000000     034
PRDCTL  000000     035
PPDCTL  000000     036
MMDCTL  000000     037
DXDCTL  000000     040
RTICTL  000000     041
BUFCTL  000000     042
RESCTL  000000     043
ERLCTL  000000     044
CHECTL  000000     045
FIPCTL  000000     046
 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE 78-6
SYMBOL TABLE

NSPCTL  000002     047
ERLCTB  000000     050
JSTCTL  000000     051
DSTCTL  005502     052
QSTCTL  000000     053
BOOT    000642     054
PATCH   000400     055
TBL     001112     056
PATCHS  000040     057
EMTTBL  000100     060
L3QTBL  000076     061
L3QPAR  000076     062
ERRTBL  000060     063
SERTBL  000022     064
OPNTBL  000022     065
CLSTBL  000022     066
SPCTBL  000022     067
ASNTBL  000022     070
DEATBL  000022     071
TMOTBL  000022     072
SLPTBL  000022     073
FLGTBL  000022     074
SIZTBL  000022     075
BUFTBL  000022     076
MSKTBL  000040     077
FIPTBL  000054     100
UUOTBL  000160     101
UUOSNC  000070     102
STSTBL  000010     103
TERDSP  000014     104
DSKDSP  000002     105
EMTDSP  000004     106
FIPDSP  000006     107
RSXDSP  000016     110
MTADSP  000010     111
DTADSP  000016     112
DLDINT  000020     113
DRDINT  000020     114
DBDINT  000020     115
SYDINT  000004     116
KBDINT  000004     117
NLDINT  000000     120
PKDINT  000000     121
LPDINT  000004     122
PRDINT  000004     123
PPDINT  000004     124
MMDINT  000004     125
DXDINT  000004     126
NSPSUB  000000     127
NULJOB  000012     130
NSPCHK  000004     131
NSPTMO  000002     132
RJETMO  000002     133
ERRORS DETECTED:  0

VIRTUAL MEMORY USED:  8714 WORDS  ( 35 PAGES)
DYNAMIC MEMORY AVAILABLE FOR  69 PAGES
TBL,TBL/C=IN:$COMMON,$KERNEL,DK:CONFIG,IN:$CHECK,$TBL


 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE S-1
CROSS REFERENCE TABLE (CREF V01-05 )


$$$$$$  42-19    42-19    42-19    42-19    42-19#   42-19#   42-19#   42-19#
42-19#   52-5#    52-7     52-21#   52-23    52-39#
        52-41    53-5#    53-7     53-26#   53-28    55-7#    55-11    55-11
55-11    55-11    55-11    55-11    55-11    55-11
        55-11    55-11    55-11    55-11    55-11#   55-11#   55-13    56-8#
56-10    56-19#   56-25    61-12    61-12    61-12
        61-12#   61-12#   61-12#   71-15    71-15    71-15    71-15    71-15
71-15    71-15    71-15    71-15    71-15    71-15
        71-15    71-15    71-15    71-15    71-15    71-15    71-15    71-15
71-15    71-15    71-15    71-15    71-15    71-15
        71-15    71-15    71-15    71-15    71-15    71-15    71-15    71-15
71-15    71-15    71-15    71-15    71-15    71-15
        71-15    71-15#   71-15#   71-15#   71-15#   71-15#   71-15#   71-15#
71-15#   71-15#   71-15#   71-15#   71-15#   71-15#
        71-15#   71-15#   71-15#   71-15#   71-15#   71-15#   71-15#   71-15#
71-15#   71-15#   71-15#   71-15#   71-15#   71-15#
        71-15#   71-15#   75-8#    75-14    75-14    75-14    75-14    75-14
75-14    75-14    75-14    75-14    75-14    75-14
        75-14    75-14    75-14    75-14    75-14    75-14    75-14    75-14
75-14    75-14    75-14    75-14    75-14#   75-14#
        75-14#
$$$$$1  61-12    61-12    61-12    61-12    61-12    61-12
$$$VER  12-3#    38-1#    40-3#    44-1#
$$0301  48-114#
$$0303  48-116#
$$0305  48-118#
$$0307  48-120#
$$2780  45-43#
$$BOOT  48-98#
$$BUFE  48-15#   56-24
$$BUFS  48-10#   56-24
$$CRSZ  48-275#
$$CSDB  70-17#
$$CSDL  70-17#
$$CSDR  70-17#
$$CSDX  70-44#
$$CSKB  70-44#
$$CSLP  70-44#
$$CSMM  70-44#
$$CSPP  70-44#
$$CSPR  70-44#
$$DATE  51-7#
$$DDCS  76-23#
$$DMID  75-57#
$$DRTS  52-27#
$$DSIZ  76-50#
$$FPPE  48-39#
$$FPPS  48-36#
$$LIBE  48-43#
$$LIBS  48-40#
$$LOWC  57-28#   57-35    57-39
$$LOWE  50-19#   57-39
$$LOWS  50-9#    57-35    57-39
$$MBFE  48-23#   56-32
$$MBFS  48-20#   56-32
$$MEDE  48-27#
$$MEDS  48-24#
$$MEML  52-13#
$$MEMT  52-45#
$$NULW  55-26#
$$SROM  48-110#
$$STAK  55-18#   57-41
$$SYSP  64-5#
$$TIME  51-10#
$$UMRE  48-35#
$$UMRS  48-32#
 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE S-2
CROSS REFERENCE TABLE (CREF V01-05 )


$$UPEE  48-31#
$$UPES  48-28#
$0      78-3#    78-8     78-8
$1      78-4#    78-8
$2      78-5#    78-8     78-8
$ASNTB  48-164#
$BUFTB  48-194#
$CLSTB  48-154#
$DBDIN  48-288#  68-10
$DEATB  48-169#
$DLDIN  48-288#  68-10
$DRDIN  48-288#  68-10
$DSKDS  48-236#
$DTADS  48-271#
$EMTDS  48-241#
$EMTTB  48-124#
$ERRTB  48-139#
$FIPDS  48-247#
$FIPTB  48-204#
$FLGTB  48-184#
$L3QPA  48-134#
$L3QTB  48-129#
$MSKTB  48-199#
$MTADS  48-266#
$OPNTB  48-149#
$RSXDS  48-254#
$SERTB  48-144#
$SIZTB  48-189#
$SLPTB  48-179#
$SPCTB  48-159#
$TERDS  48-226#
$TMOTB  48-174#
$UUOSN  48-214#
$UUOTB  48-209#  57-18
.CCL     6-30#   30-30#
.CHAIN   6-33#   30-33#
.CLEAR   6-28#   30-28#
.CORE    6-8#    30-8#
.DATE    6-19#   30-19#
.ERLOG   6-26#   30-26#
.EXIT    6-24#   30-24#
.FSS     6-31#   30-31#
.LOGS    6-27#   30-27#
.MESAG   6-29#   30-29#
.NAME    6-23#   30-23#
.PEEK    6-10#   30-10#
.PLAS    6-34#   30-34#
.POSTN   6-18#   30-18#
.READ    6-6#    30-6#
.RSX     6-35#   30-35#
.RTS     6-25#   30-25#
.RUN     6-22#   30-22#
.SET     6-20#   30-20#
.SLEEP   6-9#    30-9#
.SPEC    6-11#   30-11#
.STAT    6-21#   30-21#
.TIME    6-17#   30-17#
 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE S-3
CROSS REFERENCE TABLE (CREF V01-05 )


.TTAPE   6-12#   30-12#
.TTDDT   6-15#   30-15#
.TTECH   6-13#   30-13#
.TTNCH   6-14#   30-14#
.TTRST   6-16#   30-16#
.ULOG    6-36#   30-36#
.UUO     6-32#   30-32#
.WRITE   6-7#    30-7#
ALT.DX  62-22    62-22    63-22
ALT.KB  62-22    62-22    63-22
ALT.LP  62-22    63-22
ALT.MM  62-22    62-22    63-22
ALT.NL  62-22    63-22
ALT.PK  62-22    63-22
ALT.PP  62-22    63-22
ALT.PR  62-22    63-22
ALT.SY  62-22    63-22
ASN$DX  73-132
ASN$LP  73-132
ASN$MM  73-132
ASN$NL  73-132
ASN$PP  73-132
ASN$PR  73-132
ASNTBL  73-113   73-114#
ASSFQ    7-15#   31-15#
ATRFQ    7-25#   31-42#
AUDHND   9-20#
BBAAP5  34-9#
BBASND  34-8#
BBAUNT  34-11#
BBDAP5  34-14#
BBDINT  34-13#
BBDOFF  34-6#
BBDSTA  34-12#
BBDUNT  34-10#
BBGIRB  34-7#
BBSTS   34-5#
BC      33-7#
BCBSIZ  33-8#    33-28
BF.CNT  36-30#
BF.LNK  36-29#
BF.OFF  36-28#
BF.SIZ  36-27#
BFQ.LP  43-55#
BFQ.PP  43-76#
BFQ.PR  43-66#
BGBUFF  36-40#
BGQRET  36-38#
BOOT    48-101   58-29    58-31    58-44    58-44*   58-45*   58-46*   58-47
BOOTSP  48-101#  58-20    58-28
BUF.DX  74-52
BUF.LP  74-52
BUF.MM  74-52
BUF.NL  74-52
BUF.PP  74-52
BUF.PR  74-52
BUF.SY  74-52
 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE S-4
CROSS REFERENCE TABLE (CREF V01-05 )


BUFHDR  36-31#
BUFPOL  56-23#
BUFTBL  74-37    74-38#
BYEFQ   31-29#
C       13-10#
CALFIP   6-5#    30-5#
CALLMI  57-13
CCC.DX  43-142#  47-22    47-22
CCC.KB  43-6#    47-22    47-22    47-22
CCC.LP  43-54#   47-22    47-22    47-22
CCC.MM  43-113#  47-22    47-22
CCC.NL  43-12#   47-22    47-22
CCC.PK  43-21#   47-22    47-22    47-22
CCC.PP  43-75#   47-22    47-22    47-22
CCC.PR  43-65#   47-22    47-22    47-22
CCC.SY  47-22    47-22    47-22
CD11    39-73#   43-89
CDRHND   9-13#
CH$BSZ  27-19#
CH$CTL  27-5#
CH$DAT  27-18#
CH$DLM  27-16#
CH$FLM  27-15#
CH$LIM  27-14#
CH$MOD  27-17#
CH$NXT  27-8#
CH$PAR  27-10#
CH$PRV  27-9#
CH$SEC  27-7#
CH$TAG  27-11#
CH$TIC  27-6#
CH$USM  27-12#
CH$WTG  27-13#
CLOK.L  50-21    50-40
CLOK.P  50-23    50-40
CLOKGO  55-19    55-37
CLRTER  48-230#
CLRTIN  48-231#
CLS$DX  73-52
CLS$LP  73-52
CLS$MM  73-52
CLS$NL  73-52
CLS$PP  73-52
CLS$PR  73-52
CLS$SY  73-52
CLSFQ    7-5#    31-5#
CLSTBL  73-37    73-38#
CLUFAC  76-25#
CMNDVR  45-7
CNT.DB  39-47#   45-20    45-20    48-70    48-288   63-9     68-10    69-21
69-21    70-17    71-15    75-14    75-14    75-31
        75-31    75-45    75-45    75-66    75-66    76-11
CNT.DC  39-39#   45-20    48-70    48-288   63-9     68-10    69-21    70-17
71-15    75-14    75-14    75-31    75-45    75-66
        76-11
CNT.DF  39-40#   45-20    48-70    48-288   63-9     68-10    69-21    70-17
71-15    75-14    75-14    75-31    75-45    75-66
        76-11
CNT.DK  39-42#   45-20    48-70    48-288   63-9     68-10    69-21    70-17
71-15    75-14    75-14    75-31    75-45    75-66
        76-11
 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE S-5
CROSS REFERENCE TABLE (CREF V01-05 )


CNT.DL  39-43#   45-20    45-20    48-70    48-70    48-288   63-9     68-10
69-21    69-21    70-17    71-15    75-14    75-14
        75-31    75-31    75-45    75-45    75-66    75-66    76-11
CNT.DM  39-44#   45-20    48-70    48-288   63-9     68-10    69-21    70-17
71-15    75-14    75-14    75-31    75-45    75-66
        76-11
CNT.DP  39-45#   45-20    48-70    48-288   63-9     68-10    69-21    70-17
71-15    75-14    75-14    75-31    75-45    75-66
        76-11
CNT.DR  39-46#   45-20    45-20    48-70    48-288   63-9     68-10    69-21
69-21    70-17    71-15    75-14    75-14    75-31
        75-31    75-45    75-45    75-66    75-66    76-11
CNT.DS  39-41#   45-20    48-70    48-288   63-9     68-10    69-21    70-17
71-15    75-14    75-14    75-31    75-45    75-66
        76-11
CNT.DX  43-140#  45-31    63-14    69-29    70-44
CNT.KB  42-7#    42-19    42-19    42-19#   42-19#   43-4     43-4#    45-31
63-14    69-29    70-44
CNT.LP  43-52#   45-31    63-14    69-29    70-44
CNT.MM  43-111#  45-31    63-14    69-29    70-44
CNT.NL  43-10#   63-14    69-29    70-44
CNT.PK  43-19#   45-31    46-15    63-14    69-29    70-44    70-44    70-44
CNT.PP  43-73#   45-31    63-14    69-29    70-44
CNT.PR  43-63#   45-31    63-14    69-29    70-44
CON$DX  61-12    61-12
CON$MM  61-12    61-12
CONTXT  35-26#
CORCMN  10-13#   35-33#
CPUTIM  35-18#   51-36
CR11    39-71#   43-80
CRAFQ    7-27#   31-44#
CRBFQ    7-19#   31-19#
CREFQ    7-7#    31-7#
CREJOB  48-232#  57-13
CRSDMP  50-34    58-25#
CRTFQ    7-18#   31-18#
CSR$DX  70-44    70-44
CSR$KB  70-44
CSR$LP  70-44    70-44
CSR$MM  70-44    70-44
CSR$NL  70-44
CSR$PK  70-44
CSR$PP  70-44    70-44
CSR$PR  70-44    70-44
CSR.DB  70-17#
CSR.DL  70-17#
CSR.DR  70-17#
CSR.DX  70-44#
CSR.KB  70-44#
CSR.LP  70-44#
CSR.MM  70-44#
CSR.PP  70-44#
CSR.PR  70-44#
CSRTBL  70-5#
DALFQ    7-17#   31-17#
DATE    35-6#    51-3     51-8     57-9
DBDCTL  48-70#
DBDINT  48-288#
DBDPT1  48-70#
DBDPT2  48-70#
DC11    39-8#    42-5     42-7
DDASN   33-54#
DDAUX   33-41#
 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE S-6
CROSS REFERENCE TABLE (CREF V01-05 )


DDAUXA  33-42#
DDBUFC  33-28#
DDCNT   33-23#
DDCONS  33-52#
DDFLAG  33-27#
DDHORC  33-30#
DDHORZ  33-29#
DDIDX   33-18#
DDJBNO  33-20#
DDNET   33-39#
DDNFS    9-29#
DDO.XX  69-32#
DDPRVO  33-36#
DDRLO    9-30#   33-37#
DDS.DX  43-141#
DDS.LP  43-53#
DDS.MM  43-112#
DDS.NL  43-11#
DDS.PK  43-20#
DDS.PP  43-74#
DDS.PR  43-64#
DDSTAT  33-43#
DDSTS   33-19#
DDTIME  33-22#
DDUNT   33-21#
DDUTIL  33-53#
DDWLO    9-31#   33-38#
DEA$DX  73-153
DEA$LP  73-153
DEA$MM  73-153
DEA$NL  73-153
DEA$PP  73-153
DEA$PR  73-153
DEAFQ    7-16#   31-16#
DEATBL  73-134   73-135#
DEV.DB  64-10    76-11#
DEV.DC  64-10    76-11#
DEV.DF  64-10    76-11#
DEV.DK  64-10    76-11#
DEV.DL  64-10    76-11#
DEV.DM  64-10    76-11#
DEV.DP  64-10    76-11#
DEV.DR  64-10    76-11#
DEV.DS  64-10    76-11#
DEV.DX  64-15    65-33#
DEV.KB  64-15    65-33#   69-32
DEV.LP  64-15    65-33#
DEV.MM  64-15    65-33#
DEV.NL  64-15    65-33#
DEV.PK  64-15    65-33#
DEV.PP  64-15    65-33#
DEV.PR  64-15    65-33#
DEVCLU  76-24#   76-25
DEVCNT  63-6#
DEVEND  65-34#
DEVNAM  62-6#    62-25
DEVNKB  62-10#   62-25
 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE S-7
CROSS REFERENCE TABLE (CREF V01-05 )


DEVOKB  62-25#
DEVOSN  63-16#
DEVPTR  64-7#
DEVSYN  62-17#   63-16
DEVTBE  65-33#
DEVTBL  65-6#
DFTRTS  52-28#   52-30    66-27
DH11    39-18#   42-19
DH2741  39-27#   42-3
DIRFQ    7-10#   31-10#
DJ0NL   39-15#   42-19
DJ11    39-14#   42-19
DJ1NL   39-16#   42-19
DL11CD  39-9#    42-5     42-7
DL11E   39-10#   42-5     42-7
DLDCTL  48-70#
DLDINT  48-288#
DLDPOS  48-70#
DLDPT1  48-70#
DLDPT2  48-70#
DLNFQ    7-8#    31-8#
DM11BB  39-19#
DMC11   39-65#   43-39
DMCHND   9-19#
DNE$MM  61-12    61-12
DODUMP  50-34#   57-35
DOPOST  48-243#
DQE$DB  48-70    48-70    75-31#
DQE$DL  48-70    48-70    75-31#
DQE$DR  48-70    48-70    75-31#
DQS$DB  75-31#
DQS$DL  75-31#
DQS$DR  75-31#
DQS$OO  37-44#   68-10    68-10    68-10
DQS$XX  75-20#   75-49    75-51
DRDCTL  48-70#
DRDINT  48-288#
DRDPT1  48-70#
DRDPT2  48-70#
DSE$DB  69-21#
DSE$DL  69-21#
DSE$DR  69-21#
DSKCSR  70-6#
DSKHND   9-7#
DSKMAP  75-7#
DSKPTR  68-5#
DSKSIZ  37-47#   48-288   48-288   48-288
DSO$XX  75-49#
DSPFQ   31-36#   57-17
DSQCNT  37-15#
DSQCTO  37-25#
DSQERR  37-7#
DSQFAR  37-17#
DSQFBL  37-11#
DSQFBM  37-10#
DSQFUN  37-16#
DSQJOB  37-6#
 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE S-8
CROSS REFERENCE TABLE (CREF V01-05 )


DSQL3Q  37-8#
DSQMAL  37-14#
DSQMAM  37-13#
DSQMSC  37-18#
DSQOPT  37-21#
DSQOUN  37-22#
DSQPDA  37-20#
DSQPTO  37-24#
DSQPUN  37-26#
DSQRFN  37-12#
DSQSAV  37-23#
DSQSIZ  37-27#
DSQTOT  37-19#
DSQUNT  37-9#
DSS$DB  69-21#
DSS$DL  69-21#
DSS$DR  69-21#
DSS$XX  69-10#   75-49
DSTAT   45-38
DSTATS  39-89#   42-24    45-37    77-31
DSTCTE  77-41#
DSTCTL  77-35    77-39#
DSTMUL  77-43#
DT2HND   9-22#
DTAHND   9-9#
DTRFQ    7-26#   31-43#
DVRA5E  67-28#   68-26
DVRAP5  67-16#   68-26
DXDAP5  48-303#  61-12    67-27
DXDDDB  72-49#
DXDINT  48-303#
DXDVR   45-31
DZ11    39-21#   42-19
DZ11AB  39-22#
DZ2741  39-28#   42-3
EKOCTL  39-35#
ELAFQ    7-28#   31-45#
EMTSIZ  30-37#   48-126
ENDKEY  48-228#
EP      33-5#
ERC$CD  23-38#
ERC$CK  23-7#
ERC$CR  23-37#
ERC$DB  23-26#
ERC$DC  23-19#
ERC$DD  23-47#
ERC$DF  23-20#
ERC$DK  23-22#
ERC$DL  23-27#
ERC$DM  23-23#
ERC$DP  23-24#
ERC$DR  23-25#
ERC$DS  23-21#
ERC$DT  23-33#
ERC$DX  23-41#
ERC$J0  23-8#
ERC$KB  23-32#
 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE S-9
CROSS REFERENCE TABLE (CREF V01-05 )


ERC$KT  23-14#
ERC$LP  23-34#
ERC$MM  23-40#
ERC$MS  23-46#
ERC$MT  23-39#
ERC$NW  23-45#
ERC$PA  23-13#
ERC$PF  23-12#
ERC$PP  23-36#
ERC$PR  23-35#
ERC$RI  23-11#
ERC$RJ  23-43#
ERC$T4  23-10#
ERC$UI  23-9#
ERC$XM  23-42#
ERC$XX  23-6#
ERC$XY  23-44#
ERL     45-7
ERL$DX  60-18    60-18
ERL$KB  60-18    60-18
ERL$LP  60-18    60-18
ERL$MM  60-18    60-18
ERL$PP  60-18    60-18
ERL$PR  60-18    60-18
ERLRIB  53-11#   66-32
ERRFQ    7-12#   31-12#
ERRTBL  60-18    60-18    60-18    60-18    60-18    60-18
EXTFQ   31-28#
F.FBNL  16-30#
F.FBNM  16-29#
F.UNT   16-28#
FBBSIZ  16-31#   24-9     24-10    24-37    24-38
FCBLST  76-44#
FIJBD2  54-12#
FIJBDA  54-11#
FIJOB   54-8#
FIPERR  48-250#
FIPGO   48-249#
FIPRIV  54-9#
FIPSYS  55-23    55-37
FIQUE   54-5#
FIRQB   10-11#   35-31#
FISTAK  55-35#
FIUSER  54-10#
FLG.DX  74-18
FLG.LP  74-18
FLG.MM  74-18
FLG.NL  74-18
FLG.PP  74-18
FLG.PR  74-18
FLG.SY  74-18
FLGFRC   9-34#
FLGKB    9-35#
FLGMOD   9-33#
FLGPOS   9-32#
FLGRND   9-36#
FLGTBL  74-3     74-4#
 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE S-10
CROSS REFERENCE TABLE (CREF V01-05 )


FP      33-6#
FPP     45-7
FPPTXT  35-27#
FQADDR  29-27#   57-18*   57-19*
FQBSIZ   5-30#   10-11    29-28#   35-31
FQBUFL   5-20#   29-17#
FQCLUS   5-28#   29-25#
FQDEV    5-25#   29-22#
FQDEVN   5-26#   29-23#
FQERNO   5-12#   29-8#
FQEXT    5-17#   29-13#
FQFIL    5-13#   29-9#
FQFLAG   5-22#   29-19#
FQFSIZ  31-34#   48-206
FQFUN    5-11#   29-7#    57-17*
FQJOB    5-10#   29-6#    57-16*
FQMODE   5-21#   29-18#
FQNAM1   5-16#   29-12#
FQNAM2   5-19#   29-15#
FQNENT   5-29#   29-26#
FQPFLG   5-23#   29-20#
FQPPN    5-15#   29-11#
FQPROT   5-24#   29-21#
FQSIZ    5-18#   29-14#
FQSIZM   5-14#   29-10#
FQSWIT  29-16#
FTL000  50-28
FTLXX0  49-35
FTLXX1  49-35
FTLXX2  49-35
FTLXX3  49-35
FTLXX4  49-35
FTLXX5  49-35
FTLXX6  49-35
FTLXX7  49-35
GETSML  36-17#
GODISK  48-238#
HALT    50-17#   58-23
HOR.LP  43-56#
IBMHND   9-24#
IDATE   50-12#   57-9*
IDX$MX  46-10#   48-146   48-151   48-156   48-161   48-166   48-171   48-176
48-181   48-186   48-191   48-196
IDX.DX  46-9#
IDX.KB  46-9#    46-13
IDX.LP  46-9#
IDX.MM  46-9#
IDX.NL  46-9#    46-14
IDX.PK  46-9#    46-16
IDX.PP  46-9#
IDX.PR  46-9#
IDX.SY  46-9#    46-12
II11    39-69#   43-156
IN      16-17#   52-36
IOSTS   35-14#   51-28
IRB18L  34-25#
IRB18M  34-24#
IRBBFL  34-29#
 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE S-11
CROSS REFERENCE TABLE (CREF V01-05 )


IRBCHN  34-23#
IRBCON  34-27#
IRBDPT  34-32#
IRBEPT  34-34#
IRBFPT  34-33#
IRBFUN  34-21#
IRBMMU  34-30#
IRBMOD  34-26#
IRBNXT  34-28#
IRBSIZ  34-31#
IRBSTA  34-22#
ITIME   50-13#   57-10*   58-35
J2CON   17-32#
J2CPU   17-31#
J2CPUI  17-45#
J2CPUM  17-36#
J2DEV   17-34#
J2DRTS  17-38#
J2KCT   17-33#
J2KCTM  17-35#
J2MPTR  17-39#
J2NAME  17-37#
J2PCNT  17-41#
J2PPN   17-42#
J2PPTR  17-40#
J2TICK  17-30#
J2UFDR  17-43#
J2WPTR  17-44#
JBSTAT  57-20*   66-19#
JBWAIT  57-21*   66-21#
JDBRST  17-20#
JDFLG   17-8#
JDFLG2  17-13#
JDIOB   17-7#
JDIOST  17-9#
JDJDB2  17-12#
JDMCTL  17-17#   17-24
JDPOST  17-10#
JDPRI   17-19#
JDRESB  17-18#
JDRESQ  17-16#
JDRTS   17-15#
JDSIZE  17-24#
JDSIZM  17-21#
JDSIZN  17-14#
JDSWAP  17-22#
JDWORK  17-11#   57-15
JF2CC   18-9#
JFBIG   10-27#   18-18#
JFCC    18-8#
JFCTXT  18-26#
JFFPP   10-23#   18-14#
JFGO    18-11#
JFIOKY  18-6#
JFKIL2  18-32#
JFKILL  18-33#
JFLOCK  10-28#   18-19#
 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE S-12
CROSS REFERENCE TABLE (CREF V01-05 )


JFNOPR  10-26#   18-17#
JFPOST  18-5#
JFPPT   18-10#
JFPRIV  10-24#   18-15#
JFPRTY  18-27#
JFREDO  18-12#
JFRSXP  18-7#
JFRUN   18-28#
JFSPCL  18-20#
JFSPRI  10-22#
JFSTAK  18-30#
JFSWPE  18-31#
JFSWPR  18-29#
JFSYS   10-25#   18-16#
JFSYST  18-13#
JOB     35-10#   51-20
JOBCLK  69-7#
JOBDA   35-12#   51-24
JOBF    35-13#   51-26
JOBJD2  35-16#   51-32
JOBMAX  39-83#   66-5     66-5#    66-6     66-12    66-19    66-21    69-7
JOBMX2  66-6#
JOBRTS  35-17#   51-34
JOBTBL  57-14    66-12#
JOBWDB  35-19#   51-38
JOBWRK  35-15#   51-30
JQSTAT  45-34
JS.DX   47-22#   67-10
JS.KB   21-6#    47-22    47-22#   67-10
JS.LP   47-22    47-22#   67-10
JS.MM   47-22#   67-10
JS.NL   47-22#   67-10
JS.PK   47-22    47-22#   67-10
JS.PP   47-22    47-22#   67-10
JS.PR   47-22    47-22#   67-10
JS.SY   21-5#    47-22    47-22    47-22    47-22#   67-10
JSALL   47-3#    47-22    47-22    47-22    47-22    47-22    47-22#   47-22#
47-22#   47-22#   47-22#   47-24    47-24#
JSBTBL  67-7#
JSBUF   21-19#   47-24
JSFIP   21-17#   57-21
JSTATS  39-88#   42-23    45-33
JSTEL   21-16#   47-22    47-22    47-22    47-22    47-22    47-22    47-24
JSTIM   21-18#   47-24
JUNK    51-29    51-33    51-37    51-41
KB2741  42-3#
KBBCD   39-31#
KBC360  39-32#
KBCORR  39-29#
KBDAP5  48-303#  57-13    67-27    67-27
KBDDDB  57-12    72-49#
KBDINT  48-303#
KBDVR   45-31
KBEBCD  39-30#
KEY     10-10#   35-30#
KISAR0  13-36#   13-39    13-41
KISAR5  13-39#
KISAR6  13-41#
 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE S-13
CROSS REFERENCE TABLE (CREF V01-05 )


KISDR0  13-34#
KL11    39-7#    42-5     42-7
KMC11   39-67#   43-166
KMCHND   9-23#
L$$IST   1-1      1-2      3-3      3-3      3-4      3-4      4-6      5-6
 6-3      7-3      7-23     8-3      9-5      9-27
        10-3     10-20    11-3     11-27    11-48    11-49    12-1     12-2
13-3     13-8     13-16    13-27    13-32    13-39
        13-39    13-41    13-41    13-43    13-50    13-50    14-3     14-3
14-5     14-5     14-7     14-21    14-32    14-32
        14-33    14-33    14-34    14-34    14-35    14-35    14-37    14-56
14-75    14-94    16-3     16-13    16-26    16-35
        16-48    17-5     17-24    17-24    17-28    18-3     18-24    19-5
19-24    19-42    19-42    21-3     22-3     23-3
        24-3     24-16    24-16    24-18    24-31    24-44    24-44    24-46
25-3     25-3     25-4     25-4     25-8     25-25
        25-38    26-3     26-10    26-10    26-12    26-21    27-3     28-6
29-3     30-3     31-3     31-40    32-3     33-3
        33-14    33-34    33-45    34-3     34-19    35-3     35-23    36-17
36-17    36-19    36-19    36-21    36-21    36-25
        36-35    37-3     37-31    37-40    37-49    37-50    40-1     40-2
42-27    42-28    45-3#
L.PPN   24-35#
L.PROT  24-41#
L.STAT  24-40#
L3QPAR  61-12    61-12    61-12
L3QSIZ  19-42#   48-131   48-136
L3QTBL  61-12    61-12    61-12
LCK     16-22#   52-18    52-36    52-50    53-38
LCL$MN  25-3#
LCL$MX  25-4#
LIBLST  66-28#
LKS     14-3#
LOG$CK  22-5#
LOG$DB  22-21#
LOG$DC  22-14#
LOG$DF  22-15#
LOG$DK  22-17#
LOG$DL  22-22#
LOG$DM  22-18#
LOG$DP  22-19#
LOG$DR  22-20#
LOG$DS  22-16#
LOG$DX  60-18    60-18#
LOG$J0  22-6#
LOG$KB  60-18    60-18#
LOG$KT  22-12#
LOG$LP  60-18    60-18#
LOG$MM  60-18    60-18#
LOG$NW  22-13#
LOG$PA  22-11#
LOG$PF  22-10#
LOG$PP  60-18    60-18#
LOG$PR  60-18    60-18#
LOG$RI  22-9#
LOG$SZ  22-23#   48-141   60-3     60-19#
LOG$T4  22-8#
LOG$UI  22-7#
LOGEND  71-24#
LOGICL  39-85#   71-21
LOGNAM  71-5#
LOGSYS  71-16#
LOKFQ    7-14#   31-14#
LOWCOR  49-7#    50-5     50-7     50-21    50-23    50-25    50-32    50-36
51-3     51-8     51-11    51-13    51-15    51-20  
        51-22    51-24    51-26    51-28    51-30    51-32    51-34    51-36
51-38    52-5     52-5     52-7     52-11    52-21
        52-21    52-23    52-25    52-30    52-30    52-39    52-39    52-41
52-43    53-5     53-5     53-7     53-9     53-20
 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE S-14
CROSS REFERENCE TABLE (CREF V01-05 )


        53-26    53-26    53-28    53-30    53-47    55-11    55-11    55-11
55-11    55-11    55-11    55-11    55-11    55-11
        55-11    55-13    56-8     56-8     56-10    56-12    56-19    57-3
57-3
LP11    39-61#   43-49    43-52
LPDAP5  48-303#  67-27
LPDDDB  72-49#
LPDINT  48-303#
LPDVR   45-31
LPTHND   9-10#
LS.LIB  24-55#
M.CTRL  16-9#
M.PHYA  16-10#
M.PNXT  16-6#
M.PPRV  16-5#
M.SIZE  16-8#    17-24    24-16    24-44
M.TSIZ  16-7#
MAPFQ    7-29#   31-46#
MAXUN2  76-17#
MAXUNT  76-16#   76-17    76-24    76-31    76-38    76-44    76-51    76-57
77-7     77-13    77-19    77-21    77-27    77-29
        77-39    77-40    77-43
MBXHND   9-25#
MCBSIZ  16-11#   17-17    24-8     24-36
MED     45-7
MEMLST  52-14#   52-32
MEMSIZ  52-51#
MID$DB  75-66#
MID$DL  75-66#
MID$DR  75-66#
MID$XX  75-58#
MMDAP5  48-303#  61-12    61-12    67-27
MMDDDB  72-49#
MMDINT  48-303#
MMDVR   45-31
MMU22W  58-19*   58-27*   58-51
MMUSR0  13-30#   58-18*   58-26*
MORBUF  56-23    56-31#
MTAHND   9-14#
MULTTY  39-34#
N       13-13#
NAM.DX  62-16#   63-22
NAM.KB  62-16#   63-22
NAM.LP  62-16#
NAM.MM  62-16#   63-22
NAM.NL  62-16#
NAM.PK  62-16#
NAM.PP  62-16#
NAM.PR  62-16#
NETFQ   31-32#
NEXT    35-11#   51-22
NLDDDB  72-49#
NLDVR   45-31
NODELS  48-87#
NONMSK  31-25#   48-201
NONRTS  31-21#
NSPCHK  59-25#
NSPCTL  66-33
NSPTMO  59-38#
NSTORG  10-18#   35-38#
 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE S-15
CROSS REFERENCE TABLE (CREF V01-05 )


NULHND   9-18#
NULJOB  55-31    58-5#    58-9
NULMAX  53-43#   57-7*
NULRTS  53-32#
OPN$DX  73-35
OPN$LP  73-35
OPN$MM  73-35
OPN$NL  73-35
OPN$PP  73-35
OPN$PR  73-35
OPN$SY  73-35
OPNFQ    7-6#    31-6#
OPNTBL  73-20    73-21#
OPO$XX  75-51#
OPT$DB  75-45#
OPT$DL  75-45#
OPT$DR  75-45#
OPT$XX  75-37#   75-51
OUT     16-16#
OVRBUF  48-251#
P$BREM  25-46#
P$BUFA  25-41#
P$LINK  25-40#
P$PARM  25-47#
P$SNDR  25-43#
P$SPPN  25-44#
P$TYPE  25-42#
P.2CC   11-7#
P.BAD   11-14#
P.BPT   11-13#
P.CC    11-8#
P.CRAS  11-18#
P.DEXT  11-22#
P.EMT   11-11#
P.FIS   11-19#
P.FLAG  11-23#
P.FPP   11-9#
P.IOT   11-12#
P.ISIZ  11-21#
P.MSIZ  11-20#
P.NEW   11-16#
P.OFF   11-25#
P.RUN   11-15#
P.SIZE  11-6#
P.STRT  11-17#
P.TRAP  11-10#
PC       3-29#   48-258   48-258*  48-261   50-27    58-21*   58-31*   58-36*
58-42*   59-26*   59-38*   59-50*
PF.1US  11-30#   24-21#
PF.CSZ  11-34#   24-25#
PF.EMT  11-36#   24-27#
PF.KBM  11-29#   24-20#
PF.NER  11-32#   24-23#
PF.REM  11-33#   24-24#
PF.RW   11-31#   24-22#
PF.SLA  11-35#   24-26#
PK11    39-12#   42-7     43-16    43-19
PKBHND   9-15#
 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE S-16
CROSS REFERENCE TABLE (CREF V01-05 )


PKDCTL  70-44    70-44    70-44    70-44
PKDDDB  72-49#
PKDVR   45-31
PKS     14-5#
PKSTKB  42-5#    70-44    70-44
PLTHND   9-21#
PP11    39-77#   43-70    43-73
PPDAP5  48-303#  67-27
PPDDDB  72-49#
PPDINT  48-303#
PPDVR   45-31
PR0     13-18#
PR1     13-19#   55-32
PR11    39-75#   43-60    43-63
PR2     13-20#
PR3     13-21#   55-23
PR4     13-22#
PR5     13-23#   55-19    55-20
PR6     13-24#   50-21    50-23
PR7     13-25#   50-5     58-17    58-25
PRDAP5  48-303#  67-27
PRDDDB  72-49#
PRDINT  48-303#
PRDVR   45-31
PS      13-6#    58-17*   58-25*
PTPHND   9-12#
PTRHND   9-11#
PWFSAV  55-5#    55-11    55-11    55-11    55-11    55-11    55-11    55-11
55-11    55-11    55-11    57-3
QBGBUF  19-29#
QBRING  19-38#
QBUFRT  19-22#
QCACHE  19-27#
QDS$OO  37-43#
QDUMP   19-37#
QDXCON  61-12#
QFAST   19-7#    61-5#
QFILE   19-36#
QFIP    19-32#
QFORCE  19-40#
QMMCON  61-12#
QMMDNE  61-12#
QNSP    19-34#
QSCHED  19-39#
QSTATS  39-87#   42-25    45-33
QSWAPC  19-31#
QTIMER  19-26#
QTRN    19-33#
QUMR    19-30#
R.CNT   24-11#   24-39#
R.DATA  24-9#    24-37#
R.DEXT  24-7#
R.FILE  24-10#   24-38#
R.FLAG  24-14#   24-42#
R.KSIZ  24-16#   24-44#
R.LINK  24-5#    24-33#
R.MCTL  24-8#    24-16    24-36#   24-44    52-30
R.MSIZ  24-13#
 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE S-17
CROSS REFERENCE TABLE (CREF V01-05 )


R.NAME  24-6#    24-34#
R.SIZE  24-12#
R0       3-22#   48-257*  57-11*   58-8*
R1       3-23#   57-12*   57-14*   57-15    58-5*    58-7*
R2       3-24#   58-5
R3       3-25#   50-27*   57-14    57-16    57-20    57-21
R4       3-26#   57-15*   57-16    57-17    57-18    57-19
R5       3-27#   57-13*
RAWMEM  65-5#
RCVFQ   31-31#
RELOAD  57-29    58-17#
RENFQ    7-9#    31-9#
REQ     16-15#
RES     45-7
RETEXT  48-244#
RETSML  36-19#
RETURN  36-21#
RFUN    37-35#
RFUN.C  37-36#
RH7CH   14-100#
RHAS    14-16#
RHATA   14-73#
RHBA    14-11#
RHCLR   14-44#
RHCS1   14-9#
RHCS2   14-13#
RHDLT   14-54#
RHDPR   14-66#
RHDRQ   14-99#
RHDRY   14-65#
RHDS    14-14#
RHDT    14-19#
RHDTE   14-89#
RHER    14-15#
RHERR   14-72#
RHESET  14-32#
RHILF   14-77#
RHILR   14-78#
RHMCPE  14-28#
RHMDPE  14-47#
RHMOH   14-101#
RHMOL   14-70#
RHMR    14-18#
RHMXF   14-48#
RHNED   14-51#
RHNEM   14-50#
RHNSA   14-103#
RHOPI   14-90#
RHPE    14-52#
RHPGE   14-49#
RHPIP   14-71#
RHREAD  14-35#
RHRMR   14-79#
RHSC    14-30#
RHSPR   14-98#
RHTAP   14-102#
RHTRE   14-29#
 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE S-18
CROSS REFERENCE TABLE (CREF V01-05 )


RHUNS   14-91#
RHWC    14-10#
RHWCHK  14-33#
RHWRIT  14-34#
RHWRL   14-69#
RJ2780  39-79#   43-30    45-43
RJEHND   9-17#
RJETMO  59-50#
RSTFQ    7-13#   31-13#
RSXAGN  48-257#
RSXDSP  48-263
RSXENT  48-258#
RSXTRP  48-256#
RTI     45-7
RTSLST  66-27#
RUNFQ   31-23#
RX11    39-63#   43-137   43-140
RXDHND   9-16#
S.ACCS  25-14#
S.BMAX  25-16#
S.JBNO  25-12#
S.LCNT  25-21#
S.LINK  25-10#
S.LLST  25-22#
S.LMAX  25-20#
S.MCNT  25-18#
S.MLST  25-19#
S.MMAX  25-17#
S.OBJT  25-13#
S.RCID  25-11#
SA.1SH  25-30#
SA.LCL  25-27#   53-14
SA.NET  25-29#
SA.PRV  25-28#   53-14
SA.XOF  25-34#
SATCTL  77-27#
SATCTM  77-29#
SATEND  77-13#
SATPTR  77-7#
SATSTL  77-19#
SATSTM  77-21#
SER$DX  73-18
SER$LP  73-18
SER$MM  73-18
SER$NL  73-18
SER$PP  73-18
SER$PR  73-18
SER$SY  73-18
SERTBL  73-3     73-4#
SETDTR  48-233#
SETPRM  48-229#
SETUP   55-20    55-37
SIZ.DX  74-35
SIZ.LP  74-35
SIZ.MM  74-35
SIZ.NL  74-35
SIZ.PP  74-35
 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE S-19
CROSS REFERENCE TABLE (CREF V01-05 )


SIZ.PR  74-35
SIZ.SY  74-35
SIZTBL  74-20    74-21#
SL      13-5#
SL.VAL  55-15#
SL2741  39-26#   42-3
SLP.DX  73-111
SLP.KB  43-7#
SLP.LP  73-111
SLP.MM  73-111
SLP.NL  73-111
SLP.PK  43-22#
SLP.PP  73-111
SLP.PR  73-111
SLP.SY  73-111
SLPTBL  73-92    73-93#
SMLBUF  56-29    56-33
SNDFQ   31-30#
SNDLST  66-32#
SP       3-28#   57-8     58-20*   58-28*   58-35*   58-38
SPC$DX  73-90
SPC$LP  73-90
SPC$MM  73-90
SPC$NL  73-90
SPC$PP  73-90
SPC$PR  73-90
SPC$SY  73-90
SPCTBL  73-75    73-76#
SPLLST  66-34#
START   55-21    57-7#
STSTBL  50-38    77-33
SUB     45-7
SWITCH  58-32    58-51
SWP     16-21#   52-36
SWPMAX  57-7     57-24
SWR     13-29#
SYDAP5  48-303#  67-27    67-27
SYDINT  48-303#
SYDVR   45-31
SYSTAK  55-24#
SYSVEE   3-4#    78-4
SYSVEL   3-3#    78-3
SYSVEN  39-3#    78-5
T       13-14#
TC11    39-57#   43-128
TIM.DX  69-29#
TIM.KB  69-29#   69-32
TIM.LP  69-29#
TIM.MM  69-29#
TIM.NL  69-29#
TIM.PK  69-29#
TIM.PP  69-29#
TIM.PR  69-29#
TIMCLK  35-9#    51-15
TIME    35-7#    51-11    57-10    58-38
TIMEND  69-30#
TIMSEC  35-8#    51-13
 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE S-20
CROSS REFERENCE TABLE (CREF V01-05 )


TIMTBL  69-9#
TM02    39-51#   43-108   43-111
TM11    39-53#   43-98
TMO$DX  73-73
TMO$LP  73-73
TMO$MM  73-73
TMO$NL  73-73
TMO$OO  37-46#
TMO$PP  73-73
TMO$PR  73-73
TMOTBL  73-54    73-55#
TS11    39-55#   43-118
TTYHND   9-8#
TU58    39-59#   43-147
UC.CNT  16-37#
UC.DLW  16-40#
UC.LCK  16-42#
UC.MNT  16-44#   76-11    76-11    76-11    76-11    76-11    76-11    76-11
76-11    76-11    76-11    76-11    76-11    76-11
        76-11    76-11    76-11    76-11    76-11    76-11    76-11
UC.NFS  16-41#
UC.PRI  16-43#
UC.TOP  16-38#
UC.WLO  16-39#
UISAR0  13-47#
UISDR0  13-45#
UMPFQ    7-30#   31-47#
UMR$DX  68-23
UMR$MM  68-23
UMR$OO  37-45#
UMR.DX  43-143#  68-23
UMR.KB  68-23
UMR.LP  68-23
UMR.MM  43-114#  68-23
UMR.NL  68-23
UMR.PK  68-23
UMR.PP  68-23
UMR.PR  68-23
UMREND  68-24#   68-26
UMRKB   68-11#   68-26
UNIWIN  13-50#
UNTCLU  76-31#   76-32
UNTCNE  76-12#   76-16
UNTCNT  64-6     76-7#    76-16
UNTERR  76-32#
UNTLIB  76-38#
UNTOPT  76-58#
UNTOWN  76-57#   76-58
UNTSIZ  76-51#
UO.CLN  16-50#
UO.NCD  16-55#
UO.NCF  16-54#
UO.WCF  16-56#
UO.WCU  16-57#
UPE     45-7
USRLOG  10-17#   35-37#
USRPPN  10-15#   35-35#
USRPRT  10-16#   35-36#
 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE S-21
CROSS REFERENCE TABLE (CREF V01-05 )


USRSP   10-9#    35-29#
UU$MAX  32-63#   48-211   48-216
UU$MIN  32-5#    48-211   48-216   57-18
UU.ACT   8-18#   32-19#
UU.ASS   8-43#   32-44#
UU.ATR   8-8#    32-9#
UU.ATT   8-39#   32-40#
UU.BCK   8-22#   32-23#
UU.BYE   8-38#   32-39#
UU.CCL   8-9#    32-10#
UU.CHE   8-52#   32-53#
UU.CHU   8-41#   32-42#
UU.CLN   8-35#   32-36#
UU.CNV   8-53#   32-54#
UU.DAL   8-45#   32-46#
UU.DAT   8-19#   32-20#
UU.DEA   8-44#   32-45#
UU.DET   8-40#   32-41#
UU.DIE   8-17#   32-18#
UU.DIR   8-48#   32-49#
UU.DLU   8-34#   32-35#
UU.DMP   8-6#    32-7#
UU.ERR   8-42#   32-43#
UU.FCB   8-25#   32-26#
UU.FIL   8-7#    32-8#
UU.HNG   8-24#   32-25#
UU.JOB   8-57#   32-58#
UU.KMC   8-60#   32-61#
UU.LIN   8-37#   32-38#   57-18
UU.LOG   8-14#   32-15#
UU.LOK   8-50#   32-51#
UU.MNT   8-36#   32-37#
UU.NAM   8-16#   32-17#
UU.NLG   8-31#   32-32#
UU.PAS   8-33#   32-34#
UU.POK   8-27#   32-28#
UU.PPN   8-58#   32-59#
UU.PRI   8-20#   32-21#
UU.RAD   8-47#   32-48#
UU.RTS   8-15#   32-16#
UU.SLN   8-54#   32-55#
UU.SPL   8-5#    32-6#
UU.SWP   8-56#   32-57#
UU.SYS   8-59#   32-60#
UU.TB1   8-30#   32-31#
UU.TB2   8-21#   32-22#
UU.TRM   8-49#   32-50#
UU.YLG   8-32#   32-33#
UU.ZER   8-46#   32-47#
UUOFQ    7-11#   31-11#
V       13-11#
VOLSW1  58-34#
VOLSW2  58-41#
W$NAPR  26-14#
W$NBYT  26-19#
W$NLIB  26-17#
W$NOFF  26-18#
 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE S-22
CROSS REFERENCE TABLE (CREF V01-05 )


W$NSIZ  26-16#
W$NSTS  26-15#
W.ALIB  26-6#
W.LINK  26-5#
W.SIZE  26-10#
W.WIN1  26-7#    26-10
W.WIN2  26-8#    26-10
WFUN    37-34#
WFUN.C  37-33#
WINFQ   31-27#
WS$MAP  26-30#
WS$WRT  26-23#
XRB     10-12#   35-32#
XRBC     4-9#    28-9#
XRBLK    4-13#   28-13#
XRBLKM   4-12#   28-12#
XRBSAV  28-17#
XRBSIZ   4-16#   10-12    28-16#   35-32
XRBUSE  28-18#
XRCI     4-11#   28-11#
XRLEN    4-8#    28-8#
XRLOC    4-10#   28-10#
XRMOD    4-15#   28-15#
XRTIME   4-14#   28-14#
Z       13-12#
ZERO    51-27    51-41
 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE M-1
CROSS REFERENCE TABLE (CREF V01-05 )


$DISKS  41-3#    45-11    48-56    48-277   62-7     63-7     64-8     68-6
69-11    70-7     71-6     75-9     75-21    75-38
        75-59    76-8
$KBS    41-11#
$NAMES  41-7#    45-24    46-5     47-7     48-47    48-72    48-290   60-5
61-7     62-11    62-18    63-10    63-18    64-11
        65-7     67-8     67-17    68-12    69-22    70-18    72-3     73-5
73-22    73-39    73-56    73-77    73-94    73-115
        73-136   74-5     74-22    74-39
.ASSUM   2-151#  46-12    46-13    46-14    46-16    47-22    47-22    47-22
47-22    47-22    47-22    48-263   51-8     51-11
        51-13    51-15    51-20    51-22    51-24    51-26    51-28    51-30
51-32    51-34    51-36    51-38    52-11    52-25
        52-43    53-9     53-20    53-30    53-47    56-12    57-39    57-41
61-12    61-12    61-12    61-12    61-12    61-12
        61-12    61-12    68-26
.BLKB0   2-103#
.BLKW0   2-95#   48-70    48-100   48-105   48-115   48-117   48-119   48-121
48-126   48-131   48-136   48-141   48-146   48-151
        48-156   48-161   48-166   48-171   48-176   48-181   48-186   48-191
48-196   48-201   48-206   48-211   48-216   48-268
        48-273   52-28    53-18    66-12    66-19    66-21    69-7     69-21
69-21    69-21    69-29    69-29    69-29    69-29
        69-29    69-29    69-29    69-29    70-44    70-44    70-44    70-44
70-44    70-44    70-44    70-44    70-44    70-44
        75-31    75-31    75-31    75-45    75-45    75-45    75-66    75-66
75-66    76-11    76-11    76-11    76-11    76-11
        76-11    76-11    76-11    76-11    76-24    76-31    76-38    76-44
76-51    76-57    77-7     77-13    77-19    77-21
        77-27    77-29    77-40
.BR      2-158#
.BSECT   2-57#    9-27    10-20    11-27    13-8     14-21    14-37    14-56
14-75    14-94    16-13    16-48    18-3     18-24
        19-24    21-3     24-18    24-46    25-25    26-21    33-34    33-45
47-5
.CALLR   2-164#
.DSECT   2-45#    4-6      5-6      6-3      7-3      7-23     8-3      9-5
10-3     11-3     13-3     13-16    13-27    13-32
        13-43    14-7     16-3     16-26    16-35    17-5     17-28    19-5
22-3     23-3     24-3     24-31    25-8     25-38
        26-3     26-12    27-3     28-6     29-3     30-3     31-3     31-40
32-3     33-3     33-14    34-3     34-19    35-3
        35-23    36-25    36-35    37-3     37-31    37-40    46-3     60-3
61-3
.EQUAT   2-69#    3-3      3-4     13-39    13-41    13-50    14-3     14-5
14-32    14-33    14-34    14-35    17-24    19-42
        24-16    24-44    25-3     25-4     26-10    36-17    36-19    36-21
BUFFER  36-3#
CALL     2-126#  57-13    58-21    58-31    58-36
CALLBB  15-24#
CALLM   15-3#
CALLMI  15-10#   57-13
CALLMR  15-17#
CALLR    2-133#  58-47
CALLRX   2-144#
CALLX    2-137#  57-13
CHKERR  15-91#
CRASH   15-148#
DEFORG   2-14#   48-5     48-9     48-19    48-42    48-45    48-54    48-54
48-54    48-54    48-54    48-54    48-54    48-54
        48-70    48-70    48-70    48-91    48-93    48-95    48-97    48-103
48-109   48-112   48-218   48-288   48-288   48-288
        58-3     59-23    59-36    59-48
DEVICE  41-15#   43-3     43-9     43-18    43-51    43-62    43-72    43-110
43-139
DSKDEF  15-47#
EMTENT  30-41#
ERRENT  22-27#   60-18    60-18    60-18    60-18    60-18    60-18
ERROR   15-84#
GETUSR  15-28#
GLOBAL   2-111#  49-35    50-40    51-41    55-37    57-24    58-51
INCLUD   2-38#   45-7     45-31    45-31    45-31    45-31    45-31    45-31
45-31    45-31    45-31    45-34    45-38
JMPX     2-119#  50-28
L3Q$DX  61-12
L3Q$KB  61-12
L3Q$LP  61-12
L3Q$MM  61-12
L3Q$NL  61-12
 RSTS    MACRO V03.01 18-OCT-86 01:52:14 PAGE M-2
CROSS REFERENCE TABLE (CREF V01-05 )


L3Q$PK  61-12
L3Q$PP  61-12
L3Q$PR  61-12
L3QENT  20-3#    61-12    61-12    61-12
L3QSET  20-27#
MOVPIC   2-190#
ORG      2-6#    48-5     48-9     48-14    48-19    48-22    48-26    48-30
48-34    48-38    48-42    48-45    48-54    48-54
        48-54    48-54    48-54    48-54    48-54    48-54    48-70    48-70
48-70    48-77    48-77    48-77    48-77    48-77
        48-77    48-77    48-77    48-77    48-84    48-84    48-84    48-84
48-84    48-84    48-86    48-89    48-91    48-93
        48-95    48-97    48-103   48-109   48-112   48-123   48-128   48-133
48-138   48-143   48-148   48-153   48-158   48-163
        48-168   48-173   48-178   48-183   48-188   48-193   48-198   48-203
48-208   48-213   48-218   48-225   48-235   48-240
        48-246   48-253   48-265   48-270   48-288   48-288   48-288   48-303
48-303   48-303   48-303   48-303   48-303   48-303
        48-303   48-303   48-310   49-5     50-7     50-25    50-32    50-36
51-3     52-3     52-7     52-23    52-30    52-41
        53-3     53-7     53-24    53-28    54-3     55-3     55-13    56-6
56-10    56-17    56-21    56-27    57-3     58-3
        58-13    59-23    59-36    59-48    62-3     63-3     64-3     65-3
66-10    66-17    66-25    67-5     67-14    69-3
        70-3     71-3     72-49    72-49    72-49    72-49    72-49    72-49
72-49    72-49    73-3     73-20    73-37    73-54
        73-75    73-92    73-113   73-134   74-3     74-20    74-37    75-5
75-18    75-35    75-55    76-5     76-21    76-29
        76-36    76-42    76-48    76-55    77-5     77-11    77-17    77-25
77-33    77-37
POP      2-180#
PUSH     2-170#
PUTUSR  15-33#
REGSAV  15-122#
REGSCR  15-109#
RETURN   2-115#  59-26    59-38    59-50
SETERR  15-98#
SPL     15-73#
SPLC    15-80#   58-17    58-25
SWAPR    2-86#
TITLE    3-6#    12-3     38-1     40-3     44-1
TMPORG   2-23#   48-5     48-9     48-14    48-19    48-22    48-26    48-30
48-34    48-38    48-42    48-45    48-54    48-54
        48-54    48-54    48-54    48-54    48-54    48-54    48-70    48-70
48-70    48-77    48-77    48-77    48-77    48-77
        48-77    48-77    48-77    48-77    48-84    48-84    48-84    48-84
48-84    48-84    48-86    48-89    48-91    48-93
        48-95    48-97    48-103   48-109   48-112   48-123   48-128   48-133
48-138   48-143   48-148   48-153   48-158   48-163
        48-168   48-173   48-178   48-183   48-188   48-193   48-198   48-203
48-208   48-213   48-218   48-225   48-235   48-240
        48-246   48-253   48-265   48-270   48-288   48-288   48-288   48-303
48-303   48-303   48-303   48-303   48-303   48-303
        48-303   48-303   48-310   49-5     50-5     50-7     50-21    50-23
50-25    50-32    50-36    51-3     52-3     52-7
        52-23    52-30    52-41    53-3     53-7     53-24    53-28    54-3
55-3     55-13    56-6     56-10    56-17    56-21
        56-27    57-3     58-3     58-13    59-23    59-36    59-48    62-3
63-3     64-3     65-3     66-10    66-17    66-25
        67-5     67-14    69-3     70-3     71-3     72-49    72-49    72-49
72-49    72-49    72-49    72-49    72-49    73-3
        73-20    73-37    73-54    73-75    73-92    73-113   73-134   74-3
74-20    74-37    75-5     75-18    75-35    75-55
        76-5     76-21    76-29    76-36    76-42    76-48    76-55    77-5
77-11    77-17    77-25    77-33    77-37
UNORG    2-3#    48-5#    48-9#    48-14#   48-19#   48-22#   48-26#   48-30#
48-34#   48-38#   48-42#   48-45#   48-54#   48-54#
        48-54#   48-54#   48-54#   48-54#   48-54#   48-54#   48-70#   48-70#
48-70#   48-77#   48-77#   48-77#   48-77#   48-77#
        48-77#   48-77#   48-77#   48-77#   48-84#   48-84#   48-84#   48-84#
48-84#   48-84#   48-86#   48-89#   48-91#   48-93#
        48-95#   48-97#   48-103#  48-109#  48-112#  48-123#  48-128#  48-133#
48-138#  48-143#  48-148#  48-153#  48-158#  48-163#
        48-168#  48-173#  48-178#  48-183#  48-188#  48-193#  48-198#  48-203#
48-208#  48-213#  48-218#  48-225#  48-235#  48-240#
        48-246#  48-253#  48-265#  48-270#  48-288#  48-288#  48-288#  48-303#
48-303#  48-303#  48-303#  48-303#  48-303#  48-303#
        48-303#  48-303#  48-310#  49-5#    50-5     50-7#    50-21    50-23
50-25#   50-32#   50-36#   51-3#    52-3#    52-7#
        52-23#   52-30#   52-41#   53-3#    53-7#    53-24#   53-28#   54-3#
55-3#    55-13#   56-6#    56-10#   56-17#   56-21#
        56-27#   57-3#    58-3#    58-13#   59-23#   59-36#   59-48#   60-18
60-18    60-18    60-18    60-18    60-18    61-12
        61-12    61-12    62-3#    63-3#    64-3#    65-3#    66-10#   66-17#
66-25#   67-5#    67-14#   69-3#    70-3#    71-3#
        72-49#   72-49#   72-49#   72-49#   72-49#   72-49#   72-49#   72-49#
73-3#    73-20#   73-37#   73-54#   73-75#   73-92#
        73-113#  73-134#  74-3#    74-20#   74-37#   75-5#    75-18#   75-35#
75-55#   76-5#    76-21#   76-29#   76-36#   76-42#
        76-48#   76-55#   77-5#    77-11#   77-17#   77-25#   77-33#   77-37#
VECTOR  15-38#   50-5     50-21    50-23
  
COMMON  COMMON DEFINITIONS      MACRO V03.01 18-OCT-86 01:52:07
TABLE OF CONTENTS

    1-   7
    1-   8      COMMON  COMMON DEFINITIONS
    1-   9
    1-  10      EDIT:           DATE:           BY:
    1-  11       07           22-SEP-79         MHB/ABC/SJK/SHG/MJG
    1-  12
    1-  13
    1-  14              COPYRIGHT (C) 1974, 1975, 1976, 1977, 1978, 1979 BY
    1-  15              DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
    1-  16
    1-  17      THIS SOFTWARE IS FURNISHED UNDER A LICENSE AND MAY BE USED AND
COPIED
    1-  18      ONLY  IN  ACCORDANCE  WITH  THE  TERMS  OF  SUCH  LICENSE AND WI
TH THE
    1-  19      INCLUSION OF THE ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE OR  ANY
 OTHER
    1-  20      COPIES  THEREOF MAY NOT BE PROVIDED OR OTHERWISE MADE AVAILABLE
TO ANY
    1-  21      OTHER PERSON.  NO TITLE TO AND OWNERSHIP OF  THE  SOFTWARE  IS
HEREBY
    1-  22      TRANSFERRED.
    1-  23
    1-  24      THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE  WITHOUT
NOTICE
    1-  25      AND  SHOULD  NOT  BE  CONSTRUED  AS  A COMMITMENT BY DIGITAL EQU
IPMENT
    1-  26      CORPORATION.
    1-  27
    1-  28      DIGITAL ASSUMES NO RESPONSIBILITY FOR THE USE  OR  RELIABILITY
OF ITS
    1-  29      SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DIGITAL.
    1-  30
   12-   3
   12-   3      KERNEL  KERNEL MODE DEFINITIONS
   12-   3
   12-   3      EDIT:           DATE:           BY:
   12-   3       07           22-SEP-79         MHB/ABC/MJG/SJK
   12-   3
   38-   1
   38-   1      CONFIG  CONFIGURATION PARAMETERS
   38-   1
   38-   1      EDIT:           DATE:           BY:
   38-   1       07           18-OCT-86         RSTS
   38-   1
   40-   3
   40-   3      CHECK   CHECK CONFIGURATION PARAMETERS
   40-   3
   40-   3      EDIT:           DATE:           BY:
   40-   3       07           22-SEP-79         MHB/SJK
   40-   3
   44-   1
   44-   1      KBDEF   TERMINAL DEFINITIONS
   44-   1
   44-   1      EDIT:           DATE:           BY:
   44-   1       07           22-SEP-79         MHB
   44-   1
   45-   1      STANDARD TERMINAL DDB LAYOUT
   46-   1
   46-   1      TTDINT  ROOT TERMINAL SERVICE
   46-   1
   46-   1      EDIT:           DATE:           BY:
   46-   1       07           22-SEP-79         MHB/ABC
   46-   1
   47-   3
   47-   4      PSEUDO KEYBOARD PROCESSING
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07
TABLE OF CONTENTS

   47-   5
   47-   7      DEFINE IN LIBRARY "PKDVR"
   47-   9      DEFINE IN LIBRARY "PKDCTL"
   47-  11      DEFINE IN LIBRARY "PKDINT"
   47-  13      DEFINITIONS
   48-  37      PSEUDO-KEYBOARD PSEUDO CSR'S
   49-   1
   49-   2      NORMAL TERMINAL PROCESSING
   49-   3
   49-   5      TERMINAL DDB LAYOUT
   49-  27      VARIABLE DDB PIECES
   50-   1      DEFINE IN LIBRARY "KBDVR"
   50-   3      DEFINE IN LIBRARY "KBDCTL"
   50-   7      DEFINE THE INTERFACE TYPE CODES
   51-   1      LOCAL EQUATES THAT ARE GLOBALIZED
   52-   1      INTERRUPT SERVICE ENTRY ROUTINE VECTORS SETUP
   53-   1      INTERRUPT SERVICE VECTORS FOR MULTIPLEXORS & MODEM CONTROL
   54-   1      TERMINAL EMT DISPATCHER
   54-  16      ERROR LOGGING ENTRY
   55-   1
   55-   2      ****************************************************************
********
   55-   3      KEYBOARD NUMBERS FOR THIS SYSTEM:
   55-   4
   55-  27              KB0:    IS A CONSOLE (0) KEYBOARD
   55-  29              KB1:    IS A KL11/LC11/DL11A/DL11B (0) KEYBOARD
   55-  29              KB2:    IS A KL11/LC11/DL11A/DL11B (1) KEYBOARD
   55-  29              KB3:    IS A KL11/LC11/DL11A/DL11B (2) KEYBOARD
   55-  29              KB4:    IS A KL11/LC11/DL11A/DL11B (3) KEYBOARD
   55-  29              KB5:    IS A KL11/LC11/DL11A/DL11B (4) KEYBOARD
   55-  29              KB6:    IS A KL11/LC11/DL11A/DL11B (5) KEYBOARD
   55-  29              KB7:    IS A KL11/LC11/DL11A/DL11B (6) KEYBOARD
   55-  29              KB8:    IS A KL11/LC11/DL11A/DL11B (7) KEYBOARD
   55-  29              KB9:    IS A KL11/LC11/DL11A/DL11B (8) KEYBOARD
   55-  29              KB10:   IS A KL11/LC11/DL11A/DL11B (9) KEYBOARD
   55-  29              KB11:   IS A KL11/LC11/DL11A/DL11B (10) KEYBOARD
   55-  29              KB12:   IS A KL11/LC11/DL11A/DL11B (11) KEYBOARD
   55-  29              KB13:   IS A KL11/LC11/DL11A/DL11B (12) KEYBOARD
   55-  29              KB14:   IS A KL11/LC11/DL11A/DL11B (13) KEYBOARD
   55-  29              KB15:   IS A KL11/LC11/DL11A/DL11B (14) KEYBOARD
   55-  33              KB16:   IS A DL11C/DL11D (0) KEYBOARD
   55-  33              KB17:   IS A DL11C/DL11D (1) KEYBOARD
   55-  33              KB18:   IS A DL11C/DL11D (2) KEYBOARD
   55-  33              KB19:   IS A DL11C/DL11D (3) KEYBOARD
   55-  33              KB20:   IS A DL11C/DL11D (4) KEYBOARD
   55-  33              KB21:   IS A DL11C/DL11D (5) KEYBOARD
   55-  33              KB22:   IS A DL11C/DL11D (6) KEYBOARD
   55-  33              KB23:   IS A DL11C/DL11D (7) KEYBOARD
   55-  33              KB24:   IS A DL11C/DL11D (8) KEYBOARD
   55-  33              KB25:   IS A DL11C/DL11D (9) KEYBOARD
   55-  33              KB26:   IS A DL11C/DL11D (10) KEYBOARD
   55-  33              KB27:   IS A DL11C/DL11D (11) KEYBOARD
   55-  33              KB28:   IS A DL11C/DL11D (12) KEYBOARD
   55-  33              KB29:   IS A DL11C/DL11D (13) KEYBOARD
   55-  33              KB30:   IS A DL11C/DL11D (14) KEYBOARD
   55-  33              KB31:   IS A DL11C/DL11D (15) KEYBOARD
   55-  37              KB32:   IS A PSEUDO (0) KEYBOARD
   55-  37              KB33:   IS A PSEUDO (1) KEYBOARD
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07
TABLE OF CONTENTS

   55-  37              KB34:   IS A PSEUDO (2) KEYBOARD
   55-  37              KB35:   IS A PSEUDO (3) KEYBOARD
   55-  54              KB36:   IS A DJ11 #0 (0) KEYBOARD
   55-  54              KB37:   IS A DJ11 #0 (1) KEYBOARD
   55-  54              KB38:   IS A DJ11 #0 (2) KEYBOARD
   55-  54              KB39:   IS A DJ11 #0 (3) KEYBOARD
   55-  54              KB40:   IS A DJ11 #0 (4) KEYBOARD
   55-  54              KB41:   IS A DJ11 #0 (5) KEYBOARD
   55-  54              KB42:   IS A DJ11 #0 (6) KEYBOARD
   55-  54              KB43:   IS A DJ11 #0 (7) KEYBOARD
   55-  54              KB44:   IS A DJ11 #0 (8) KEYBOARD
   55-  54              KB45:   IS A DJ11 #0 (9) KEYBOARD
   55-  54              KB46:   IS A DJ11 #0 (10) KEYBOARD
   55-  54              KB47:   IS A DJ11 #0 (11) KEYBOARD
   55-  54              KB48:   IS A DJ11 #0 (12) KEYBOARD
   55-  54              KB49:   IS A DJ11 #0 (13) KEYBOARD
   55-  54              KB50:   IS A DJ11 #0 (14) KEYBOARD
   55-  54              KB51:   IS A DJ11 #0 (15) KEYBOARD
   55-  54              KB52:   IS A DJ11 #1 (0) KEYBOARD
   55-  54              KB53:   IS A DJ11 #1 (1) KEYBOARD
   55-  54              KB54:   IS A DJ11 #1 (2) KEYBOARD
   55-  54              KB55:   IS A DJ11 #1 (3) KEYBOARD
   55-  54              KB56:   IS A DJ11 #1 (4) KEYBOARD
   55-  54              KB57:   IS A DJ11 #1 (5) KEYBOARD
   55-  54              KB58:   IS A DJ11 #1 (6) KEYBOARD
   55-  54              KB59:   IS A DJ11 #1 (7) KEYBOARD
   55-  54              KB60:   IS A DJ11 #1 (8) KEYBOARD
   55-  54              KB61:   IS A DJ11 #1 (9) KEYBOARD
   55-  54              KB62:   IS A DJ11 #1 (10) KEYBOARD
   55-  54              KB63:   IS A DJ11 #1 (11) KEYBOARD
   55-  54              KB64:   IS A DJ11 #1 (12) KEYBOARD
   55-  54              KB65:   IS A DJ11 #1 (13) KEYBOARD
   55-  54              KB66:   IS A DJ11 #1 (14) KEYBOARD
   55-  54              KB67:   IS A DJ11 #1 (15) KEYBOARD
   55-  92      ****************************************************************
********
   55-  93
   56-   1      SET UP THE TERMINAL DDB'S
   58-   1      SET UP TABLE OF DDB POINTERS FOR THE TERMINALS
   59-   1      KEYBOARD DRIVER DIRTY AREA
   60-   1      KEYBOARD DRIVER PURE AREA
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:52:07 PAGE 38


      1 000020                          TITLE   CONFIG,<CONFIGURATION PARAMETERS
>,07,18-OCT-86,RSTS
                                        .TITLE  CONFIG  CONFIGURATION PARAMETERS
                                        .IDENT  "07.007"
                                        .SBTTL
                                        .SBTTL  CONFIG  CONFIGURATION PARAMETERS
                                        .SBTTL
                                        .SBTTL  EDIT:           DATE:
BY:
                                        .SBTTL   07           18-OCT-86
RSTS
                                        .SBTTL
      2
      3                                 ;
      4                                 ;       COPYRIGHT (C) 1974, 1975, 1976,
1977, 1978, 1979, 198: BY
      5                                 ;       DIGITAL EQUIPMENT CORPORATION, M
AYNARD, MASS.
      6                                 ;
      7                                 ; THIS SOFTWARE IS FURNISHED UNDER A LIC
ENSE AND MAY BE USED AND  COPIED
      8                                 ; ONLY  IN  ACCORDANCE  WITH  THE  TERMS
  OF  SUCH  LICENSE AND WITH THE
      9                                 ; INCLUSION OF THE ABOVE COPYRIGHT NOTIC
E.  THIS SOFTWARE OR  ANY  OTHER
     10                                 ; COPIES  THEREOF MAY NOT BE PROVIDED OR
 OTHERWISE MADE AVAILABLE TO ANY
     11                                 ; OTHER PERSON.  NO TITLE TO AND OWNERSH
IP OF  THE  SOFTWARE  IS  HEREBY
     12                                 ; TRANSFERRED.
     13                                 ;
     14                                 ; THE INFORMATION IN THIS SOFTWARE IS SU
BJECT TO CHANGE  WITHOUT  NOTICE
     15                                 ; AND  SHOULD  NOT  BE  CONSTRUED  AS  A
 COMMITMENT BY DIGITAL EQUIPMENT
     16                                 ; CORPORATION.
     17                                 ;
     18                                 ; DIGITAL ASSUMES NO RESPONSIBILITY FOR
THE USE  OR  RELIABILITY  OF ITS
     19                                 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUP
PLIED BY DIGITAL.
     20                                 ;
 CONFIG  CONFIGURATION PARAMETER MACRO V03.01 18-OCT-86 01:52:07 PAGE 39


      1                                 ; SYSTEM LEVEL
      2
      3         033460                  SYSVEN  =       "07     ;EDIT NUMBER
      4
      5                                 ; TERMINAL TYPES
      6
      7         000020                  KL11    =       16.     ;# OF KL11 TYPE
INTERFACES (INCLUDING CONSOLE)
      8         000000                  DC11    =       0.      ;# OF DC11 TYPE
INTERFACES
      9         000020                  DL11CD  =       16.     ;# OF DL11C AND
DL11D TYPE INTERFACES
     10         000000                  DL11E   =       0.      ;# OF DL11E TYPE
 INTERFACES
     11
     12         000004                  PK11    =       4.      ;# OF PSEUDO-KEY
BOARDS
     13
     14         000002                  DJ11    =       2.      ;# OF DJ11 MULTI
PLEXERS
     15         000020                  DJ0NL   =       16.     ;NUMBER OF LINES
 ENABLED
     16         000020                  DJ1NL   =       16.     ;NUMBER OF LINES
 ENABLED
     17
     18         000000                  DH11    =       0.      ;# OF DH11 MULTI
PLEXERS
     19         000000                  DM11BB  =       0       ;1 IF DM11BB'S;
ELSE 0
     20
     21         000000                  DZ11    =       0.      ;# OF DZ11 MULTI
PLEXERS
     22         000000                  DZ11AB  =       0       ;1 IF DZ11A/B'S;
 ELSE 0
     23
     24                                 ; TERMINAL OPTIONS
     25
     26         000000                  SL2741  =       0       ;1 IF 2741'S ON
SL INTERFACES; ELSE 0
     27         000000                  DH2741  =       0       ;1 IF 2741'S ON
DH11; ELSE 0
     28         000000                  DZ2741  =       0       ;1 IF 2741'S ON
DZ11; ELSE 0
     29         000000                  KBCORR  =       0       ;2741 CORRESPOND
ENCE CODE
     30         000000                  KBEBCD  =       0       ;2741 EBCD CODE
     31         000000                  KBBCD   =       0       ;2741 BCD  CODE
     32         000000                  KBC360  =       0       ;2741 CALL 360 B
ASIC CODE
     33
     34         000001                  MULTTY  =       1       ;1 IF MULTI-TERM
INAL OPTION; ELSE 0
     35         000001                  EKOCTL  =       1       ;1 IF ECHO CONTR
OL OPTION; ELSE 0
     36
     37                                 ; DISKS
     38
     39         000000                  CNT.DC  =       0.      ;1. IF RC11/RS64
; ELSE 0
     40         000000                  CNT.DF  =       0.      ;1. IF RF11/RS11
; ELSE 0
     41         000000                  CNT.DS  =       0.      ;# OF RS03/RS04'
S; ELSE 0
     42         000000                  CNT.DK  =       0.      ;# OF RK05'S; EL
SE 0
     43         000004                  CNT.DL  =       4.      ;# OF RL01'S; EL
SE 0
     44         000000                  CNT.DM  =       0.      ;# OF RK06/7'S;
ELSE 0
     45         000000                  CNT.DP  =       0.      ;# OF RP02/RP03'
S; ELSE 0
     46         000010                  CNT.DR  =       8.      ;# OF RM02/3'S;
ELSE 0
     47         000010                  CNT.DB  =       8.      ;# OF RP04/5/6'S
; ELSE 0
     48
     49                                 ; OTHER DEVICES
     50
     51         000002                  TM02    =       2.      ;# OF TU16/TE16/
TU45/TU77'S; ELSE 0
     52
     53         000000                  TM11    =       0.      ;# OF TU10/TE10/
TS03'S; ELSE 0
     54
     55         000000                  TS11    =       0.      ;# OF TS11'S; EL
SE 0
     56
     57         000000                  TC11    =       0.      ;# OF DECTAPE DR
IVES; ELSE 0
 CONFIG  CONFIGURATION PARAMETER MACRO V03.01 18-OCT-86 01:52:07 PAGE 39-1


     58
     59         000000                  TU58    =       0.      ;# OF DECTAPE II
 DRIVES; ELSE 0
     60
     61         000001                  LP11    =       1.      ;# OF LINE PRINT
ERS; ELSE 0
     62
     63         000010                  RX11    =       8.      ;# OF FLOPPY DRI
VES; ELSE 0
     64
     65         000000                  DMC11   =       0.      ;# OF DMC11'S; E
LSE 0
     66
     67         000000                  KMC11   =       0.      ;# OF KMC11'S; E
LSE 0
     68
     69         000000                  II11    =       0.      ;# OF KMC/3271 L
INKS; ELSE 0
     70
     71         000000                  CR11    =       0.      ;1 IF CR11/CM11;
 ELSE 0
     72
     73         000000                  CD11    =       0.      ;1 IF CD11; ELSE
 0
     74
     75         000001                  PR11    =       1.      ;1 IF PAPER TAPE
 READER; ELSE 0
     76
     77         000001                  PP11    =       1.      ;1 IF PAPER TAPE
 PUNCH; ELSE 0
     78
     79         000000                  RJ2780  =       0       ;"DP OR "DU FOR
2780; ELSE 0
     80
     81                                 ; SYSTEM PARAMETERS
     82
     83         000030                  JOBMAX  =       24.     ;MAXIMUM # OF JO
BS
     84
     85         000012                  LOGICL  =       10.     ;# OF SYSTEM WID
E LOGICALS
     86
     87         000001                  QSTATS  =       1       ;1 FOR QUEUE STA
TISTICS
     88         000001                  JSTATS  =       1       ;1 FOR JOB STATI
STICS
     89         000001                  DSTATS  =       1       ;1 FOR DISK STAT
ISTICS
 CHECK   CHECK CONFIGURATION PAR MACRO V03.01 18-OCT-86 01:52:07 PAGE 43


      1                                 ; REQUIRED DEVICES
      2
      3 000020                          DEVICE  KB,TT           ;TERMINALS
      4         000104                  CNT.KB  =       CNT.KB  ; # OF TERMINALS
      5                                 ;DDS.KB =               ; SIZE OF DDB DE
TERMINED LATER
      6         000001                  CCC.KB  =       1       ; DEVICE IS CONT
ROL/C INTERRUPTABLE
      7         000001                  SLP.KB  =       1       ; DEVICE CHECKIN
G NEEDED BEFORE "SLEEP"
      8
      9 000020                          DEVICE  NL              ;NULL DEVICE
     10         000001                  CNT.NL  =       1.      ; ONLY NL0: PLEA
SE
     11         000010                  DDS.NL  =       10      ; 10 BYTE DDB'S
     12         000000                  CCC.NL  =       0       ; DEVICE IS NOT
CONTROL/C INTERRUPTABLE
     13
     14                                 ; OPTIONAL DEVICES
     15
     16                                 .IF     NE      PK11
     17
     18 000020                          DEVICE  PK              ;PSEUDO-KEYBOARD
S
     19         000004                  CNT.PK  =       PK11    ; # OF PSEUDO-KE
YBOARDS
     20         000014                  DDS.PK  =       14      ; 14 BYTE DDB'S
     21         000001                  CCC.PK  =       1       ; DEVICE IS CONT
ROL/C INTERRUPTABLE
     22         000001                  SLP.PK  =       1       ; DEVICE CHECKIN
G NEEDED BEFORE "SLEEP"
     23
     24                                 .IFF
     25
     26                                 CNT.PK  =       0.      ;NO PSEUDO-KEYBO
ARDS
     27
     28                                 .ENDC
     29
     30                                 .IF     NE      RJ2780
     31
     32                                 DEVICE  RJ,,<IDL>       ;2780 REMOTE JOB
 ENTRY
     33                                 CNT.RJ  =       1.      ; ONLY RJ0: PLEA
SE
     34                                 DDS.RJ  =       14      ; 14 BYTE DDB'S
     35                                 CCC.RJ  =       0       ; DEVICE IS NOT
CONTROL/C INTERRUPTABLE
     36
     37                                 .ENDC
     38
     39                                 .IF     NE      DMC11
     40
     41                                 DEVICE  XM,,<DNE>       ;DDCMP NPR LINE
INTERFACE
     42                                 CNT.XM  =       DMC11   ; # OF INTERFACE
S
     43                                 DDS.XM  =       60      ; 60 BYTE DDB'S
     44                                 CCC.XM  =       1       ; DEVICE IS CONT
ROL/C INTERRUPTABLE
     45                                 SLP.XM  =       1       ; DEVICE CHECKIN
G NEEDED BEFORE "SLEEP"
     46
     47                                 .ENDC
     48
     49                                 .IF     NE      LP11
     50
     51 000020                          DEVICE  LP              ;LINE PRINTER
     52         000001                  CNT.LP  =       LP11    ; # OF PRINTERS
     53         000040                  DDS.LP  =       40      ; 40 BYTE DDB'S
(AUX PROC ASSISTED)
     54         000001                  CCC.LP  =       1       ; DEVICE IS CONT
ROL/C INTERRUPTABLE
     55         000024                  BFQ.LP  =       20.     ; BUFFER QUOTA
     56         000120                  HOR.LP  =       80.     ; HORIZONTAL WID
TH
     57
 CHECK   CHECK CONFIGURATION PAR MACRO V03.01 18-OCT-86 01:52:07 PAGE 43-1


     58                                 .ENDC
     59
     60                                 .IF     NE      PR11
     61
     62 000020                          DEVICE  PR              ;PAPER TAPE READ
ER
     63         000001                  CNT.PR  =       PR11    ; # OF READERS
     64         000020                  DDS.PR  =       20      ; 20 BYTE DDB'S
     65         000001                  CCC.PR  =       1       ; DEVICE IS CONT
ROL/C INTERRUPTABLE
     66         000012                  BFQ.PR  =       10.     ; BUFFER QUOTA
     67
     68                                 .ENDC
     69
     70                                 .IF     NE      PP11
     71
     72 000020                          DEVICE  PP              ;PAPER TAPE PUNC
H
     73         000001                  CNT.PP  =       PP11    ; # OF PUNCHES
     74         000020                  DDS.PP  =       20      ; 20 BYTE DDB'S
     75         000001                  CCC.PP  =       1       ; DEVICE IS CONT
ROL/C INTERRUPTABLE
     76         000012                  BFQ.PP  =       10.     ; BUFFER QUOTA
     77
     78                                 .ENDC
     79
     80                                 .IF     NE      CR11
     81
     82                                 DEVICE  CR              ;COLUMN INTERRUP
T CARD READER
     83                                 CNT.CR  =       CR11    ; # OF READERS
     84                                 DDS.CR  =       262     ; 262 BYTE DDB'S
     85                                 CCC.CR  =       1       ; DEVICE IS CONT
ROL/C INTERRUPTABLE
     86
     87                                 .ENDC
     88
     89                                 .IF     NE      CD11
     90
     91                                 DEVICE  CD,CR           ;NPR CARD READER
     92                                 CNT.CD  =       CD11    ; # OF READERS
     93                                 DDS.CD  =       262     ; 262 BYTE DDB'S
     94                                 CCC.CD  =       1       ; DEVICE IS CONT
ROL/C INTERRUPTABLE
     95
     96                                 .ENDC
     97
     98                                 .IF     NE      TM11
     99
    100                                 DEVICE  MT,,<CON,DNE>   ;TU10/TE10/TS03
MAGTAPE
    101                                 CNT.MT  =       TM11    ; # OF DRIVES
    102                                 DDS.MT  =       46      ; 46 BYTE DDB'S
    103                                 CCC.MT  =       0       ; DEVICE IS NOT
CONTROL/C INTERRUPTABLE
    104                                 UMR.MT  =       1       ; DEVICE HANDLES
 UNUBUS MAP ENTRIES
    105
    106                                 .ENDC
    107
    108                                 .IF     NE      TM02
    109
    110 000020                          DEVICE  MM,MT,<CON,DNE> ;TU16/TE16/TU45
MAGTAPE
    111         000002                  CNT.MM  =       TM02    ; # OF DRIVES
    112         000046                  DDS.MM  =       46      ; 46 BYTE DDB'S
    113         000000                  CCC.MM  =       0       ; DEVICE IS NOT
CONTROL/C INTERRUPTABLE
    114         000001                  UMR.MM  =       1       ; DEVICE HANDLES
 UNIBUS MAP ENTRIES
 CHECK   CHECK CONFIGURATION PAR MACRO V03.01 18-OCT-86 01:52:07 PAGE 43-2


    115
    116                                 .ENDC
    117
    118                                 .IF     NE      TS11
    119
    120                                 DEVICE  MS,MT,<DNE,CON> ;TS11 MAGTAPE
    121                                 CNT.MS  =       TS11    ; # OF DRIVES
    122                                 DDS.MS  =       120     ; 120 BYTE DDB'S
    123                                 CCC.MS  =       0       ; DEVICE IS NOT
CONTROL/C INTERRUPTABLE
    124                                 UMR.MS  =       1       ; DEVICE HANDLES
 UNIBUS MAP ENTRIES
    125
    126                                 .ENDC
    127
    128                                 .IF     NE      TC11
    129
    130                                 DEVICE  DT,,<FIP,DNE,RES> ;DECTAPE
    131                                 CNT.DT  =       TC11    ; # OF DRIVES
    132                                 DDS.DT  =       40      ; 40 BYTE DDB'S
    133                                 CCC.DT  =       0       ; DEVICE IS NOT
CONTROL/C INTERRUPTABLE
    134
    135                                 .ENDC
    136
    137                                 .IF     NE      RX11
    138
    139 000020                          DEVICE  DX,DY,<CON>     ;FLOPPY DISK
    140         000010                  CNT.DX  =       RX11    ; # OF DRIVES
    141         000034                  DDS.DX  =       34      ; 34 BYTE DDB'S
    142         000000                  CCC.DX  =       0       ; DEVICE IS NOT
CONTROL/C INTERRUPTABLE
    143         000001                  UMR.DX  =       1       ; DEVICE HANDLES
 UNIBUS MAP ENTRIES
    144
    145                                 .ENDC
    146
    147                                 .IF     NE      TU58
    148
    149                                 DEVICE  DD,,<CON>       ;DECTAPE II
    150                                 CNT.DD  =       TU58    ; # OF DRIVES
    151                                 DDS.DD  =       32      ; 32 BYTE DDB'S
    152                                 CCC.DD  =       0       ; DEVICE IS NOT
CONTROL/C INTERRUPTABLE
    153
    154                                 .ENDC
    155
    156                                 .IF     NE      II11
    157
    158                                 DEVICE  II              ;IBM INTERFACE D
UP-11
    159                                 CNT.II  =       II11    ; # OF DRIVES
    160                                 DDS.II  =       24      ; 24 BYTE DDB'S
    161                                 CCC.II  =       1       ; DEVICE IS CONT
ROL/C INTERRUPTABLE
    162                                 SLP.II  =       1       ; DEVICE NEEDS C
HECK FOR SLEEP
    163
    164                                 .ENDC
    165
    166                                 .IF     NE      KMC11
    167
    168                                 DEVICE  XK              ;KMC-11 MICRO-PR
OCESSOR
    169                                 CNT.XK  =       KMC11   ; # OF DRIVES
    170                                 DDS.XK  =       46      ; 46 BYTE DDB'S
    171                                 CCC.XK  =       0       ; DEVICE IS NOT
CONTROL/C INTERRUPTABLE
 CHECK   CHECK CONFIGURATION PAR MACRO V03.01 18-OCT-86 01:52:07 PAGE 43-3


    172
    173                                 .ENDC
 CHECK   CHECK CONFIGURATION PAR MACRO V03.01 18-OCT-86 01:52:07 PAGE 44


      1 000020                          TITLE   KBDEF,<TERMINAL DEFINITIONS>,07,
22-SEP-79,MHB
                                        .TITLE  KBDEF   TERMINAL DEFINITIONS
                                        .IDENT  "07.007"
                                        .SBTTL
                                        .SBTTL  KBDEF   TERMINAL DEFINITIONS
                                        .SBTTL
                                        .SBTTL  EDIT:           DATE:
BY:
                                        .SBTTL   07           22-SEP-79
MHB
                                        .SBTTL
      2
      3                                 ;
      4                                 ;       COPYRIGHT (C) 1974, 1975, 1976,
1977, 1978, 1979 BY
      5                                 ;       DIGITAL EQUIPMENT CORPORATION, M
AYNARD, MASS.
      6                                 ;
      7                                 ; THIS SOFTWARE IS FURNISHED UNDER A LIC
ENSE AND MAY BE USED AND  COPIED
      8                                 ; ONLY  IN  ACCORDANCE  WITH  THE  TERMS
  OF  SUCH  LICENSE AND WITH THE
      9                                 ; INCLUSION OF THE ABOVE COPYRIGHT NOTIC
E.  THIS SOFTWARE OR  ANY  OTHER
     10                                 ; COPIES  THEREOF MAY NOT BE PROVIDED OR
 OTHERWISE MADE AVAILABLE TO ANY
     11                                 ; OTHER PERSON.  NO TITLE TO AND OWNERSH
IP OF  THE  SOFTWARE  IS  HEREBY
     12                                 ; TRANSFERRED.
     13                                 ;
     14                                 ; THE INFORMATION IN THIS SOFTWARE IS SU
BJECT TO CHANGE  WITHOUT  NOTICE
     15                                 ; AND  SHOULD  NOT  BE  CONSTRUED  AS  A
 COMMITMENT BY DIGITAL EQUIPMENT
     16                                 ; CORPORATION.
     17                                 ;
     18                                 ; DIGITAL ASSUMES NO RESPONSIBILITY FOR
THE USE  OR  RELIABILITY  OF ITS
     19                                 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUP
PLIED BY DIGITAL.
     20                                 ;
 KBDEF   TERMINAL DEFINITIONS    MACRO V03.01 18-OCT-86 01:52:07 PAGE 45
STANDARD TERMINAL DDB LAYOUT

      1                                 .SBTTL  STANDARD TERMINAL DDB LAYOUT
      2
      3 000020                          .DSECT
      4
      5 000000                          DDIDX:  .BLKB           ;DRIVER INDEX [I
DX.KB]
      6 000001                          DDSTS:  .BLKB           ;STATUS AND ACCE
SS CONTROL BYTE
      7 000002                          DDJBNO: .BLKB           ;OWNER JOB NUMBE
R TIMES 2 (0 IF FREE)
      8 000003                          DDUNT:  .BLKB           ;DEVICE UNIT NUM
BER
      9 000004                          DDTIME: .BLKW           ;TIME ASSIGNED O
R INITED
     10 000006                          DDCNT:  .BLKW           ;INIT COUNT AND
ASSIGNMENT CONTROL
     11 000010                          DDFLAG: .BLKW           ;DEVICE DEPENDEN
T FLAGS
     12 000012                          DDBUFC: .BLKB   BCBSIZ  ;BUFFER CHAIN CO
NTROL AREA (OUTPUT)
     13 000020                          DDHORZ: .BLKB           ;HORIZONTAL POSI
TION
     14 000021                          DDHORC: .BLKB           ;CHARACTERS PER
LINE+1
     15 000022                          TTINPT: .BLKB   BCBSIZ  ;BUFFER CHAIN CO
NTROL AREA (INPUT)
     16 000030                          TTDLMC: .BLKB           ;DELIMITER COUNT
ER
     17 000031                          TTESCC: .BLKB           ;INCOMING ESCAPE
 SEQUENCE CONTROL
     18 000032                          TTMODE: .BLKB           ;CURRENT "MODE"
     19 000033                          TTPDLM: .BLKB           ;TERMINAL'S PRIV
ATE DELIMITER
     20 000034                          TTCHAR: .BLKW           ;TERMINAL'S CHAR
ACTERISTICS
     21 000036                          TTINTF: .BLKW           ;TERMINAL INTERF
ACE TYPE
     22
     23                                 ; BIT ASSIGNMENTS FOR TERMINAL DDB STATU
S WORDS ARE AS FOLLOWS:
     24
     25 000040                          .BSECT  HIGH            ;IN DDSTS (AS A
WORD)
     26
     27 000400                          DDPRVO: .BLKB   .       ;OWNERSHIP REQUI
RES PRIV'S
     28 001000                          DDRLO:  .BLKB   .       ;READ LOCK FOR D
EVICE IF SET [0]
     29 002000                          DDWLO:  .BLKB   .       ;WRITE-LOCK FOR
DEVICE IF SET [0]
     30 004000                          DDNET:  .BLKB   .       ;NETWORK DEVICE
     31                                         .BLKB   .       ;RESERVED
     32                                         .BLKB   .       ;RESERVED
     33                                         .BLKB   .       ;RESERVED
     34 100000                          DDSTAT: .BLKB   .       ;JUNK PROGRAMMED
 OUTPUT (CONTROL/O)
     35
     36 000000                          .BSECT  HIGH            ;IN DDCNT (AS A
WORD)
     37
     38                                         .BLKB   .       ;RESERVED
     39                                         .BLKB   .       ;RESERVED
     40                                         .BLKB   .       ;RESERVED
     41                                         .BLKB   .       ;RESERVED
     42                                         .BLKB   .       ;RESERVED
     43 020000                          DDCONS: .BLKB   .       ;DEVICE IS THE C
ONSOLE DEVICE
     44 040000                          DDUTIL: .BLKB   .       ;DEVICE ASSIGNED
 FOR UTILTY SEQUENCE
     45 100000                          DDASN:  .BLKB   .       ;DEVICE ASSIGNED
 THROUGH COMMAND
     46
     47 000000                          .BSECT                  ;IN DDFLAG [INTE
RNAL STATUS]
     48
     49 000001                          TTLFRC: .BLKB   .       ;ON AFTER FORCE/
BROADCAST; OFF ON CONTROL/C
     50 000002                          TTNBIN: .BLKB   .       ;OUTPUT NEXT IN
BINARY MODE
     51 000004                          TTRSX1: .BLKB   .       ;CURRENT RSX MOD
E LOW ORDER BIT
     52 000010                          TTDDT:  .BLKB   .       ;DDT SUB-MODE
     53 000020                          TAPE:   .BLKB   .       ;TAPE MODE
     54 000040                          NOECHO: .BLKB   .       ;NOT ECHOING
     55 000100                          LCLCPY: .BLKB   .       ;LOCAL COPY
     56 000200                          TT2741: .BLKB   .       ;2741 TYPE TERMI
NAL
     57 000400                          TTRSX2: .BLKB   .       ;CURRENT RSX MOD
E HIGH ORDER BIT
 KBDEF   TERMINAL DEFINITIONS    MACRO V03.01 18-OCT-86 01:52:07 PAGE 45-1
STANDARD TERMINAL DDB LAYOUT

     58 001000                          TTHUNG: .BLKB   .       ;TERMINAL "HANG"
 PENDING
     59 002000                          TTDFIL: .BLKB   .       ;DELAY FILL TO N
EXT CHARACTER
     60 004000                          TTMSG:  .BLKB   .       ;PROCESSING INCO
MING MESSAGE
     61 010000                          RUBOUT: .BLKB   .       ;PROCESSING RUBO
UT'S
     62 020000                          TTSXOF: .BLKB   .       ;SEND XOFF AS SO
ON AS POSSIBLE
     63 040000                          TTXOFF: .BLKB   .       ;AN XOFF WAS SEN
T
     64 100000                          TTSTOP: .BLKB   .       ;OUTPUT TEMPORAR
ILY STOPPED
     65
     66 000000                          .BSECT                  ;IN TTMODE [CURR
ENT MODE]
     67
     68 000001                          TTBIN:  .BLKB   .       ;BINARY INPUT MO
DE      (  1.)
     69 000002                          TTTECO: .BLKB   .       ;TECO MODE
(  2.)
     70 000004                          TTCRLF: .BLKB   .       ;NO AUTO CR/LF M
ODE     (  4.)
     71 000010                          TTECTL: .BLKB   .       ;ECHO CONTROL MO
DE      (  8.)
     72 000020                          TTGARD: .BLKB   .       ;GUARDED TERMINA
L MODE  ( 16.)
     73 000040                          TTPCOL: .BLKB   .       ;CHECK INCOMING
XON/XOFF( 32.)
     74                                         .BLKB   .       ;RESERVED
( 64.)
     75 000200                          TTTECS: .BLKB   .       ;TECO SCOPE MODE
(128.)
     76
     77 000400                          .BSECT                  ;IN TTCHAR [TERM
INAL'S CHARACTERISTICS]
     78
     79                                         .BLKB   .       ;RESERVED
     80                                         .BLKB   .       ;RESERVED
     81 000004                          TTXANY: .BLKB   .       ;DO "XON" ON ANY
 CHARACTER
     82 000010                          TTFUNC: .BLKB   .       ;DISABLE SPECIAL
 FUNCTION CHARACTERS
     83 000020                          TTESC:  .BLKB   .       ;TERMINAL HAS RE
AL ESCAPE
     84 000040                          TTSCOP: .BLKB   .       ;SCOPE TYPE TERM
INAL
     85 000100                          TTESCI: .BLKB   .       ;ALLOW INCOMING
ESCAPE SEQUENCES
     86 000200                          TTLCOU: .BLKB   .       ;ALLOW LOWER CAS
E OUTPUT
     87 000400                          TTPODD: .BLKB   .       ;DESIRED PARITY
IS ODD
     88 001000                          TTPRTY: .BLKB   .       ;CHECK AND SEND
WITH PARITY
     89 002000                          TTUPAR: .BLKB   .       ;PREFIX CONTROLS
 WITH UPARROW
     90 004000                          TTSYNC: .BLKB   .       ;STOP OUTPUT IF
XOFF RECEIVED
     91 010000                          TTXON:  .BLKB   .       ;SENDING XOFF WI
LL STOP INPUT
     92 020000                          TTFORM: .BLKB   .       ;HARDWARE FORM F
EED/VERTICAL TAB EXIST
     93 040000                          TTTAB:  .BLKB   .       ;HARDWARE HORIZO
NTAL TAB EXISTS
     94 100000                          TTLCIN: .BLKB   .       ;ALLOW LOWER CAS
E INPUT
     95
     96 000000                          .DSECT  7400            ;IN TTINTF [INTE
RFACE CHARACTERISTICS]
     97
     98 007400                          TTSUBL: .BLKB   400     ;SUB-LINE NUMBER
     99 010000                          TTRDRN: .BLKB   .       ;READER RUN CONT
ROL
    100 020000                          TTHPRT: .BLKB   .       ;HARDWARE PARITY
    101 040000                          TTMODM: .BLKB   .       ;MODEM CONTROL
    102 100000                          TTMUX:  .BLKB   .       ;MULTIPLEXOR
    103
    104 000000                          .DSECT  177             ;IN EKOCTW AND E
KOPNT (AS A WORD)
    105
    106                                         .BLKB           ;FIELD SIZE
    107 000200                          TTOVFL: .BLKB   77200   ;ECHO CONTROL "K
EYPUNCH" MODE
    108                                         .BLKB   400     ;PAINT CHARACTER
    109 100000                          TTACTV: .BLKB   .       ;FIELD IS ACTIVE
    110
    111 000000                          .BSECT                  ;IN ST2741 [2741
 CONTROL]
    112
    113 000001                          TTUC.I: .BLKB   5       ;INPUT CASE IS U
PPER CASE
    114 000006                          TTCODE: .BLKB   2       ;CODE TABLE INDE
X
 KBDEF   TERMINAL DEFINITIONS    MACRO V03.01 18-OCT-86 01:52:07 PAGE 45-2
STANDARD TERMINAL DDB LAYOUT

    115 000010                          TTSEQ1: .BLKB   360     ;BASE UNIT OF SE
QUENCE COUNTER
    116 000370                          TTSEQC: .BLKB   10      ;SEQUENCE COUNTE
R
    117 000400                          TTBREK: .BLKB   .       ;SEQUENCE IS REV
ERSE BREAK
    118 001000                          TTUC.O: .BLKB   .       ;OUTPUT CASE IS
UPPER CASE
    119                                         .BLKB   .       ;RESERVED
    120 004000                          TTCRIN: .BLKB   .       ;CR WAS RECEIVED
    121 010000                          TTCRO:  .BLKB   .       ;CR WAS SENT
    122 020000                          TTOCVL: .BLKB   .       ;OUTPUT CASE IS
VALID
    123 040000                          TTSTA1: .BLKB   100000  ;BASE UNIT OF TE
RMINAL STATE
    124 140000                          TTSTAT: .BLKB           ;CURRENT TERMINA
L STATE
    125
    126 140001                          .DSECT  377             ;IN MODCLK
    127
    128                                         .BLKB           ;MODEM TIMER
    129                                         .BLKB   .       ;RESERVED
    130                                         .BLKB   .       ;RESERVED
    131                                         .BLKB   .       ;RESERVED
    132                                         .BLKB   .       ;RESERVED
    133                                         .BLKB   .       ;RESERVED
    134                                         .BLKB   .       ;RESERVED
    135 040000                          TTWRC:  .BLKB   .       ;WAITING FOR CAR
RIER AFTER RING
    136 100000                          TTDSBL: .BLKB   .       ;LINE NOT ANSWER
ED
    137
    138 000000                          .DSECT  7               ;IN TTFCNT [FILL
 CHARACTERISTICS]
    139
    140 000007                          TTFILL: .BLKB           ;FILL FACTOR
    141                                         .BLKB   .       ;RESERVED
    142                                         .BLKB   .       ;RESERVED
    143                                         .BLKB   .       ;RESERVED
    144                                         .BLKB   .       ;RESERVED
    145 000200                          TTLA30: .BLKB   .       ;SPECIAL SERIAL
LA30 FILL
 KBDEF   TERMINAL DEFINITIONS    MACRO V03.01 18-OCT-86 01:52:07 PAGE 46
STANDARD TERMINAL DDB LAYOUT

      1 000400                          TITLE   TTDINT,<ROOT TERMINAL SERVICE>,0
7,22-SEP-79,MHB/ABC
                                        .TITLE  TTDINT  ROOT TERMINAL SERVICE
                                        .IDENT  "07.007"
                                        .SBTTL
                                        .SBTTL  TTDINT  ROOT TERMINAL SERVICE
                                        .SBTTL
                                        .SBTTL  EDIT:           DATE:
BY:
                                        .SBTTL   07           22-SEP-79
MHB/ABC
                                        .SBTTL
      2
      3                                 ;
      4                                 ;       COPYRIGHT (C) 1974, 1975, 1976,
1977, 1978, 1979 BY
      5                                 ;       DIGITAL EQUIPMENT CORPORATION, M
AYNARD, MASS.
      6                                 ;
      7                                 ; THIS SOFTWARE IS FURNISHED UNDER A LIC
ENSE AND MAY BE USED AND  COPIED
      8                                 ; ONLY  IN  ACCORDANCE  WITH  THE  TERMS
  OF  SUCH  LICENSE AND WITH THE
      9                                 ; INCLUSION OF THE ABOVE COPYRIGHT NOTIC
E.  THIS SOFTWARE OR  ANY  OTHER
     10                                 ; COPIES  THEREOF MAY NOT BE PROVIDED OR
 OTHERWISE MADE AVAILABLE TO ANY
     11                                 ; OTHER PERSON.  NO TITLE TO AND OWNERSH
IP OF  THE  SOFTWARE  IS  HEREBY
     12                                 ; TRANSFERRED.
     13                                 ;
     14                                 ; THE INFORMATION IN THIS SOFTWARE IS SU
BJECT TO CHANGE  WITHOUT  NOTICE
     15                                 ; AND  SHOULD  NOT  BE  CONSTRUED  AS  A
 COMMITMENT BY DIGITAL EQUIPMENT
     16                                 ; CORPORATION.
     17                                 ;
     18                                 ; DIGITAL ASSUMES NO RESPONSIBILITY FOR
THE USE  OR  RELIABILITY  OF ITS
     19                                 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUP
PLIED BY DIGITAL.
     20                                 ;
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE 47


      1                                 .IF     NE      PK11
      2
      3                                 .SBTTL
      4                                 .SBTTL  PSEUDO KEYBOARD PROCESSING
      5                                 .SBTTL
      6
      7 000400                                  DEFORG  PKDVR
      8
      9 000000                                  DEFORG  PKDCTL
     10
     11 000000                                  DEFORG  PKDINT
     12
     13                                 .SBTTL  DEFINITIONS
     14
     15                                 ; DDB DEFINED
     16
     17 000000                          .DSECT
     18
     19 000000                          DDIDX:  .BLKB           ;DRIVER INDEX
     20 000001                          DDSTS:  .BLKB           ;STATUS AND ACCE
SS CONTROL BYTE
     21 000002                          DDJBNO: .BLKB           ;OWNER JOB NUMBE
R TIMES 2 (0 IF FREE)
     22 000003                          DDUNT:  .BLKB           ;DEVICE UNIT NUM
BER
     23 000004                          DDTIME: .BLKW           ;TIME ASSIGNED O
R INITED
     24 000006                          DDCNT:  .BLKW           ;INIT COUNT AND
ASSIGNMENT CONTROL
     25 000010                          DDFLAG: .BLKW           ;REAL KEYBOARD N
UMBER TIMES TWO
     26 000012                          PKMODE::.BLKB           ;PK: OPEN MODE
     27 000013                          PKINWT::.BLKB           ;CONTROLLED JOB
WENT INTO INPUT WAIT
     28
     29 000014                                  ORG     PKDINT
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE 48
DEFINITIONS

      1                                 ; DEFINE 'DDSTS' VALUE FOR PSEUDO KEYBOA
RD
      2
      3         000000                  STS.PK  ==      0/400
      4                                                 ;NO SPECIAL FLAGS
      5
      6                                 ; DEFINE FLAGS FOR PSEUDO KEYBOARD
      7
      8 000000                                  TMPORG  FLGTBL,6
      9
     10 000006  070420                          .WORD   FLG.PK
     11
     12         070420                  FLG.PK  ==      FLGKB!FLGFRC!FLGMOD!DDNF
S!PKBHND
     13                                                 ;TERMINAL TYPE DEVICE
     14                                                 ;BYTE ORIENTED
     15                                                 ;ACCEPT MODIFIERS
     16                                                 ;NON-FILE STRUCTURED
     17                                                 ;PSEUDO KEYBOARD
     18
     19                                 ; DEFINE WIDTH
     20
     21 000010                                  TMPORG  SIZTBL,6
     22
     23 000006  000107                          .WORD   SIZ.PK
     24
     25         000107                  SIZ.PK  ==      5*14.+1
     26                                                 ;LINE WIDTH DOESN'T APPL
Y
     27
     28                                 ; DEFINE DEFAULT BUFFER SIZE
     29
     30 000010                                  TMPORG  BUFTBL,6
     31
     32 000006  000200                          .WORD   BUF.PK
     33
     34         000200                  BUF.PK  ==      128.
     35                                                 ;128 CHARACTER BUFFER
     36
     37                                 .SBTTL  PSEUDO-KEYBOARD PSEUDO CSR'S
     38
     39 000010                                  TMPORG  PKDCTL
     40
     41 000000  000000                  PKDCTL: .WORD   0       ;FAKE INPUT CSR
(FOR 'READER RUN' CHECKING)
     42                                         .BLKW           ;REQUIRED PADDIN
G WORD
     43 000004  000100                          .WORD   100     ;FAKE OUTPUT CSR
 ('BUSY')
     44
     45 000006                                  UNORG
     46
     47                                 .ENDC   ;PK11
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE 49


      1                                 .SBTTL
      2                                 .SBTTL  NORMAL TERMINAL PROCESSING
      3                                 .SBTTL
      4
      5                                 .SBTTL  TERMINAL DDB LAYOUT
      6
      7 000000                          .DSECT
      8
      9 000000                          DDIDX:  .BLKB           ;DRIVER INDEX [I
DX.KB]
     10 000001                          DDSTS:  .BLKB           ;STATUS AND ACCE
SS CONTROL BYTE
     11 000002                          DDJBNO: .BLKB           ;OWNER JOB NUMBE
R TIMES 2 (0 IF FREE)
     12 000003                          DDUNT:  .BLKB           ;DEVICE UNIT NUM
BER
     13 000004                          DDTIME: .BLKW           ;TIME ASSIGNED O
R INITED
     14 000006                          DDCNT:  .BLKW           ;INIT COUNT AND
ASSIGNMENT CONTROL
     15 000010                          DDFLAG: .BLKW           ;DEVICE DEPENDEN
T FLAGS
     16 000012                          DDBUFC: .BLKB   BCBSIZ  ;BUFFER CHAIN CO
NTROL AREA (OUTPUT)
     17 000020                          DDHORZ: .BLKB           ;HORIZONTAL POSI
TION
     18 000021                          DDHORC: .BLKB           ;CHARACTERS PER
LINE+1
     19 000022                          TTINPT: .BLKB   BCBSIZ  ;BUFFER CHAIN CO
NTROL AREA (INPUT)
     20 000030                          TTDLMC: .BLKB           ;DELIMITER COUNT
ER
     21 000031                          TTESCC: .BLKB           ;INCOMING ESCAPE
 SEQUENCE CONTROL
     22 000032                          TTMODE: .BLKB           ;CURRENT "MODE"
     23 000033                          TTPDLM: .BLKB           ;TERMINAL'S PRIV
ATE DELIMITER
     24 000034                          TTCHAR: .BLKW           ;TERMINAL'S CHAR
ACTERISTICS
     25 000036                          TTINTF: .BLKW           ;TERMINAL INTERF
ACE TYPE
     26
     27                                 .SBTTL  VARIABLE DDB PIECES
     28
     29                                 .IF     NE      EKOCTL
     30
     31 000040                          TTINEC::.BLKB   BCBSIZ  ;BUFFER CHAIN CO
NTROL AREA (TYPE AHEAD)
     32 000046                          EKOCTW::.BLKB           ;ECHO CONTROL FI
ELD SIZE AND MODE
     33 000047                          EKOPNT::.BLKB           ;PAINT CHARACTER
 AND FIELD ACTIVE FLAG
     34
     35                                 .ENDC   ;EKOCTL
     36
     37                                 .IF     NE      KB2741
     38
     39                                 ST2741::.BLKW           ;2741 CONTROL/ST
ATUS
     40
     41                                 .IFF
     42
     43         000000                  ST2741  ==      0       ;NO 2741 TYPE TE
RMINALS
     44
     45                                 .ENDC   ;KB2741
     46
     47                                 .IF     NE      PK11 ! DC11 ! DL11E ! DH
11 ! DZ11
     48
     49 000050                          TTPARM::.BLKW           ;INTERFACE PARAM
ETER WORD
     50
     51                                 .IFF
     52
     53                                 TTPARM  ==      0       ;NO INTERFACE PA
RAMETER WORD
     54
     55                                 .ENDC   ;PK11 ! DC11 ! DL11E ! DH11 ! DZ
11
     56
     57                                 .IF     NE      DM11BB ! DZ2741
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE 49-1
VARIABLE DDB PIECES

     58
     59                                 TTAUXP::.BLKW           ;POINTER TO DM11
BB CSR OR DZ BREAK BYTE
     60
     61                                 .ENDC   ;DM11BB ! DZ2741
     62
     63                                 .IF     NE      PK11 ! DC11 ! DL11E ! DM
11BB ! DZ11AB
     64
     65 000052                          MODCLK::.BLKW           ;MODEM TIMING AN
D STATUS
     66 000054                          TTRING::.BLKW           ;RING VALUE FOR
TTPARM
     67                                         .BLKW           ;RING VALUE FOR
TTCHAR
     68                                         .BLKB           ;RING VALUE FOR
TTFCNT
     69                                         .BLKB           ;RING VALUE FOR
DDHORC
     70                                         .BLKB           ;RING VALUE FOR
DDFLAG (LOW BYTE)
     71
     72                                 .IFF
     73
     74                                 MODCLK  ==      0       ;NO MODEMS
     75                                 TTRING  ==      0       ;NO RING LIST
     76
     77                                 .ENDC   ;PK11 ! DC11 ! DL11E ! DM11BB !
DZ11AB
     78
     79 000063                          TTFCNT::.BLKB           ;FILL CHARACTERI
STICS
     80
     81                                 .IF     NE      MULTTY
     82
     83 000064                          TTMSCN::.BLKB           ;ROUND-ROBIN SCA
NNING KB # BASES
     84
     85                                 .ENDC   ;MULTTY
     86
     87                                         .EVEN
     88
     89 000066                          DDS.KB::                ;TERMINAL DDB SI
ZE
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE 50
VARIABLE DDB PIECES

      1 000066                                  DEFORG  KBDVR
      2
      3 000000                                  DEFORG  KBDCTL
      4
      5 000000                                  ORG     KBDINT
      6
      7                                 .SBTTL  DEFINE THE INTERFACE TYPE CODES
      8
      9 000000                          .DSECT
     10
     11 000000                          $KBS
     12                                 .LIST
     13                                 TT'NAME'11::.BLKW       ;NAME'11 INTERFA
CE CODE
     14                                 .NLIST
     15                                 .ENDM
        000000                          TTKL11::.BLKW   ;KL11 INTERFACE CODE
        000002                          TTDC11::.BLKW   ;DC11 INTERFACE CODE
        000004                          TTDL11::.BLKW   ;DL11 INTERFACE CODE
        000006                          TTDE11::.BLKW   ;DE11 INTERFACE CODE
        000010                          TTPK11::.BLKW   ;PK11 INTERFACE CODE
        000012                          TTDJ11::.BLKW   ;DJ11 INTERFACE CODE
        000014                          TTDH11::.BLKW   ;DH11 INTERFACE CODE
        000016                          TTDZ11::.BLKW   ;DZ11 INTERFACE CODE
     16
     17 000020                                  ORG     KBDINT
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE 51
LOCAL EQUATES THAT ARE GLOBALIZED

      1                                 .SBTTL  LOCAL EQUATES THAT ARE GLOBALIZE
D
      2
      3         000012                  BFQ.KB  ==      10.     ;MAX # OUTPUT BU
FFERS ALLOWED ONE KB
      4         000006                  BFI.KB  ==      6.      ;MAX # INPUT BUF
FERS ALLOWED ONE KB
      5         000006                  BFE.KB  ==      6.      ;MAX # ECHO BUFF
ERS ALLOWED ONE KB
      6
      7                                 ; DEFINE 'DDSTS' VALUE FOR KEYBOARD DEVI
CES
      8
      9         000000                  STS.KB  ==      0/400
     10                                                 ;NO SPECIAL FLAGS
     11
     12                                 ; DEFINE DEFAULT BUFFER SIZE
     13
     14 000000                                  TMPORG  BUFTBL,2
     15
     16 000002  000200                          .WORD   BUF.KB
     17
     18         000200                  BUF.KB  ==      128.
     19                                                 ;DEFAULT TO 128 BYTE BUF
FER
     20
     21                                 ; DEFINE LINE WIDTH (MAXIMUM HORIZONTAL
POSITION)
     22
     23 000004                                  TMPORG  SIZTBL,2
     24
     25 000002  000000                          .WORD   SIZ.KB
     26
     27         000000                  SIZ.KB  ==      0
     28                                                 ;DEPENDS ON DEVICE - USE
 DDHORC FROM DDB
     29
     30                                 ; DEFINE FLAGS FOR KEYBOARD DEVICES
     31
     32 000004                                  TMPORG  FLGTBL,2
     33
     34 000002  074402                          .WORD   FLG.KB
     35
     36         074402                  FLG.KB  ==      FLGKB!FLGFRC!FLGMOD!FLGP
OS!DDNFS!TTYHND
     37                                                 ;KEYBOARD OR TERMINAL TY
PE OF DEVICE (OR FILE)
     38                                                 ;BYTE ORIENTED (PARTIAL
BUFFER MAY BE 'FORCED' OUT)
     39                                                 ;ACCEPTS MODIFIERS ON RE
AD/WRITE REQUESTS
     40                                                 ;HANDLER KNOWS/COMPUTES
HORIZONTAL POSITION
     41                                                 ;NON-FILE STRUCTURED
     42                                                 ;TERMINAL HANDLER
     43
     44 000004                                  UNORG
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE 52
INTERRUPT SERVICE ENTRY ROUTINE VECTORS SETUP

      1                                 .SBTTL  INTERRUPT SERVICE ENTRY ROUTINE
VECTORS SETUP
      2
      3 000000                          KBDINT:
      4         000000'                 $KBDINT ==      .       ;**MERGE** ALTER
NATE FOR 'KBDINT'
      5 000000                          KLKINT::CALLX   INTSAV,R5
        000000  004537  000000G                  JSR    R5,@#INTSAV
      6 000004  001200                            .WORD 1200
      7 000006  000000                  SLINT0:   .WORD 0
      8
      9 000010                                  CALLX   INTSVX,R5
        000010  004537  000000G                  JSR    R5,@#INTSVX
     10 000014  000000G                           .WORD KBDAP5
     11 000016  000000                  SLONT0:   .WORD 0
     12
     13         000001                  $$$$$$  =       1
     14
     15         000001                  .REPT   <KL11+DC11+DL11CD+DL11E-1>/16.
     16                                 .IRP    N,<\$$$$$$>
     17                                 .LIST
     18
     19
     20                                 .NLIST
     21                                         CALLX   INTSVX,R5
     22                                           .WORD KBDAP5
     23                                 SLINT'N:          .WORD 0
     24                                 .LIST
     25
     26                                 .NLIST
     27                                         CALLX   INTSVX,R5
     28                                           .WORD KBDAP5
     29                                 SLONT'N:          .WORD 0
     30                                 .ENDR
     31                                 $$$$$$  =       $$$$$$+1
     32                                 .ENDR


        000020  004537  000000G                  JSR    R5,@#INTSVX
        000024  000000G                           .WORD KBDAP5
        000026  000000                  SLINT1:   .WORD 0

        000030  004537  000000G                  JSR    R5,@#INTSVX
        000034  000000G                           .WORD KBDAP5
        000036  000000                  SLONT1:   .WORD 0
     33
     34 000040                          GLOBAL  <KBDAP5>
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE 53
INTERRUPT SERVICE VECTORS FOR MULTIPLEXORS & MODEM CONTROL

      1                                 .SBTTL  INTERRUPT SERVICE VECTORS FOR MU
LTIPLEXORS & MODEM CONTROL
      2
      3                                 .IF     NE      DJ11
      4 000040                          DJKINT::CALLX   INTSVX,R5
        000040  004537  000000G                  JSR    R5,@#INTSVX
      5 000044  000000G                           .WORD KBDAP5
      6 000046  000000                  DJINT:    .WORD 0
      7
      8 000050                                  CALLX   INTSVX,R5
        000050  004537  000000G                  JSR    R5,@#INTSVX
      9 000054  000000G                           .WORD KBDAP5
     10 000056  000000                  DJONT:    .WORD 0
     11                                 .ENDC   ;DJ11
     12
     13                                 .IF     NE      DH11
     14                                 DHKINT::CALLX   INTSVX,R5
     15                                           .WORD KBDAP5
     16                                 DHINT:    .WORD 0
     17
     18                                         CALLX   INTSVX,R5
     19                                           .WORD KBDAP5
     20                                 DHONT:    .WORD 0
     21                                 .ENDC   ;DH11
     22
     23                                 .IF     NE      DZ11
     24                                 DZKINT::CALLX   INTSVX,R5
     25                                           .WORD KBDAP5
     26                                 DZINT:    .WORD 0
     27
     28                                         CALLX   INTSVX,R5
     29                                           .WORD KBDAP5
     30                                 DZONT:    .WORD 0
     31                                 .ENDC   ;DZ11
     32
     33                                 .IF     NE      DM11BB
     34                                 DMKINT::CALLX   INTSVX,R5
     35                                           .WORD KBDAP5
     36                                 DMINT:    .WORD 0
     37                                 .ENDC   ;DM11BB
     38
     39 000060                          GLOBAL  <KBDAP5>
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE 54
TERMINAL EMT DISPATCHER

      1                                 .SBTTL  TERMINAL EMT DISPATCHER
      2
      3 000060                                  EMTENT  .TTAPE          ;SET TAP
E MODE
        000016  000060'                          .WORD  $$$$$$          ; LOAD E
MTTBL FOR .TTAPE
      4
      5 000060                                  EMTENT  .TTECH          ;ENABLE
ECHO, CANCEL TAPE MODE
        000020  000060'                          .WORD  $$$$$$          ; LOAD E
MTTBL FOR .TTECH
      6
      7 000060                                  EMTENT  .TTNCH          ;DISABLE
 ECHO
        000022  000060'                          .WORD  $$$$$$          ; LOAD E
MTTBL FOR .TTNCH
      8
      9 000060                                  EMTENT  .TTDDT          ;PRESET
DDT-SUBMODE
        000024  000060'                          .WORD  $$$$$$          ; LOAD E
MTTBL FOR .TTDDT
     10
     11 000060                                  EMTENT  .TTRST          ;CANCEL
CONTROL/O
        000026  000060'                          .WORD  $$$$$$          ; LOAD E
MTTBL FOR .TTRST
     12
     13 000060  016737  000000G 172352          MOV     KBDAP5,@#KISAR5 ;MAP INT
O THE TERMINAL DRIVER
     14 000066  000137  000000          TTEMT:  JMP     @#0             ; AND OF
F TO THE REAL CODE...
     15
     16                                 .SBTTL  ERROR LOGGING ENTRY
     17
     18 000072  000137  000000          ERL$KB::JMP     @#0             ;;;OFF T
O THE REAL ERROR LOGGING...
     19
     20 000076                          GLOBAL  <KBDAP5>
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE 55


      1                                 .SBTTL
      2                                 .SBTTL  ********************************
****************************************
      3                                 .SBTTL  KEYBOARD NUMBERS FOR THIS SYSTEM
:
      4                                 .SBTTL
      5
      6                                 .MACRO  KBTYPE  NUM,TYPE
      7                                 $$$$$9  =       0
      8                                 .REPT   NUM
      9                                 .RADIX  10
     10                                 .IRP    N,<\$$$$$$>
     11                                 .IRP    M,<\$$$$$9>
     12                                 .SBTTL          KB'N:   IS A TYPE (M) KE
YBOARD
     13                                 .ENDM
     14                                 .ENDM
     15                                 .RADIX  8
     16                                 $$$$$9  =       $$$$$9+1
     17                                 $$$$$$  =       $$$$$$+1
     18                                 .ENDR
     19                                 .ENDM   KBTYPE
     20
     21                                 ; N.B. THE ORDER OF KEYBOARDS IS IMPORTA
NT FOR THE INTERRUPT PROCESSING
     22
     23                                 .DSABL  CRF
     24
     25         000000                  $$$$$$  =       0
     26
     27 000076                          KBTYPE  1,CONSOLE
     28
     29 000076                          KBTYPE  KL11-1,<KL11/LC11/DL11A/DL11B>
     30
     31 000076                          KBTYPE  DC11,DC11
     32
     33 000076                          KBTYPE  DL11CD,<DL11C/DL11D>
     34
     35 000076                          KBTYPE  DL11E,DL11E
     36
     37 000076                          KBTYPE  PK11,PSEUDO
     38
     39                                 .IF     NE      DJ11
     40                                 .ENABL  CRF
     41 000076  020000                          .WORD   020000  ;SILO OVERFLOW S
TATUS BIT FOR DJ11
     42 000100                          DJKBN::
     43                                 .DSABL  CRF
     44                                 .ENDC   ;DJ11
     45         000000                  $$$$$0  =       0
     46         000002                  .REPT   DJ11
     47                                          .WORD  $$$$$$*2
     48                                 .RADIX  10
     49                                 .IRP    N,<\$$$$$0>
     50                                 .RADIX  8
     51                                 KBTYPE  DJ'N'NL,<DJ11 #N>
     52                                 .ENDM
     53                                 $$$$$0  =       $$$$$0+1
     54                                 .ENDR
        000100  000110                           .WORD  $$$$$$*2
        000102  000150                           .WORD  $$$$$$*2
     55
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE 55-1
KB67:   IS A DJ11 #1 (15) KEYBOARD

     56                                 .IF     NE      DH11
     57                                 .ENABL  CRF
     58                                         .WORD   040000  ;SILO OVERFLOW S
TATUS BIT FOR DH11
     59                                 DHKBN::
     60                                 .DSABL  CRF
     61                                 .ENDC   ;DH11
     62         000000                  $$$$$0  =       0
     63         000000                  .REPT   DH11
     64                                          .WORD  $$$$$$*2
     65                                 .RADIX  10
     66                                 .IRP    N,<\$$$$$0>
     67                                 .RADIX  8
     68                                 KBTYPE  DH'N'NL,<DH11 #N>
     69                                 .ENDM
     70                                 $$$$$0  =       $$$$$0+1
     71                                 .ENDR
     72
     73                                 .IF     NE      DZ11
     74                                 .ENABL  CRF
     75                                         .WORD   020000  ;SILO OVERFLOW S
TATUS BIT FOR DZ11
     76                                 DZKBN::
     77                                 .DSABL  CRF
     78                                 .ENDC   ;DZ11
     79         000000                  $$$$$0  =       0
     80         000000                  .REPT   DZ11
     81                                          .WORD  $$$$$$*2
     82                                 .RADIX  10
     83                                 .IRP    N,<\$$$$$0>
     84                                 .RADIX  8
     85                                 KBTYPE  DZ'N'NL,<DZ11 #N>
     86                                 .ENDM
     87                                 $$$$$0  =       $$$$$0+1
     88                                 .ENDR
     89
     90                                 .ENABL  CRF
     91
     92                                 .SBTTL  ********************************
****************************************
     93                                 .SBTTL
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE 56
SET UP THE TERMINAL DDB'S

      1                                 .SBTTL  SET UP THE TERMINAL DDB'S
      2
      3                                 .MACRO  SETDDB  COUNT,STINTF,STPARM,STCH
AR,STAUXP,DISABL
      4                                 .DSABL  CRF
      5                                 .RADIX  10
      6                                 .IRP    N,<\$$$$$$>
      7                                 .RADIX  8
      8                                 .LIST
      9
     10                                 ; FIRST DDB OF TYPE COUNT IS FOR KEYBOAR
D N
     11
     12                                 .NLIST
     13                                 .ENDM
     14                                 $$$$$1  =       0
     15                                 .REPT   COUNT
     16                                 .IIF    NE      $$$$$1, .NLIST
     17                                          .BYTE  IDX.KB,STS.KB   ;DDIDX;
DDSTS
     18                                          .BYTE  DISABL+0,$$$$$$ ;DDJBNO;
 DDUNT
     19                                          .WORD  0,0             ;DDTIME;
 DDCNT
     20                                          .WORD  0               ;DDFLAG
     21                                          .WORD  0,0,BFQ.KB      ;OUTPUT
BUFFER CHAIN
     22                                          .BYTE  72.+1.,72.+1.   ;DDHORZ;
 DDHORC
     23                                          .WORD  0,0,BFI.KB      ;INPUT B
UFFER CHAIN
     24                                          .BYTE  0,0             ;TTDLMC;
 TTESCC
     25                                          .BYTE  0,0             ;TTMODE;
 TTPDLM
     26                                 .IF     NB      <STCHAR>
     27                                          .WORD  STCHAR ;TTCHAR
     28                                 .IFF
     29                                          .WORD  TTSYNC!TTUPAR!TTLCOU ;TT
CHAR
     30                                 .ENDC
     31                                          .WORD  STINTF          ;TTINTF
     32                                 .IF     NE      EKOCTL
     33                                          .WORD  0,0,BFE.KB      ;TYPE AH
EAD BUFFER CHAIN
     34                                          .BYTE  0,40            ;EKOCTW;
 EKOPNT
     35                                 .ENDC   ;EKOCTL
     36                                 .IF     NE      ST2741
     37                                          .WORD  TTSTA1          ;ST2741
     38                                 .ENDC   ;ST2741
     39                                 .IF     NE      TTPARM
     40                                          .WORD  STPARM          ;TTPARM
     41                                 .ENDC   ;TTPARM
     42                                 .IF     NE      DM11BB ! DZ2741
     43                                 .IF     NB      <STAUXP>
     44                                          .WORD  STAUXP          ;TTAUXP
     45                                 .IFF
     46                                          .WORD  0               ;TTAUXP
     47                                 .ENDC
     48                                 .ENDC   ;DM11BB ! DZ2741
     49                                 .IF     NE      PK11 ! DC11 ! DL11E ! DM
11BB ! DZ11AB
     50                                          .WORD  0               ;MODCLK
     51                                          .WORD  STPARM          ;RING VA
LUE OF TTPARM
     52                                 .IF     NB      <STCHAR>
     53                                          .WORD  STCHAR ;RING VALUE OF TT
CHAR
     54                                 .IFF
     55                                          .WORD  TTSYNC!TTUPAR!TTLCOU ;RI
NG VALUE OF TTCHAR
     56                                 .ENDC
     57                                          .BYTE  0               ;RING VA
LUE OF TTFCNT
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE 56-1
SET UP THE TERMINAL DDB'S

     58                                          .BYTE  72.+1.          ;RING VA
LUE OF DDHORC
     59                                          .BYTE  0               ;RING VA
LUE OF DDFLAG (LOW BYTE)
     60                                 .ENDC   ;PK11 ! DC11 ! DL11E ! DM11BB !
DZ11AB
     61                                          .BYTE  0               ;TTFCNT
     62                                 .IF     NE      MULTTY
     63                                          .BYTE  0               ;TTMSCN
     64                                 .ENDC   ;MULTTY
     65                                         .EVEN
     66                                 .IIF    NE      $$$$$1, .LIST
     67                                 $$$$$1  =       $$$$$1+1
     68                                 $$$$$$  =       $$$$$$+1
     69                                 .ENDR
     70                                 .GLOBL  IDX.KB
     71                                 .ENABL  CRF
     72                                 .ENDM   SETDDB
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE 57
SET UP THE TERMINAL DDB'S

      1 000104                                  TMPORG  KBDDDB
      2
      3 000000                          KBDDDB:
      4
      5         000000                  $$$$$$  =       0
      6
      7 000000                          SETDDB  KL11,TTRDRN!TTKL11,0

                                        ; FIRST DDB OF TYPE KL11 IS FOR KEYBOARD
 0

        000000     000G    000                   .BYTE  IDX.KB,STS.KB   ;DDIDX;
DDSTS
        000002     000     000                   .BYTE  +0,$$$$$$       ;DDJBNO;
 DDUNT
        000004  000000  000000                   .WORD  0,0             ;DDTIME;
 DDCNT
        000010  000000                           .WORD  0               ;DDFLAG
        000012  000000  000000  000012           .WORD  0,0,BFQ.KB      ;OUTPUT
BUFFER CHAIN
        000020     111     111                   .BYTE  72.+1.,72.+1.   ;DDHORZ;
 DDHORC
        000022  000000  000000  000006           .WORD  0,0,BFI.KB      ;INPUT B
UFFER CHAIN
        000030     000     000                   .BYTE  0,0             ;TTDLMC;
 TTESCC
        000032     000     000                   .BYTE  0,0             ;TTMODE;
 TTPDLM
        000034  006200                           .WORD  TTSYNC!TTUPAR!TTLCOU ;TT
CHAR
        000036  010000                           .WORD  TTRDRN!TTKL11
;TTINTF
        000040  000000  000000  000006           .WORD  0,0,BFE.KB      ;TYPE AH
EAD BUFFER CHAIN
        000046     000     040                   .BYTE  0,40            ;EKOCTW;
 EKOPNT
        000050  000000                           .WORD  0               ;TTPARM
        000052  000000                           .WORD  0               ;MODCLK
        000054  000000                           .WORD  0               ;RING VA
LUE OF TTPARM
        000056  006200                           .WORD  TTSYNC!TTUPAR!TTLCOU ;RI
NG VALUE OF TTCHAR
        000060     000                           .BYTE  0               ;RING VA
LUE OF TTFCNT
        000061     111                           .BYTE  72.+1.          ;RING VA
LUE OF DDHORC
        000062     000                           .BYTE  0               ;RING VA
LUE OF DDFLAG (LOW BYTE)
        000063     000                           .BYTE  0               ;TTFCNT
        000064     000                           .BYTE  0               ;TTMSCN
      8
      9                                 ; NOTE FOR DC11 THE PARAMETER WORD (TTPA
RM) HAS THE FOLLOWING BITS
     10                                 ;       0-10  = INPUT CSR BITS 3-4,9-10
     11                                 ;       11,12 = OUTPUT SPEED - OUTPUT CS
R BITS 3,4
     12                                 ;       15    = STOP CODE - OUTPUT CSR B
IT 8
     13
     14 001540                          SETDDB  DC11,TTMODM!TTDC11,0

                                        ; FIRST DDB OF TYPE DC11 IS FOR KEYBOARD
 16

     15
     16 001540                          SETDDB  DL11CD,TTRDRN!TTDL11,0

                                        ; FIRST DDB OF TYPE DL11CD IS FOR KEYBOA
RD 16

        001540     000G    000                   .BYTE  IDX.KB,STS.KB   ;DDIDX;
DDSTS
        001542     000     020                   .BYTE  +0,$$$$$$       ;DDJBNO;
 DDUNT
        001544  000000  000000                   .WORD  0,0             ;DDTIME;
 DDCNT
        001550  000000                           .WORD  0               ;DDFLAG
        001552  000000  000000  000012           .WORD  0,0,BFQ.KB      ;OUTPUT
BUFFER CHAIN
        001560     111     111                   .BYTE  72.+1.,72.+1.   ;DDHORZ;
 DDHORC
        001562  000000  000000  000006           .WORD  0,0,BFI.KB      ;INPUT B
UFFER CHAIN
        001570     000     000                   .BYTE  0,0             ;TTDLMC;
 TTESCC
        001572     000     000                   .BYTE  0,0             ;TTMODE;
 TTPDLM
        001574  006200                           .WORD  TTSYNC!TTUPAR!TTLCOU ;TT
CHAR
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE 57-1
SET UP THE TERMINAL DDB'S

        001576  010004                           .WORD  TTRDRN!TTDL11
;TTINTF
        001600  000000  000000  000006           .WORD  0,0,BFE.KB      ;TYPE AH
EAD BUFFER CHAIN
        001606     000     040                   .BYTE  0,40            ;EKOCTW;
 EKOPNT
        001610  000000                           .WORD  0               ;TTPARM
        001612  000000                           .WORD  0               ;MODCLK
        001614  000000                           .WORD  0               ;RING VA
LUE OF TTPARM
        001616  006200                           .WORD  TTSYNC!TTUPAR!TTLCOU ;RI
NG VALUE OF TTCHAR
        001620     000                           .BYTE  0               ;RING VA
LUE OF TTFCNT
        001621     111                           .BYTE  72.+1.          ;RING VA
LUE OF DDHORC
        001622     000                           .BYTE  0               ;RING VA
LUE OF DDFLAG (LOW BYTE)
        001623     000                           .BYTE  0               ;TTFCNT
        001624     000                           .BYTE  0               ;TTMSCN
     17
     18 003300                          SETDDB  DL11E,TTMODM!TTDE11,0

                                        ; FIRST DDB OF TYPE DL11E IS FOR KEYBOAR
D 32

     19
     20 003300                          SETDDB  PK11,TTRDRN!TTPK11,0,TTLCIN!TTFO
RM!TTUPAR!TTLCOU!TTESC!TTFUNC,,1

                                        ; FIRST DDB OF TYPE PK11 IS FOR KEYBOARD
 32

        003300     000G    000                   .BYTE  IDX.KB,STS.KB   ;DDIDX;
DDSTS
        003302     001     040                   .BYTE  1+0,$$$$$$      ;DDJBNO;
 DDUNT
        003304  000000  000000                   .WORD  0,0             ;DDTIME;
 DDCNT
        003310  000000                           .WORD  0               ;DDFLAG
        003312  000000  000000  000012           .WORD  0,0,BFQ.KB      ;OUTPUT
BUFFER CHAIN
        003320     111     111                   .BYTE  72.+1.,72.+1.   ;DDHORZ;
 DDHORC
        003322  000000  000000  000006           .WORD  0,0,BFI.KB      ;INPUT B
UFFER CHAIN
        003330     000     000                   .BYTE  0,0             ;TTDLMC;
 TTESCC
        003332     000     000                   .BYTE  0,0             ;TTMODE;
 TTPDLM
        003334  122230                           .WORD  TTLCIN!TTFORM!TTUPAR!TTL
COU!TTESC!TTFUNC ;TTCHAR
        003336  010010                           .WORD  TTRDRN!TTPK11
;TTINTF
        003340  000000  000000  000006           .WORD  0,0,BFE.KB      ;TYPE AH
EAD BUFFER CHAIN
        003346     000     040                   .BYTE  0,40            ;EKOCTW;
 EKOPNT
        003350  000000                           .WORD  0               ;TTPARM
        003352  000000                           .WORD  0               ;MODCLK
        003354  000000                           .WORD  0               ;RING VA
LUE OF TTPARM
        003356  122230                           .WORD  TTLCIN!TTFORM!TTUPAR!TTL
COU!TTESC!TTFUNC ;RING VALUE OF TTCHAR
        003360     000                           .BYTE  0               ;RING VA
LUE OF TTFCNT
        003361     111                           .BYTE  72.+1.          ;RING VA
LUE OF DDHORC
        003362     000                           .BYTE  0               ;RING VA
LUE OF DDFLAG (LOW BYTE)
        003363     000                           .BYTE  0               ;TTFCNT
        003364     000                           .BYTE  0               ;TTMSCN
     21
     22         000000                  $$$$$0  =       0
     23         000002                  .REPT   DJ11
     24                                 .RADIX  10
     25                                 .IRP    N,<\$$$$$0>
     26                                 .RADIX  8
     27                                 SETDDB  DJ'N'NL,TTMUX!<$$$$$1*400>!TTDJ1
1,0
     28                                 .ENDM
     29                                 $$$$$0  =       $$$$$0+1
     30                                 .ENDR

                                        ; FIRST DDB OF TYPE DJ0NL IS FOR KEYBOAR
D 36

 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE 57-2
SET UP THE TERMINAL DDB'S

        003630     000G    000                   .BYTE  IDX.KB,STS.KB   ;DDIDX;
DDSTS
        003632     000     044                   .BYTE  +0,$$$$$$       ;DDJBNO;
 DDUNT
        003634  000000  000000                   .WORD  0,0             ;DDTIME;
 DDCNT
        003640  000000                           .WORD  0               ;DDFLAG
        003642  000000  000000  000012           .WORD  0,0,BFQ.KB      ;OUTPUT
BUFFER CHAIN
        003650     111     111                   .BYTE  72.+1.,72.+1.   ;DDHORZ;
 DDHORC
        003652  000000  000000  000006           .WORD  0,0,BFI.KB      ;INPUT B
UFFER CHAIN
        003660     000     000                   .BYTE  0,0             ;TTDLMC;
 TTESCC
        003662     000     000                   .BYTE  0,0             ;TTMODE;
 TTPDLM
        003664  006200                           .WORD  TTSYNC!TTUPAR!TTLCOU ;TT
CHAR
        003666  100012                           .WORD  TTMUX!<$$$$$1*400>!TTDJ1
1               ;TTINTF
        003670  000000  000000  000006           .WORD  0,0,BFE.KB      ;TYPE AH
EAD BUFFER CHAIN
        003676     000     040                   .BYTE  0,40            ;EKOCTW;
 EKOPNT
        003700  000000                           .WORD  0               ;TTPARM
        003702  000000                           .WORD  0               ;MODCLK
        003704  000000                           .WORD  0               ;RING VA
LUE OF TTPARM
        003706  006200                           .WORD  TTSYNC!TTUPAR!TTLCOU ;RI
NG VALUE OF TTCHAR
        003710     000                           .BYTE  0               ;RING VA
LUE OF TTFCNT
        003711     111                           .BYTE  72.+1.          ;RING VA
LUE OF DDHORC
        003712     000                           .BYTE  0               ;RING VA
LUE OF DDFLAG (LOW BYTE)
        003713     000                           .BYTE  0               ;TTFCNT
        003714     000                           .BYTE  0               ;TTMSCN

                                        ; FIRST DDB OF TYPE DJ1NL IS FOR KEYBOAR
D 52

        005370     000G    000                   .BYTE  IDX.KB,STS.KB   ;DDIDX;
DDSTS
        005372     000     064                   .BYTE  +0,$$$$$$       ;DDJBNO;
 DDUNT
        005374  000000  000000                   .WORD  0,0             ;DDTIME;
 DDCNT
        005400  000000                           .WORD  0               ;DDFLAG
        005402  000000  000000  000012           .WORD  0,0,BFQ.KB      ;OUTPUT
BUFFER CHAIN
        005410     111     111                   .BYTE  72.+1.,72.+1.   ;DDHORZ;
 DDHORC
        005412  000000  000000  000006           .WORD  0,0,BFI.KB      ;INPUT B
UFFER CHAIN
        005420     000     000                   .BYTE  0,0             ;TTDLMC;
 TTESCC
        005422     000     000                   .BYTE  0,0             ;TTMODE;
 TTPDLM
        005424  006200                           .WORD  TTSYNC!TTUPAR!TTLCOU ;TT
CHAR
        005426  100012                           .WORD  TTMUX!<$$$$$1*400>!TTDJ1
1               ;TTINTF
        005430  000000  000000  000006           .WORD  0,0,BFE.KB      ;TYPE AH
EAD BUFFER CHAIN
        005436     000     040                   .BYTE  0,40            ;EKOCTW;
 EKOPNT
        005440  000000                           .WORD  0               ;TTPARM
        005442  000000                           .WORD  0               ;MODCLK
        005444  000000                           .WORD  0               ;RING VA
LUE OF TTPARM
        005446  006200                           .WORD  TTSYNC!TTUPAR!TTLCOU ;RI
NG VALUE OF TTCHAR
        005450     000                           .BYTE  0               ;RING VA
LUE OF TTFCNT
        005451     111                           .BYTE  72.+1.          ;RING VA
LUE OF DDHORC
        005452     000                           .BYTE  0               ;RING VA
LUE OF DDFLAG (LOW BYTE)
        005453     000                           .BYTE  0               ;TTFCNT
        005454     000                           .BYTE  0               ;TTMSCN
     31
     32         000000                  $$$$$0  =       0
     33         000000                  .REPT   DH11
     34                                 .RADIX  10
     35                                 .IRP    N,<\$$$$$0>
     36                                 .RADIX  8
     37                                 .IF     NE      DM11BB
     38                                 SETDDB  DH'N'NL,TTMUX!TTHPRT!<$$$$$1*400
>!TTDH11,6307,,CSR.BB+<$$$$$0*2>
     39                                 .IFF
     40                                 SETDDB  DH'N'NL,TTMUX!TTHPRT!<$$$$$1*400
>!TTDH11,6307
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE 57-3
SET UP THE TERMINAL DDB'S

     41                                 .ENDC   ;DM11BB
     42                                 .ENDM
     43                                 $$$$$0  =       $$$$$0+1
     44                                 .ENDR
     45
     46         000000                  $$$$$0  =       0
     47         000000                  .REPT   DZ11
     48                                 .RADIX  10
     49                                 .IRP    N,<\$$$$$0>
     50                                 .RADIX  8
     51                                 .IF     NE      DZ2741
     52                                 SETDDB  DZ'N'NL,TTMUX!TTHPRT!<$$$$$1*400
>!TTDZ11,11070!$$$$$1,,DZBRK+$$$$$0
     53                                 .IFF
     54                                 SETDDB  DZ'N'NL,TTMUX!TTHPRT!<$$$$$1*400
>!TTDZ11,11070!$$$$$1
     55                                 .ENDC   ;DZ2741
     56                                 .ENDM
     57                                 $$$$$0  =       $$$$$0+1
     58                                 .ENDR
     59
     60 007130                                  UNORG
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE 58
SET UP TABLE OF DDB POINTERS FOR THE TERMINALS

      1                                 .SBTTL  SET UP TABLE OF DDB POINTERS FOR
 THE TERMINALS
      2
      3 000104                                  TMPORG  RAWMEM
      4
      5 000000                          RAWMEM:
      6
      7         000000                  $$$$$$  =       0
      8
      9         000104                  .REPT   CNT.KB
     10                                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
     11                                 .DSABL  CRF
     12                                 $$$$$$  =       $$$$$$+1
     13                                 .ENABL  CRF
     14                                 .ENDR
        000000  000000'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000002  000066'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000004  000154'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000006  000242'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000010  000330'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000012  000416'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000014  000504'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000016  000572'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000020  000660'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000022  000746'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000024  001034'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000026  001122'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000030  001210'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000032  001276'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000034  001364'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000036  001452'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000040  001540'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000042  001626'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000044  001714'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000046  002002'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000050  002070'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000052  002156'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000054  002244'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000056  002332'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000060  002420'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000062  002506'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000064  002574'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000066  002662'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000070  002750'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000072  003036'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000074  003124'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000076  003212'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000100  003300'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000102  003366'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000104  003454'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000106  003542'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000110  003630'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000112  003716'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000114  004004'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000116  004072'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000120  004160'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000122  004246'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000124  004334'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE 58-1
SET UP TABLE OF DDB POINTERS FOR THE TERMINALS

        000126  004422'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000130  004510'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000132  004576'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000134  004664'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000136  004752'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000140  005040'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000142  005126'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000144  005214'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000146  005302'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000150  005370'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000152  005456'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000154  005544'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000156  005632'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000160  005720'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000162  006006'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000164  006074'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000166  006162'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000170  006250'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000172  006336'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000174  006424'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000176  006512'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000200  006600'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000202  006666'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000204  006754'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
        000206  007042'                          .WORD  KBDDDB+<DDS.KB*$$$$$$>
     15
     16 000210                                  UNORG
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE 59
KEYBOARD DRIVER DIRTY AREA

      1                                 .SBTTL  KEYBOARD DRIVER DIRTY AREA
      2
      3 000104                                  TMPORG  KBDCTL
      4
      5                                 ; JOB COUNTERS 0<=JOBCNT<=MAXJOB<=MAXCNT
<=LMTCNT<=JOBMAX
      6
      7 000000     000                  JOBCNT::.BYTE   0               ;NUMBER
OF ACTIVE JOBS
      8 000001     001                  MAXJOB::.BYTE   1               ;MAX NUM
BER OF JOBS CURRENTLY ALLOWED
      9         000002'                 $$JOBM  ==      .       ;**INIT** MAXIMU
MS FILLED IN
     10 000002  000001                  MAXCNT::.WORD   1               ;MAX # J
OBS WE CAN SWAP
     11 000004  000030                  LMTCNT::.WORD   JOBMAX          ;MAX # J
OBS THIS UPTIME
     12
     13 000006  000000                  TTYHCT::.WORD   0               ;# OF UN
HANGS PERFORMED
     14
     15                                 .IF     NE      DZ2741
     16
     17                                 DZBRK::                         ;STORAGE
 FOR DZ11 BREAK STATUS
     18                                 .REPT   DZ11
     19                                 .NLIST
     20                                         .BYTE   0
     21                                 .LIST
     22                                 .ENDR
     23
     24                                 .ENDC   ;DZ2741
     25
     26                                         .EVEN
     27
     28 000010                                  UNORG
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE 60
KEYBOARD DRIVER PURE AREA

      1                                 .SBTTL  KEYBOARD DRIVER PURE AREA
      2
      3 000104                          KBFDDB::                        ;FAKE TE
RMINAL DDB FOR "DETACHEDNESS"
      4 000104     000G    000                  .BYTE   IDX.KB,0        ;DRIVER
INDEX / STATUS
      5 000106     000     000                  .BYTE   0,0             ;NO OWNI
NG JOB / UNIT 0
      6 000110  000000                          .WORD   0               ;NO TIME
 OF OWNERSHIP
      7 000112  000000                          .WORD   0               ;NO ASSI
GNMENT FLAG OR INIT COUNT
      8
      9 000114                          GLOBAL  <IDX.KB>
     10
     11         000114'                 $$ODTP  ==      .       ;**INIT** CLEARE
D IF NO KERNEL MODE ODT
     12 000114  000020                  ENTODT::.WORD   'P-100          ;ODT ENT
RY IS CONTROL/P
     13
     14                                 .IF     NE      DM11BB
     15
     16                                 CSR.BB::                        ;TABLE O
F DM11BB CSR'S
     17                                 .REPT   DH11
     18                                 .NLIST
     19                                         .WORD   0
     20                                 .LIST
     21                                 .ENDR
     22
     23                                 TTDMBB  ==      TTAUXP          ;TELL IN
IT THAT DM11BB'S EXIST
     24                                 .IFF
     25         000000                  TTDMBB  ==      0               ;TELL IN
IT THERE ARE NO DM11BB'S
     26
     27                                 .ENDC   ;DM11BB
     28
     29 000116     000     200     200  PTABLE::.BYTE   000,200,200,000 ;PARITY
COMPUTATION TABLE FOR 4-BIT #'S
        000121     000
     30 000122     200     000     000          .BYTE   200,000,000,200
        000125     200
     31 000126     200     000     000          .BYTE   200,000,000,200
        000131     200
     32 000132     000     200     200          .BYTE   000,200,200,000
        000135     000
     33
     34                                 .IF     NE      DH2741
     35
     36                                 IDL$27::                        ;IDLE'S
FOR <CR> TIMING
     37                                 .REPT   TTSEQC/10
     38                                 .NLIST
     39                                         .BYTE   075
     40                                 .LIST
     41                                 .ENDR
     42
     43                                 EOT$27::.BYTE   074             ;<EOT>
     44
     45                                 EOA$27::.BYTE   077,064         ;<RUB><E
OA>
     46
     47                                 RUB$27::.BYTE   077,077,077,077 ;4 <RUB>
'S FOR BREAK TIMING
     48
     49                                 .ENDC   ;DH2741
     50
     51 000136     023                  XOFFCH::.BYTE   023             ;XOFF CH
ARACTER
     52                                         .EVEN
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE 61
KEYBOARD DRIVER PURE AREA

      1                                 ; CONTROL TABLE FOR ERROR LOGGING
      2
      3 000140                                  TMPORG  KBDCTL
      4
      5 000010     030     000          KBETBL::.BYTE   ERC$KB,0        ;ERROR C
ODE, JOB NUMBER TIMES 2
      6 000012     004     002                  .BYTE   4,2             ;4 WORDS
, FIELD 2
      7 000014  000044'                         .WORD   KBEFL2          ;--> FIE
LD 2 INFORMATION
      8 000016     033     002                  .BYTE   DDS.KB/2,2      ;# WORDS
 = DDB SIZE, FIELD 2
      9 000020  000000                  KBEDDB::.WORD   0               ;DDB ADD
RESS
     10 000022     001     003                  .BYTE   1,3             ;1 WORD,
 FIELD 3
     11 000024  000030'                         .WORD   KBEREG          ;--> CSR
 ADDRESS
     12                                 .IF     NE      DM11BB
     13                                 KBEDSC::.BYTE   1,3             ;1 WORD,
 FIELD 3
     14                                         .WORD   0               ;--> DM1
1BB CSR ADDRESS
     15                                 .ENDC   ;DM11BB
     16 000026     001     004                  .BYTE   1,4             ;1 WORD,
 FIELD 4
     17 000030  000000                  KBEREG::.WORD   0               ;CSR ADD
RESS
     18 000032     001     004                  .BYTE   1,4             ;1 WORD,
 FIELD 4
     19 000034  000054'                         .WORD   KBETMP          ;STORE L
OCATION
     20 000036     001     004          KBESCN::.BYTE   1,4             ;1 WORD,
 FIELD 4
     21 000040  000000                  KBESC4::.WORD   0               ;CSR + 4
 ADDRESS
     22                                 .IF     NE      DM11BB
     23                                 KBEDMB::.BYTE   2,4             ;2 WORDS
, FIELD 4
     24                                         .WORD   0               ;DM11BB
ADDRESS
     25                                         .BYTE   0,-4            ;0 WORDS
, FIELD 4 CALL
     26                                         .WORD   KBEDMD          ;RE-SCAN
 THE DM11BB
     27                                 .ENDC   ;DM11BB
     28 000042  177777                          .WORD   -1              ;TERMINA
TOR
     29
     30 000044  000000                  KBEFL2: .WORD   0               ;NOT A T
IMEOUT (0)
     31 000046     113     102                  .ASCII  "KB"            ;DEVICE
NAME
     32 000050     000     377          KBEUNT::.BYTE   0,-1            ; AND UN
IT
     33 000052  000033                          .WORD   DDS.KB/2        ;DDB SIZ
E
     34
     35 000054  000000                  KBETMP::.WORD   0               ;TEMP ST
ORAGE LOCATION
     36
     37 000056                                  UNORG
     38
     39                                 .IF     NE      DM11BB
     40                                 KBEDMD: MOV     #100!40,(R4)    ;;;RE-EN
ABLE IE AND SCAN ON DM11BB
     41                                         RETURN                  ;;; THEN
 BACK...
     42                                 .ENDC   ;DM11BB
     43
     44         000001                  .END
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE 61-1
SYMBOL TABLE

ALT.DX= 054504          CH$SEC  000004          DDS.PP= 000020          EKOCTW
000046 G        FQBSIZ  000040
ALT.KB= 052124          CH$TAG  000014          DDS.PR= 000020          EKOPNT
000047 G        FQBUFL  000020
ALT.MM= 052115          CH$TIC  000002          DDTIME  000004          ELAFQ
000006          FQCLUS  000034
ASSFQ   000024          CH$USM  000016          DDUNT   000003          EMTSIZ=
000100          FQDEV   000030
ATRFQ   000000          CH$WTG  000020          DDUTIL  040000          EMTTBL
000000R     013 FQDEVN  000032
AUDHND  000032          CLSFQ   000000          DDWLO   002000          ENTODT
000114RG    012 FQERNO  000004
BBAAP5  000006          CNT.DB= 000010          DEAFQ   000026          EP
000000          FQEXT   000014
BBASND  000004          CNT.DC= 000000          DH11  = 000000          ERC$CD
000036          FQFIL   000004
BBAUNT  000011          CNT.DF= 000000          DH2741= 000000          ERC$CK
000001          FQFLAG  000024
BBDAP5  000016          CNT.DK= 000000          DIRFQ   000012          ERC$CR
000035          FQFSIZ  000054
BBDINT  000014          CNT.DL= 000004          DJINT   000046R     012 ERC$DB
000023          FQFUN   000003
BBDOFF  000001          CNT.DM= 000000          DJKBN   000100RG    012 ERC$DC
000014          FQJOB   000002
BBDSTA  000012          CNT.DP= 000000          DJKINT  000040RG    012 ERC$DD
000047          FQMODE  000022
BBDUNT  000010          CNT.DR= 000010          DJONT   000056R     012 ERC$DF
000015          FQNAM1  000010
BBGIRB  000002          CNT.DS= 000000          DJ0NL = 000020          ERC$DK
000017          FQNAM2  000020
BBSTS   000000          CNT.DX= 000010          DJ1NL = 000020          ERC$DL
000024          FQNENT  000036
BC      000004          CNT.KB= 000104          DJ11  = 000002          ERC$DM
000020          FQPFLG  000026
BCBSIZ  000006          CNT.LP= 000001          DLNFQ   000006          ERC$DP
000021          FQPPN   000006
BFE.KB= 000006 G        CNT.MM= 000002          DL11CD= 000020          ERC$DR
000022          FQPROT  000027
BFI.KB= 000006 G        CNT.NL= 000001          DL11E = 000000          ERC$DS
000016          FQSIZ   000016
BFQ.KB= 000012 G        CNT.PK= 000004          DMCHND  000030          ERC$DT
000031          FQSIZM  000005
BFQ.LP= 000024          CNT.PP= 000001          DMC11 = 000000          ERC$DX
000041          FQSWIT  000020
BFQ.PP= 000012          CNT.PR= 000001          DM11BB= 000000          ERC$J0
000002          F.FBNL  000002
BFQ.PR= 000012          CONTXT  000060          DQS$OO  000012          ERC$KB
000030          F.FBNM  000001
BF.CNT  000006          CORCMN  000460          DSKHND  000000          ERC$KT
000010          F.UNT   000000
BF.LNK  000004          CPUTIM  001024          DSKSIZ  000020          ERC$LP
000032          GETSML  000377
BF.OFF  000002          CRAFQ   000004          DSPFQ   000054          ERC$MM
000040          HOR.LP= 000120
BF.SIZ  000000          CRBFQ   000034          DSQCNT  000016          ERC$MS
000046          IBMHND  000042
BGBUFF  000006          CREFQ   000004          DSQCTO  000036          ERC$MT
000037          IDX.KB= ****** G
BGQRET  000002          CRTFQ   000032          DSQERR  000003          ERC$NW
000045          II11  = 000000
BUFHDR  000010          CR11  = 000000          DSQFAR  000021          ERC$PA
000007          IN      000004
BUFTBL  000000R     007 DALFQ   000030          DSQFBL  000010          ERC$PF
000006          INTSAV= ****** G
BUF.KB= 000200 G        DATE    001000          DSQFBM  000007          ERC$PP
000034          INTSVX= ****** G
BUF.PK= 000200 G        DC11  = 000000          DSQFUN  000020          ERC$PR
000033          IOSTS   001014
BYEFQ   000044          DDASN   100000          DSQJOB  000002          ERC$RI
000005          IRBBFL  000016
C       000001          DDAUX   020000          DSQL3Q  000004          ERC$RJ
000043          IRBCHN  000004
CALFIP  104000          DDAUXA  040000          DSQMAL  000014          ERC$T4
000004          IRBCON  000012
CCC.DX= 000000          DDBUFC  000012          DSQMAM  000013          ERC$UI
000003          IRBDPT  000024
CCC.KB= 000001          DDCNT   000006          DSQMSC  000022          ERC$XM
000042          IRBEPT  000030
CCC.LP= 000001          DDCONS  020000          DSQOPT  000030          ERC$XX
000000          IRBFPT  000026
CCC.MM= 000000          DDFLAG  000010          DSQOUN  000032          ERC$XY
000044          IRBFUN  000000
CCC.NL= 000000          DDHORC  000021          DSQPDA  000026          ERL$KB
000072RG    012 IRBMMU  000020
CCC.PK= 000001          DDHORZ  000020          DSQPTO  000034          ERRFQ
000016          IRBMOD  000010
CCC.PP= 000001          DDIDX   000000          DSQPUN  000037          EXTFQ
000042          IRBNXT  000014
CCC.PR= 000001          DDJBNO  000002          DSQRFN  000012          FBBSIZ
000004          IRBSIZ  000022
CDRHND  000014          DDNET   004000          DSQSAV  000033          FIRQB
000402          IRBSTA  000002
CD11  = 000000          DDNFS   000400          DSQSIZ  000040          FLGFRC
020000          IRB18L  000006
CH$BSZ  000032          DDPRVO  000400          DSQTOT  000024          FLGKB
040000          IRB18M  000005
CH$CTL  000000          DDRLO   001000          DSQUNT  000006          FLGMOD
010000          JDBRST  000035
CH$DAT  000031          DDSTAT  100000          DSTATS= 000001          FLGPOS
004000          JDFLG   000002
CH$DLM  000026          DDSTS   000001          DTAHND  000004          FLGRND
100000          JDFLG2  000012
CH$FLM  000024          DDS.DX= 000034          DTRFQ   000002          FLGTBL
000000R     005 JDIOB   000000
CH$LIM  000022          DDS.KB  000066 G        DT2HND  000036          FLG.KB=
074402 G        JDIOST  000004
CH$MOD  000030          DDS.LP= 000040          DZ11  = 000000          FLG.PK=
070420 G        JDJDB2  000010
CH$NXT  000006          DDS.MM= 000046          DZ11AB= 000000          FP
000002          JDMCTL  000020
CH$PAR  000012          DDS.NL= 000010          DZ2741= 000000          FPPTXT
000112          JDPOST  000005
CH$PRV  000010          DDS.PK= 000014          EKOCTL= 000001          FQADDR
000036          JDPRI   000034
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE 61-2
SYMBOL TABLE

JDRESB  000032          J2MPTR  000022          LOG$PF  104012          PP11  =
000001          RAWMEM  000000R     015
JDRESQ  000016          J2NAME  000014          LOG$RI  104010          PR0
034000          RCVFQ   000050
JDRTS   000014          J2PCNT  000026          LOG$SZ= 000044          PR1
034040          RENFQ   000010
JDSIZE  000026          J2PPN   000030          LOG$T4  104006          PR11  =
000001          REQ     000001
JDSIZM  000036          J2PPTR  000024          LOG$UI  104004          PR2
034100          RETSML  000040
JDSIZN  000013          J2TICK  000000          LOKFQ   000022          PR3
034140          RETURN  000000
JDSWAP  000037          J2UFDR  000032          LPTHND  000006          PR4
034200          RFUN    000004
JDWORK  000006          J2WPTR  000034          LP11  = 000001          PR5
034240          RFUN.C  000006
JFBIG   020000          KBBCD = 000000          LS.LIB  000200          PR6
034300          RHAS    000016
JFCC    000010          KBCORR= 000000          L.PPN   000006          PR7
034340          RHATA   100000
JFCTXT  000001          KBC360= 000000          L.PROT  000035          PS
177776          RHBA    000004
JFFPP   001000          KBDAP5= ****** G        L.STAT  000034          PTABLE
000116RG    012 RHCLR   000040
JFGO    000100          KBDCTL  000000RG    011 L3QSIZ  000076          PTPHND
000012          RHCS1   000000
JFIOKY  000002          KBDDDB  000000R     014 MAPFQ   000010          PTRHND
000010          RHCS2   000010
JFKILL  000200          KBDINT  000000R     012 MAXCNT  000002RG    011 P$BREM
000012          RHDLT   100000
JFKIL2  000100          KBDVR   000000RG    010 MAXJOB  000001RG    011 P$BUFA
000002          RHDPR   000400
JFLOCK  040000          KBEBCD= 000000          MBXHND  000044          P$LINK
000000          RHDRQ   004000
JFNOPR  010000          KBEDDB  000020RG    011 MCBSIZ  000012          P$PARM
000014          RHDRY   000200
JFPOST  000001          KBEFL2  000044R     011 MMUSR0  177572          P$SNDR
000005          RHDS    000012
JFPPT   000040          KBEREG  000030RG    011 MODCLK  000052 G        P$SPPN
000006          RHDT    000026
JFPRIV  002000          KBESCN  000036RG    011 MTAHND  000016          P$TYPE
000004          RHDTE   010000
JFPRTY  000002          KBESC4  000040RG    011 MULTTY= 000001          P.BAD
177754          RHER    000014
JFREDO  000200          KBETBL  000010RG    011 M.CTRL  000007          P.BPT
177756          RHERR   040000
JFRSXP  000004          KBETMP  000054RG    011 M.PHYA  000010          P.CC
177770          RHESET  000011
JFRUN   000004          KBEUNT  000050RG    011 M.PNXT  000002          P.CRAS
177744          RHILF   000001
JFSPCL  100000          KBFDDB  000104RG    012 M.PPRV  000000          P.DEXT
177734          RHILR   000002
JFSPRI  000400          KB2741= 000000          M.SIZE  000006          P.EMT
177762          RHMCPE  020000
JFSTAK  000020          KEY     000400          M.TSIZ  000004          P.FIS
177742          RHMDPE  000400
JFSWPE  000040          KISAR0  172340          N       000010          P.FLAG
177732          RHMOH   020000
JFSWPR  000010          KISAR5  172352          NETFQ   000052          P.FPP
177766          RHMOL   010000
JFSYS   004000          KISAR6  172354          NEXT    001007          P.IOT
177760          RHMR    000024
JFSYST  000400          KISDR0  172300          NOECHO  000040          P.ISIZ
177736          RHMXF   001000
JF2CC   000020          KLKINT  000000RG    012 NONMSK  000040          P.MSIZ
177740          RHNED   010000
JOB     001006          KL11  = 000020          NONRTS  000036          P.NEW
177750          RHNEM   004000
JOBCNT  000000RG    011 KMCHND  000040          NSTORG  001000          P.OFF
177732          RHNSA   100000
JOBDA   001010          KMC11 = 000000          NULHND  000026          P.RUN
177752          RHOPI   020000
JOBF    001012          LCK     000200          OPNFQ   000002          P.SIZE
177774          RHPE    020000
JOBJD2  001020          LCLCPY  000100          OUT     000002          P.STRT
177746          RHPGE   002000
JOBMAX= 000030          LCL$MN  177777          PC    =%000007          P.TRAP
177764          RHPIP   020000
JOBRTS  001022          LCL$MX  000003          PF.CSZ  020000          P.2CC
177772          RHREAD  000071
JOBWDB  001026          LKS     177546          PF.EMT  100000          QBGBUF
000010          RHRMR   000004
JOBWRK  001016          LMTCNT  000004RG    011 PF.KBM  000400          QBRING
010000          RHSC    100000
JSBUF   040000          LOGICL= 000012          PF.NER  004000          QBUFRT
100000          RHSPR   002000
JSFIP   010000          LOG$CK  104000          PF.REM  010000          QCACHE
000002          RHTAP   040000
JSTATS= 000001          LOG$DB  104040          PF.RW   002000          QDS$OO
000010          RHTRE   040000
JSTEL   004000          LOG$DC  104022          PF.SLA  040000          QDUMP
004000          RHUNS   040000
JSTIM   020000          LOG$DF  104024          PF.1US  001000          QFAST
100001          RHWC    000002
JS.KB   000002          LOG$DK  104030          PKBHND  000020          QFILE
002000          RHWCHK  000051
JS.SY   000001          LOG$DL  104042          PKDCTL  000000RG    003 QFIP
000100          RHWRIT  000061
J2CON   000004          LOG$DM  104032          PKDINT  000000RG    004 QFORCE
040000          RHWRL   004000
J2CPU   000002          LOG$DP  104034          PKDVR   000000RG    002 QNSP   
000400          RH7CH   010000
J2CPUI  000036          LOG$DR  104036          PKINWT  000013 G        QSCHED
020000          RJEHND  000024
J2CPUM  000013          LOG$DS  104026          PKMODE  000012 G        QSTATS=
000001          RJ2780= 000000
J2DEV   000010          LOG$J0  104002          PKS     172540          QSWAPC
000040          RSTFQ   000020
J2DRTS  000020          LOG$KT  104016          PKSTKB= 000040          QTIMER
000001          RUBOUT  010000
J2KCT   000006          LOG$NW  104020          PK11  = 000004          QTRN
000200          RUNFQ   000036
J2KCTM  000012          LOG$PA  104014          PLTHND  000034          QUMR
000020          RXDHND  000022
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE 61-3
SYMBOL TABLE

RX11  = 000010          TAPE    000020          TTPCOL  000040          UU$MAX
000033          W$NOFF  000006
R.CNT   000032          TC11  = 000000          TTPDLM  000033          UU$MIN
177744          W$NSIZ  000002
R.DATA  000022          TIMCLK  001005          TTPK11  000010 G        UU.ACT
177761          W$NSTS  000001
R.DEXT  000006          TIME    001002          TTPODD  000400          UU.ASS
000012          W.ALIB  000002
R.FILE  000026          TIMSEC  001004          TTPRTY  001000          UU.ATR
177747          W.LINK  000000
R.FLAG  000036          TMO$OO  000016          TTRDRN  010000          UU.ATT
000006          W.SIZE  000012
R.KSIZ  000016          TM02  = 000002          TTRING  000054 G        UU.BCK
177765          W.WIN1  000014
R.LINK  000000          TM11  = 000000          TTRSX1  000004          UU.BYE
000005          W.WIN2  000026
R.MCTL  000010          TS11  = 000000          TTRSX2  000400          UU.CCL
177750          XOFFCH  000136RG    012
R.MSIZ  000035          TTACTV  100000          TTSCOP  000040          UU.CHE
000023          XRB     000442
R.NAME  000002          TTBIN   000001          TTSEQC  000370          UU.CHU
000010          XRBC    000002
R.SIZE  000034          TTBREK  000400          TTSEQ1  000010          UU.CLN
000002          XRBLK   000010
R0    =%000000          TTCHAR  000034          TTSTAT  140000          UU.CNV
000024          XRBLKM  000007
R1    =%000001          TTCODE  000006          TTSTA1  040000          UU.DAL
000014          XRBSAV  000016
R2    =%000002          TTCRIN  004000          TTSTOP  100000          UU.DAT
177762          XRBSIZ  000016
R3    =%000003          TTCRLF  000004          TTSUBL  007400          UU.DEA
000013          XRBUSE  000020
R4    =%000004          TTCRO   010000          TTSXOF  020000          UU.DET
000007          XRCI    000006
R5    =%000005          TTDC11  000002 G        TTSYNC  004000          UU.DIE
177760          XRLEN   000000
SA.LCL  000001          TTDDT   000010          TTTAB   040000          UU.DIR
000017          XRLOC   000004
SA.NET  000004          TTDE11  000006 G        TTTECO  000002          UU.DLU
000001          XRMOD   000014
SA.PRV  000002          TTDFIL  002000          TTTECS  000200          UU.DMP
177745          XRTIME  000012
SA.XOF  000200          TTDH11  000014 G        TTUC.I  000001          UU.ERR
000011          Z       000004
SA.1SH  000010          TTDJ11  000012 G        TTUC.O  001000          UU.FCB
177770          $KBDIN= 000000RG    012
SIZTBL  000000R     006 TTDLMC  000030          TTUPAR  002000          UU.FIL
177746          $$JOBM= 000002RG    011
SIZ.KB= 000000 G        TTDL11  000004 G        TTWRC   040000          UU.HNG
177767          $$ODTP= 000114RG    012
SIZ.PK= 000107 G        TTDMBB= 000000 G        TTXANY  000004          UU.JOB
000030          $$$VER= 033460
SL      177774          TTDSBL  100000          TTXOFF  040000          UU.KMC
000033          $$$$$$= 000104
SLINT0  000006R     012 TTDZ11  000016 G        TTXON   010000          UU.LIN
000004          $$$$$0= 000000
SLINT1  000026R     012 TTECTL  000010          TTYHCT  000006RG    011 UU.LOG
177755          $$$$$1= 000020
SLONT0  000016R     012 TTEMT   000066R     012 TTYHND  000002          UU.LOK
000021          $$$$$9= 000020
SLONT1  000036R     012 TTESC   000020          TT2741  000200          UU.MNT
000003          .CCL    104062
SLP.KB= 000001          TTESCC  000031          TU58  = 000000          UU.NAM
177757          .CHAIN  104070
SLP.PK= 000001          TTESCI  000100          UC.CNT  000777          UU.NLG
177776          .CLEAR  104056
SL2741= 000000          TTFCNT  000063 G        UC.DLW  004000          UU.PAS
000000          .CORE   104006
SNDFQ   000046          TTFILL  000007          UC.LCK  020000          UU.POK
177772          .DATE   104034
SP    =%000006          TTFORM  020000          UC.MNT  100000          UU.PPN
000031          .ERLOG  104052
STS.KB= 000000 G        TTFUNC  000010          UC.NFS  010000          UU.PRI
177763          .EXIT   104046
STS.PK= 000000 G        TTGARD  000020          UC.PRI  040000          UU.RAD
000016          .FSS    104064
ST2741= 000000 G        TTHPRT  020000          UC.TOP  001000          UU.RTS
177756          .LOGS   104054
SWP     000100          TTHUNG  001000          UC.WLO  002000          UU.SLN
000025          .MESAG  104060
SWR     177570          TTINEC  000040 G        UISAR0  177640          UU.SPL
177744          .NAME   104044
SYSVEE  030056          TTINPT  000022          UISDR0  177600          UU.SWP
000027          .PEEK   104012
SYSVEL  033460          TTINTF  000036          UMPFQ   000012          UU.SYS
000032          .PLAS   104072
SYSVEN= 033460          TTKL11  000000 G        UMR$OO  000014          UU.TB1
177775          .POSTN  104032
S.ACCS  000012          TTLA30  000200          UMR.DX= 000001          UU.TB2
177764          .READ   104002
S.BMAX  000014          TTLCIN  100000          UMR.MM= 000001          UU.TRM
000020          .RSX    104074
S.JBNO  000010          TTLCOU  000200          UNIWIN  170200          UU.YLG
177777          .RTS    104050
S.LCNT  000025          TTLFRC  000001          UO.CLN  000001          UU.ZER
000015          .RUN    104042
S.LINK  000000          TTMODE  000032          UO.NCD  000040          V
000002          .SET    104036
S.LLST  000026          TTMODM  040000          UO.NCF  000020          WFUN
000002          .SLEEP  104010
S.LMAX  000024          TTMSCN  000064 G        UO.WCF  000100          WFUN.C
000000          .SPEC   104014
S.MCNT  000017          TTMSG   004000          UO.WCU  000200          WINFQ
000040          .STAT   104040
S.MLST  000020          TTMUX   100000          USRLOG  000740          WS$MAP
100000          .TIME   104030
S.MMAX  000016          TTNBIN  000002          USRPPN  000734          WS$WRT
000400          .TTAPE  104016
S.OBJT  000011          TTOCVL  020000          USRPRT  000736          W$NAPR
000000          .TTDDT  104024
S.RCID  000002          TTOVFL  000200          USRSP   000400          W$NBYT
000010          .TTECH  104020
T       000020          TTPARM  000050 G        UUOFQ   000014          W$NLIB
000004          .TTNCH  104022
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE 61-4
SYMBOL TABLE

.TTRST  104026          .ULOG   104076          .UUO    104066          .WRITE
104004

. ABS.  177777     000
        000000     001
PKDVR   000000     002
PKDCTL  000006     003
PKDINT  000000     004
FLGTBL  000010     005
SIZTBL  000010     006
BUFTBL  000010     007
KBDVR   000000     010
KBDCTL  000056     011
KBDINT  000140     012
EMTTBL  000030     013
KBDDDB  007130     014
RAWMEM  000210     015
ERRORS DETECTED:  0

VIRTUAL MEMORY USED:  8311 WORDS  ( 33 PAGES)
DYNAMIC MEMORY AVAILABLE FOR  69 PAGES
TTDINT,TTDINT/C=IN:$COMMON,$KERNEL,DK:CONFIG,IN:$CHECK,$KBDEF,$TTDINT


 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE S-1
CROSS REFERENCE TABLE (CREF V01-05 )


$$$$$$  52-13#   52-32    52-32    52-32#   54-3     54-5     54-7     54-9
54-11    57-5#    58-7#    58-14    58-14    58-14
        58-14    58-14    58-14    58-14    58-14    58-14    58-14    58-14
58-14    58-14    58-14    58-14    58-14    58-14
        58-14    58-14    58-14    58-14    58-14    58-14    58-14    58-14
58-14    58-14    58-14    58-14    58-14    58-14
        58-14    58-14    58-14    58-14    58-14    58-14    58-14    58-14
58-14    58-14    58-14    58-14    58-14    58-14
        58-14    58-14    58-14    58-14    58-14    58-14    58-14    58-14
58-14    58-14    58-14    58-14    58-14    58-14
        58-14    58-14    58-14    58-14    58-14    58-14    58-14    58-14
58-14
$$$$$0  57-22#   57-30    57-30    57-30    57-30    57-30#   57-30#   57-32#
57-46#
$$$VER  38-1#    44-1#    46-1#
$$JOBM  59-9#
$$ODTP  60-11#
$KBDIN  52-4#
.TTAPE  54-3
.TTDDT  54-9
.TTECH  54-5
.TTNCH  54-7
.TTRST  54-11
BCBSIZ  45-12    45-15    49-16    49-19    49-31
BFE.KB  51-5#
BFI.KB  51-4#
BFQ.KB  51-3#
BFQ.LP  43-55#
BFQ.PP  43-76#
BFQ.PR  43-66#
BUF.KB  51-16    51-18#
BUF.PK  48-32    48-34#
BUFTBL  48-30    51-14
CCC.DX  43-142#
CCC.KB  43-6#
CCC.LP  43-54#
CCC.MM  43-113#
CCC.NL  43-12#
CCC.PK  43-21#
CCC.PP  43-75#
CCC.PR  43-65#
CD11    39-73#   43-89
CNT.DB  39-47#
CNT.DC  39-39#
CNT.DF  39-40#
CNT.DK  39-42#
CNT.DL  39-43#
CNT.DM  39-44#
CNT.DP  39-45#
CNT.DR  39-46#
CNT.DS  39-41#
CNT.DX  43-140#
CNT.KB  43-4     43-4#    58-9
CNT.LP  43-52#
CNT.MM  43-111#
CNT.NL  43-10#
CNT.PK  43-19#
CNT.PP  43-73#
CNT.PR  43-63#
CR11    39-71#   43-80
DC11    39-8#    49-47    49-63    52-15
DDASN   45-45#
DDBUFC  45-12#   49-16#
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE S-2
CROSS REFERENCE TABLE (CREF V01-05 )


DDCNT   45-10#   47-24#   49-14#
DDCONS  45-43#
DDFLAG  45-11#   47-25#   49-15#
DDHORC  45-14#   49-18#
DDHORZ  45-13#   49-17#
DDIDX   45-5#    47-19#   49-9#
DDJBNO  45-7#    47-21#   49-11#
DDNET   45-30#
DDNFS   48-12    51-36
DDPRVO  45-27#
DDRLO   45-28#
DDS.DX  43-141#
DDS.KB  49-89#   58-14    58-14    58-14    58-14    58-14    58-14    58-14
58-14    58-14    58-14    58-14    58-14    58-14
        58-14    58-14    58-14    58-14    58-14    58-14    58-14    58-14
58-14    58-14    58-14    58-14    58-14    58-14
        58-14    58-14    58-14    58-14    58-14    58-14    58-14    58-14
58-14    58-14    58-14    58-14    58-14    58-14
        58-14    58-14    58-14    58-14    58-14    58-14    58-14    58-14
58-14    58-14    58-14    58-14    58-14    58-14
        58-14    58-14    58-14    58-14    58-14    58-14    58-14    58-14
58-14    58-14    58-14    58-14    58-14    61-8
        61-33
DDS.LP  43-53#
DDS.MM  43-112#
DDS.NL  43-11#
DDS.PK  43-20#
DDS.PP  43-74#
DDS.PR  43-64#
DDSTAT  45-34#
DDSTS   45-6#    47-20#   49-10#
DDTIME  45-9#    47-23#   49-13#
DDUNT   45-8#    47-22#   49-12#
DDUTIL  45-44#
DDWLO   45-29#
DH11    39-18#   49-47    53-13    57-33
DH2741  39-27#   60-34
DJ0NL   39-15#
DJ11    39-14#   53-3     57-23
DJ1NL   39-16#
DJINT   53-6#
DJKBN   55-42#
DJKINT  53-4#
DJONT   53-10#
DL11CD  39-9#    52-15
DL11E   39-10#   49-47    49-63    52-15
DM11BB  39-19#   49-57    49-63    53-33    60-14    61-12    61-22    61-39
DMC11   39-65#   43-39
DSTATS  39-89#
DZ11    39-21#   49-47    53-23    57-47
DZ11AB  39-22#   49-63
DZ2741  39-28#   49-57    59-15
EKOCTL  39-35#   49-29
EKOCTW  49-32#
EKOPNT  49-33#
EMTTBL  54-3     54-5     54-7     54-9     54-11
ENTODT  60-12#
ERC$KB  61-5
ERL$KB  54-18#
FLG.KB  51-34    51-36#
FLG.PK  48-10    48-12#
FLGFRC  48-12    51-36
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE S-3
CROSS REFERENCE TABLE (CREF V01-05 )


FLGKB   48-12    51-36
FLGMOD  48-12    51-36
FLGPOS  51-36
FLGTBL  48-8     51-32
HOR.LP  43-56#
IDX.KB  60-4     60-9
II11    39-69#   43-156
INTSAV  52-5
INTSVX  52-9     52-32    52-32    53-4     53-8
JOBCNT  59-7#
JOBMAX  39-83#   59-11
JSTATS  39-88#
KB2741  49-37
KBBCD   39-31#
KBC360  39-32#
KBCORR  39-29#
KBDAP5  52-10    52-32    52-32    52-34    53-5     53-9     53-39    54-13
54-20
KBDDDB  57-3#    58-14    58-14    58-14    58-14    58-14    58-14    58-14
58-14    58-14    58-14    58-14    58-14    58-14
        58-14    58-14    58-14    58-14    58-14    58-14    58-14    58-14
58-14    58-14    58-14    58-14    58-14    58-14
        58-14    58-14    58-14    58-14    58-14    58-14    58-14    58-14
58-14    58-14    58-14    58-14    58-14    58-14
        58-14    58-14    58-14    58-14    58-14    58-14    58-14    58-14
58-14    58-14    58-14    58-14    58-14    58-14
        58-14    58-14    58-14    58-14    58-14    58-14    58-14    58-14
58-14    58-14    58-14    58-14    58-14
KBDINT  52-3#
KBEBCD  39-30#
KBEDDB  61-9#
KBEFL2  61-7     61-30#
KBEREG  61-11    61-17#
KBESC4  61-21#
KBESCN  61-20#
KBETBL  61-5#
KBETMP  61-19    61-35#
KBEUNT  61-32#
KBFDDB  60-3#
KISAR5  54-13*
KL11    39-7#    52-15
KLKINT  52-5#
KMC11   39-67#   43-166
L$$IST   1-1      1-2     11-49    12-1     12-2     37-50    40-1     40-2
42-28
LCLCPY  45-55#
LMTCNT  59-11#
LOGICL  39-85#
LP11    39-61#   43-49    43-52
MAXCNT  59-10#
MAXJOB  59-8#
MODCLK  49-65#
MULTTY  39-34#   49-81
NOECHO  45-54#
PK11    39-12#   43-16    43-19    47-1     49-47    49-63
PKBHND  48-12
PKDCTL  48-41#
PKINWT  47-27#
PKMODE  47-26#
PP11    39-77#   43-70    43-73
PR11    39-75#   43-60    43-63
PTABLE  60-29#
QSTATS  39-87#
R5      52-5*    52-9*    52-32*   52-32*   53-4*    53-8*
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE S-4
CROSS REFERENCE TABLE (CREF V01-05 )


RAWMEM  58-5#
RJ2780  39-79#   43-30
RUBOUT  45-61#
RX11    39-63#   43-137   43-140
SIZ.KB  51-25    51-27#
SIZ.PK  48-23    48-25#
SIZTBL  48-21    51-23
SL2741  39-26#
SLINT0  52-7#
SLINT1  52-32#
SLONT0  52-11#
SLONT1  52-32#
SLP.KB  43-7#
SLP.PK  43-22#
ST2741  49-43#
STS.KB  51-9#
STS.PK  48-3#
SYSVEN  39-3#
TAPE    45-53#
TC11    39-57#   43-128
TM02    39-51#   43-108   43-111
TM11    39-53#   43-98
TS11    39-55#   43-118
TT2741  45-56#
TTACTV  45-109#
TTBIN   45-68#
TTBREK  45-117#
TTCHAR  45-20#   49-24#
TTCODE  45-114#
TTCRIN  45-120#
TTCRLF  45-70#
TTCRO   45-121#
TTDC11  50-15#
TTDDT   45-52#
TTDE11  50-15#
TTDFIL  45-59#
TTDH11  50-15#
TTDJ11  50-15#
TTDL11  50-15#
TTDLMC  45-16#   49-20#
TTDMBB  60-25#
TTDSBL  45-136#
TTDZ11  50-15#
TTECTL  45-71#
TTEMT   54-14#
TTESC   45-83#
TTESCC  45-17#   49-21#
TTESCI  45-85#
TTFCNT  49-79#
TTFILL  45-140#
TTFORM  45-92#
TTFUNC  45-82#
TTGARD  45-72#
TTHPRT  45-100#
TTHUNG  45-58#
TTINEC  49-31#
TTINPT  45-15#   49-19#
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE S-5
CROSS REFERENCE TABLE (CREF V01-05 )


TTINTF  45-21#   49-25#
TTKL11  50-15#
TTLA30  45-145#
TTLCIN  45-94#
TTLCOU  45-86#
TTLFRC  45-49#
TTMODE  45-18#   49-22#
TTMODM  45-101#
TTMSCN  49-83#
TTMSG   45-60#
TTMUX   45-102#
TTNBIN  45-50#
TTOCVL  45-122#
TTOVFL  45-107#
TTPARM  49-49#
TTPCOL  45-73#
TTPDLM  45-19#   49-23#
TTPK11  50-15#
TTPODD  45-87#
TTPRTY  45-88#
TTRDRN  45-99#
TTRING  49-66#
TTRSX1  45-51#
TTRSX2  45-57#
TTSCOP  45-84#
TTSEQ1  45-115#
TTSEQC  45-116#
TTSTA1  45-123#
TTSTAT  45-124#
TTSTOP  45-64#
TTSUBL  45-98#
TTSXOF  45-62#
TTSYNC  45-90#
TTTAB   45-93#
TTTECO  45-69#
TTTECS  45-75#
TTUC.I  45-113#
TTUC.O  45-118#
TTUPAR  45-89#
TTWRC   45-135#
TTXANY  45-81#
TTXOFF  45-63#
TTXON   45-91#
TTYHCT  59-13#
TTYHND  51-36
TU58    39-59#   43-147
UMR.DX  43-143#
UMR.MM  43-114#
XOFFCH  60-51#
 TTDINT  ROOT TERMINAL SERVICE   MACRO V03.01 18-OCT-86 01:52:07 PAGE M-1
CROSS REFERENCE TABLE (CREF V01-05 )


$KBS    50-11
.BSECT  45-25    45-36    45-47    45-66    45-77    45-111
.DSECT  45-3     45-96    45-104   45-126   45-138   47-17    49-7     50-9
CALL    52-5     52-9     52-32    52-32    53-4     53-8
CALLX   52-5     52-9     52-32    52-32    53-4     53-8
DEFORG  47-7     47-9     47-11    50-1     50-3
DEVICE  43-3     43-9     43-18    43-51    43-62    43-72    43-110   43-139
EMTENT  54-3     54-5     54-7     54-9     54-11
GLOBAL  52-34    53-39    54-20    60-9
KBTYPE  55-6#
ORG     47-7     47-9     47-11    47-29    50-1     50-3     50-5     50-17
SETDDB  56-3#    57-7     57-14    57-16    57-18    57-20    57-30    57-30
TITLE   38-1     44-1     46-1
TMPORG  47-7     47-9     47-11    47-29    48-8     48-21    48-30    48-39
50-1     50-3     50-5     50-17    51-14    51-23
        51-32    57-1     58-3     59-3     61-3
UNORG   47-7#    47-9#    47-11#   47-29#   48-45    50-1#    50-3#    50-5#
50-17#   51-44    54-3     54-5     54-7     54-9
        54-11    57-60    58-16    59-28    61-37
  
COMMON  COMMON DEFINITIONS      MACRO V03.01 18-OCT-86 01:51:56
TABLE OF CONTENTS

    1-   7
    1-   8      COMMON  COMMON DEFINITIONS
    1-   9
    1-  10      EDIT:           DATE:           BY:
    1-  11       07           22-SEP-79         MHB/ABC/SJK/SHG/MJG
    1-  12
    1-  13
    1-  14              COPYRIGHT (C) 1974, 1975, 1976, 1977, 1978, 1979 BY
    1-  15              DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
    1-  16
    1-  17      THIS SOFTWARE IS FURNISHED UNDER A LICENSE AND MAY BE USED AND
COPIED
    1-  18      ONLY  IN  ACCORDANCE  WITH  THE  TERMS  OF  SUCH  LICENSE AND WI
TH THE
    1-  19      INCLUSION OF THE ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE OR  ANY
 OTHER
    1-  20      COPIES  THEREOF MAY NOT BE PROVIDED OR OTHERWISE MADE AVAILABLE
TO ANY
    1-  21      OTHER PERSON.  NO TITLE TO AND OWNERSHIP OF  THE  SOFTWARE  IS
HEREBY
    1-  22      TRANSFERRED.
    1-  23
    1-  24      THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE  WITHOUT
NOTICE
    1-  25      AND  SHOULD  NOT  BE  CONSTRUED  AS  A COMMITMENT BY DIGITAL EQU
IPMENT
    1-  26      CORPORATION.
    1-  27
    1-  28      DIGITAL ASSUMES NO RESPONSIBILITY FOR THE USE  OR  RELIABILITY
OF ITS
    1-  29      SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DIGITAL.
    1-  30
   12-   3
   12-   3      KERNEL  KERNEL MODE DEFINITIONS
   12-   3
   12-   3      EDIT:           DATE:           BY:
   12-   3       07           22-SEP-79         MHB/ABC/MJG/SJK
   12-   3
   38-   1
   38-   1      CONFIG  CONFIGURATION PARAMETERS
   38-   1
   38-   1      EDIT:           DATE:           BY:
   38-   1       07           18-OCT-86         RSTS
   38-   1
   40-   3
   40-   3      CHECK   CHECK CONFIGURATION PARAMETERS
   40-   3
   40-   3      EDIT:           DATE:           BY:
   40-   3       07           22-SEP-79         MHB/SJK
   40-   3
   44-   1
   44-   1      KBDEF   TERMINAL DEFINITIONS
   44-   1
   44-   1      EDIT:           DATE:           BY:
   44-   1       07           22-SEP-79         MHB
   44-   1
   45-   1      STANDARD TERMINAL DDB LAYOUT
   46-   1
   46-   1      TTDVR   TERMINAL DRIVER
   46-   1
   46-   1      EDIT:           DATE:           BY:
   46-   1       07           22-SEP-79         MHB/JDM/WRM/GW/ABC/SJK/RTW/AWR
   46-   1
   47-   1      DEFINE IN LIBRARY "TTDVR"
   47-   2      DEFINE IN LIBRARY "TTMAPD"
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56
TABLE OF CONTENTS

   47-  10
   47-  11      PSEDUO KEYBOARD PROCESSING
   47-  12
   47-  14      MODIFIERS FOR .READ/.WRITE
   48-   1      SPECIAL FUNCTION SERVICE
   49-   1      "SLEEP" CHECKING
   50-   1      TIMEOUTS
   51-   1      DEVICE ASSIGNMENT SERVICE
   51-  22      DEVICE DEASSIGNMENT SERVICE
   52-   1      OPEN SERVICE
   53-   1      CLOSE SERVICE
   54-   1      USER LEVEL SERVICE
   54-  39      USER I/O SERVICE
   58-   1
   58-   2      NORMAL TERMINAL PROCESSING
   58-   3
   58-   5      GLOBALIZE THE CONFIGURATION PARAMETERS
   58-  12      GLOBALIZE THE INTERFACE TYPE VALUES
   59-   1      MODIFIERS FOR .READ/.WRITE
   59-  29      KEYBOARD DRIVER PURE AREA
   60-   1      LOAD ADDRESSES INTO "KBDINT"
   62-   1      ENTRY POINT FOR KB ERROR LOGGING
   63-   1      TIMEOUTS
   71-   3      CHECK IF VALID MULTI-TERMINAL TERMINAL
   72-   1      ROUND-ROBIN MULTI-TERMINAL SCANNER
   73-   1      MULTI-TERMINAL SERVICE CODE
   75-   1      USER LEVEL SERVICE
   77-   1      USER LEVEL OUTPUT SERVICE
   79-   1      USER LEVEL INPUT SERVICE
   81-   1      INPUT STALL
   83-   1      SPECIAL MODE CHECKER
   84-   1      OPEN SERVICE
   86-   1      TERMINAL CLOSE ROUTINE
   88-   1      RELEASE THE TERMINAL
   89-   7      JOB CREATION
   90-   1      "DETACH" A JOB
   91-   3      FIND THE CORRECT SUBLINE ON A MULTIPLEXER
   92-   1      INPUT INTERRUPTS FROM MULTIPLEXED LINES
   92-  35      DJ INPUT INTERRUPT PROCESSING
   94-   1      DZ11 & DJ11 OUTPUT INTERRUPTS
   94-  34      DJ OUTPUT INTERRUPT PROCESSING
   97-   5      GET SUBLINE NUMBER
   98-   1      SET TERMINAL LINE PARAMETERS
  104-   5      FIND THE BASE KB# FOR MULTIPLEXOR INTERRUPTS
  105-   1      FIELD TERMINAL INTERRUPTS (NON-MULTIPLXED)
  107-   1      ENABLE A DATASET
  115-   7      CHARACTER OUTPUT
  120-   1      WIPE OUT THE TERMINAL OUTPUT SIDE
  121-   1      CHARACTER INPUT
  129-   1      HANDLE SPECIAL INPUT CHARACTERS
  129-   3      TAB ON INPUT
  129-  16      ^O ROUTINE
  130-   1      ^Z
  131-   1      CARRIAGE RETURN ON INPUT
  133-   1      LINE FEED ON INPUT
  134-   1      JOB SETUP
  136-   1      ^C HANDLER
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56
TABLE OF CONTENTS

  138-   1      GET MOST RECENTLY STORED CHARACTER FROM INPUT BUFFER
  139-   1      "SLEEP" CHECKING
  140-   1      CHECK FOR INPUT AVAILABLE FROM TERMINAL
  141-   1      ^U HANDLER
  142-   1      BACKSPACE ON INPUT
  142-  24      RUBOUT MODE ROUTINES
  143-   1      RUBOUTS
  145-   1      CHARACTER OUTPUT
  150-   1      CHECK FOR OUTPUT BUFFER AVAILABILITY
  150-  19      FORM FEEDS AND VERTICAL TABS ON INPUT
  151-   1      FILL ROUTINES
  152-   1      TABS ON OUTPUT
  153-   1      OUTPUT CARRIAGE RETURN
  155-   1      LINE FEED ON OUTPUT
  156-   1      OUTPUT SCOPE CONTROL
  156-  32      BACKSPACE ON OUTPUT
  157-   1      ^R AND ^T HANDLERS
  158-   1      CONTROL/G ON INPUT
  158-  21      CONTROL/B ON INPUT
  159-   1      EOT ON INPUT
  159-  18      ALTMODES (ESCAPES)
  160-   1      FORM FEED ON INPUT
  160-  21      SPECIAL INPUT MODE CHARACTERS
  161-   1      XON/XOFF ON INPUT
  162-   1      CHECK AND START UP A LINE ROUTINES
  164-   1      ASCII STRING SENDER
  166-   1      DEVICE ASSIGNMENT SERVICE
  166-  22      DEVICE DEASSIGNMENT SERVICE
  167-   1      CLEAR TERMINAL BUFFER CHAIN(S)/MODE(S)
  169-   1      SPECIAL FUNCTION SERVICE
  173-   8      CHECK FOR ALLOWING ANOTHER JOB
  173-  41      CHECK FOR ALLOWED INCOMING ESCAPE SEQUENCES
  174-   1      RUN READER AND XON TERMINAL INPUT
  175-   1      RSX ORIENTED CHARACTER ROUTINES
  176-   1      CHECK FOR RSX MODE DESIRED/CURRENT
  177-   1      CALL TERMINAL SERVICE PAR6 MAPPED SUBROUTINES
  178-   1      CHARACTER LISTS AND DISPATCH TABLES
  200-   1      SOME USEFUL ASCII STRINGS
 KERNEL  KERNEL MODE DEFINITIONS MACRO V03.01 18-OCT-86 01:51:56 PAGE 38


      1 000020                          TITLE   CONFIG,<CONFIGURATION PARAMETERS
>,07,18-OCT-86,RSTS
                                        .TITLE  CONFIG  CONFIGURATION PARAMETERS
                                        .IDENT  "07.007"
                                        .SBTTL
                                        .SBTTL  CONFIG  CONFIGURATION PARAMETERS
                                        .SBTTL
                                        .SBTTL  EDIT:           DATE:
BY:
                                        .SBTTL   07           18-OCT-86
RSTS
                                        .SBTTL
      2
      3                                 ;
      4                                 ;       COPYRIGHT (C) 1974, 1975, 1976,
1977, 1978, 1979, 198: BY
      5                                 ;       DIGITAL EQUIPMENT CORPORATION, M
AYNARD, MASS.
      6                                 ;
      7                                 ; THIS SOFTWARE IS FURNISHED UNDER A LIC
ENSE AND MAY BE USED AND  COPIED
      8                                 ; ONLY  IN  ACCORDANCE  WITH  THE  TERMS
  OF  SUCH  LICENSE AND WITH THE
      9                                 ; INCLUSION OF THE ABOVE COPYRIGHT NOTIC
E.  THIS SOFTWARE OR  ANY  OTHER
     10                                 ; COPIES  THEREOF MAY NOT BE PROVIDED OR
 OTHERWISE MADE AVAILABLE TO ANY
     11                                 ; OTHER PERSON.  NO TITLE TO AND OWNERSH
IP OF  THE  SOFTWARE  IS  HEREBY
     12                                 ; TRANSFERRED.
     13                                 ;
     14                                 ; THE INFORMATION IN THIS SOFTWARE IS SU
BJECT TO CHANGE  WITHOUT  NOTICE
     15                                 ; AND  SHOULD  NOT  BE  CONSTRUED  AS  A
 COMMITMENT BY DIGITAL EQUIPMENT
     16                                 ; CORPORATION.
     17                                 ;
     18                                 ; DIGITAL ASSUMES NO RESPONSIBILITY FOR
THE USE  OR  RELIABILITY  OF ITS
     19                                 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUP
PLIED BY DIGITAL.
     20                                 ;
 CONFIG  CONFIGURATION PARAMETER MACRO V03.01 18-OCT-86 01:51:56 PAGE 39


      1                                 ; SYSTEM LEVEL
      2
      3         033460                  SYSVEN  =       "07     ;EDIT NUMBER
      4
      5                                 ; TERMINAL TYPES
      6
      7         000020                  KL11    =       16.     ;# OF KL11 TYPE
INTERFACES (INCLUDING CONSOLE)
      8         000000                  DC11    =       0.      ;# OF DC11 TYPE
INTERFACES
      9         000020                  DL11CD  =       16.     ;# OF DL11C AND
DL11D TYPE INTERFACES
     10         000000                  DL11E   =       0.      ;# OF DL11E TYPE
 INTERFACES
     11
     12         000004                  PK11    =       4.      ;# OF PSEUDO-KEY
BOARDS
     13
     14         000002                  DJ11    =       2.      ;# OF DJ11 MULTI
PLEXERS
     15         000020                  DJ0NL   =       16.     ;NUMBER OF LINES
 ENABLED
     16         000020                  DJ1NL   =       16.     ;NUMBER OF LINES
 ENABLED
     17
     18         000000                  DH11    =       0.      ;# OF DH11 MULTI
PLEXERS
     19         000000                  DM11BB  =       0       ;1 IF DM11BB'S;
ELSE 0
     20
     21         000000                  DZ11    =       0.      ;# OF DZ11 MULTI
PLEXERS
     22         000000                  DZ11AB  =       0       ;1 IF DZ11A/B'S;
 ELSE 0
     23
     24                                 ; TERMINAL OPTIONS
     25
     26         000000                  SL2741  =       0       ;1 IF 2741'S ON
SL INTERFACES; ELSE 0
     27         000000                  DH2741  =       0       ;1 IF 2741'S ON
DH11; ELSE 0
     28         000000                  DZ2741  =       0       ;1 IF 2741'S ON
DZ11; ELSE 0
     29         000000                  KBCORR  =       0       ;2741 CORRESPOND
ENCE CODE
     30         000000                  KBEBCD  =       0       ;2741 EBCD CODE
     31         000000                  KBBCD   =       0       ;2741 BCD  CODE
     32         000000                  KBC360  =       0       ;2741 CALL 360 B
ASIC CODE
     33
     34         000001                  MULTTY  =       1       ;1 IF MULTI-TERM
INAL OPTION; ELSE 0
     35         000001                  EKOCTL  =       1       ;1 IF ECHO CONTR
OL OPTION; ELSE 0
     36
     37                                 ; DISKS
     38
     39         000000                  CNT.DC  =       0.      ;1. IF RC11/RS64
; ELSE 0
     40         000000                  CNT.DF  =       0.      ;1. IF RF11/RS11
; ELSE 0
     41         000000                  CNT.DS  =       0.      ;# OF RS03/RS04'
S; ELSE 0
     42         000000                  CNT.DK  =       0.      ;# OF RK05'S; EL
SE 0
     43         000004                  CNT.DL  =       4.      ;# OF RL01'S; EL
SE 0
     44         000000                  CNT.DM  =       0.      ;# OF RK06/7'S;
ELSE 0
     45         000000                  CNT.DP  =       0.      ;# OF RP02/RP03'
S; ELSE 0
     46         000010                  CNT.DR  =       8.      ;# OF RM02/3'S;
ELSE 0
     47         000010                  CNT.DB  =       8.      ;# OF RP04/5/6'S
; ELSE 0
     48
     49                                 ; OTHER DEVICES
     50
     51         000002                  TM02    =       2.      ;# OF TU16/TE16/
TU45/TU77'S; ELSE 0
     52
     53         000000                  TM11    =       0.      ;# OF TU10/TE10/
TS03'S; ELSE 0
     54
     55         000000                  TS11    =       0.      ;# OF TS11'S; EL
SE 0
     56
     57         000000                  TC11    =       0.      ;# OF DECTAPE DR
IVES; ELSE 0
 CONFIG  CONFIGURATION PARAMETER MACRO V03.01 18-OCT-86 01:51:56 PAGE 39-1


     58
     59         000000                  TU58    =       0.      ;# OF DECTAPE II
 DRIVES; ELSE 0
     60
     61         000001                  LP11    =       1.      ;# OF LINE PRINT
ERS; ELSE 0
     62
     63         000010                  RX11    =       8.      ;# OF FLOPPY DRI
VES; ELSE 0
     64
     65         000000                  DMC11   =       0.      ;# OF DMC11'S; E
LSE 0
     66
     67         000000                  KMC11   =       0.      ;# OF KMC11'S; E
LSE 0
     68
     69         000000                  II11    =       0.      ;# OF KMC/3271 L
INKS; ELSE 0
     70
     71         000000                  CR11    =       0.      ;1 IF CR11/CM11;
 ELSE 0
     72
     73         000000                  CD11    =       0.      ;1 IF CD11; ELSE
 0
     74
     75         000001                  PR11    =       1.      ;1 IF PAPER TAPE
 READER; ELSE 0
     76
     77         000001                  PP11    =       1.      ;1 IF PAPER TAPE
 PUNCH; ELSE 0
     78
     79         000000                  RJ2780  =       0       ;"DP OR "DU FOR
2780; ELSE 0
     80
     81                                 ; SYSTEM PARAMETERS
     82
     83         000030                  JOBMAX  =       24.     ;MAXIMUM # OF JO
BS
     84
     85         000012                  LOGICL  =       10.     ;# OF SYSTEM WID
E LOGICALS
     86
     87         000001                  QSTATS  =       1       ;1 FOR QUEUE STA
TISTICS
     88         000001                  JSTATS  =       1       ;1 FOR JOB STATI
STICS
     89         000001                  DSTATS  =       1       ;1 FOR DISK STAT
ISTICS
 CHECK   CHECK CONFIGURATION PAR MACRO V03.01 18-OCT-86 01:51:56 PAGE 43


      1                                 ; REQUIRED DEVICES
      2
      3 000020                          DEVICE  KB,TT           ;TERMINALS
      4         000104                  CNT.KB  =       CNT.KB  ; # OF TERMINALS
      5                                 ;DDS.KB =               ; SIZE OF DDB DE
TERMINED LATER
      6         000001                  CCC.KB  =       1       ; DEVICE IS CONT
ROL/C INTERRUPTABLE
      7         000001                  SLP.KB  =       1       ; DEVICE CHECKIN
G NEEDED BEFORE "SLEEP"
      8
      9 000020                          DEVICE  NL              ;NULL DEVICE
     10         000001                  CNT.NL  =       1.      ; ONLY NL0: PLEA
SE
     11         000010                  DDS.NL  =       10      ; 10 BYTE DDB'S
     12         000000                  CCC.NL  =       0       ; DEVICE IS NOT
CONTROL/C INTERRUPTABLE
     13
     14                                 ; OPTIONAL DEVICES
     15
     16                                 .IF     NE      PK11
     17
     18 000020                          DEVICE  PK              ;PSEUDO-KEYBOARD
S
     19         000004                  CNT.PK  =       PK11    ; # OF PSEUDO-KE
YBOARDS
     20         000014                  DDS.PK  =       14      ; 14 BYTE DDB'S
     21         000001                  CCC.PK  =       1       ; DEVICE IS CONT
ROL/C INTERRUPTABLE
     22         000001                  SLP.PK  =       1       ; DEVICE CHECKIN
G NEEDED BEFORE "SLEEP"
     23
     24                                 .IFF
     25
     26                                 CNT.PK  =       0.      ;NO PSEUDO-KEYBO
ARDS
     27
     28                                 .ENDC
     29
     30                                 .IF     NE      RJ2780
     31
     32                                 DEVICE  RJ,,<IDL>       ;2780 REMOTE JOB
 ENTRY
     33                                 CNT.RJ  =       1.      ; ONLY RJ0: PLEA
SE
     34                                 DDS.RJ  =       14      ; 14 BYTE DDB'S
     35                                 CCC.RJ  =       0       ; DEVICE IS NOT
CONTROL/C INTERRUPTABLE
     36
     37                                 .ENDC
     38
     39                                 .IF     NE      DMC11
     40
     41                                 DEVICE  XM,,<DNE>       ;DDCMP NPR LINE
INTERFACE
     42                                 CNT.XM  =       DMC11   ; # OF INTERFACE
S
     43                                 DDS.XM  =       60      ; 60 BYTE DDB'S
     44                                 CCC.XM  =       1       ; DEVICE IS CONT
ROL/C INTERRUPTABLE
     45                                 SLP.XM  =       1       ; DEVICE CHECKIN
G NEEDED BEFORE "SLEEP"
     46
     47                                 .ENDC
     48
     49                                 .IF     NE      LP11
     50
     51 000020                          DEVICE  LP              ;LINE PRINTER
     52         000001                  CNT.LP  =       LP11    ; # OF PRINTERS
     53         000040                  DDS.LP  =       40      ; 40 BYTE DDB'S
(AUX PROC ASSISTED)
     54         000001                  CCC.LP  =       1       ; DEVICE IS CONT
ROL/C INTERRUPTABLE
     55         000024                  BFQ.LP  =       20.     ; BUFFER QUOTA
     56         000120                  HOR.LP  =       80.     ; HORIZONTAL WID
TH
     57
 CHECK   CHECK CONFIGURATION PAR MACRO V03.01 18-OCT-86 01:51:56 PAGE 43-1


     58                                 .ENDC
     59
     60                                 .IF     NE      PR11
     61
     62 000020                          DEVICE  PR              ;PAPER TAPE READ
ER
     63         000001                  CNT.PR  =       PR11    ; # OF READERS
     64         000020                  DDS.PR  =       20      ; 20 BYTE DDB'S
     65         000001                  CCC.PR  =       1       ; DEVICE IS CONT
ROL/C INTERRUPTABLE
     66         000012                  BFQ.PR  =       10.     ; BUFFER QUOTA
     67
     68                                 .ENDC
     69
     70                                 .IF     NE      PP11
     71
     72 000020                          DEVICE  PP              ;PAPER TAPE PUNC
H
     73         000001                  CNT.PP  =       PP11    ; # OF PUNCHES
     74         000020                  DDS.PP  =       20      ; 20 BYTE DDB'S
     75         000001                  CCC.PP  =       1       ; DEVICE IS CONT
ROL/C INTERRUPTABLE
     76         000012                  BFQ.PP  =       10.     ; BUFFER QUOTA
     77
     78                                 .ENDC
     79
     80                                 .IF     NE      CR11
     81
     82                                 DEVICE  CR              ;COLUMN INTERRUP
T CARD READER
     83                                 CNT.CR  =       CR11    ; # OF READERS
     84                                 DDS.CR  =       262     ; 262 BYTE DDB'S
     85                                 CCC.CR  =       1       ; DEVICE IS CONT
ROL/C INTERRUPTABLE
     86
     87                                 .ENDC
     88
     89                                 .IF     NE      CD11
     90
     91                                 DEVICE  CD,CR           ;NPR CARD READER
     92                                 CNT.CD  =       CD11    ; # OF READERS
     93                                 DDS.CD  =       262     ; 262 BYTE DDB'S
     94                                 CCC.CD  =       1       ; DEVICE IS CONT
ROL/C INTERRUPTABLE
     95
     96                                 .ENDC
     97
     98                                 .IF     NE      TM11
     99
    100                                 DEVICE  MT,,<CON,DNE>   ;TU10/TE10/TS03
MAGTAPE
    101                                 CNT.MT  =       TM11    ; # OF DRIVES
    102                                 DDS.MT  =       46      ; 46 BYTE DDB'S
    103                                 CCC.MT  =       0       ; DEVICE IS NOT
CONTROL/C INTERRUPTABLE
    104                                 UMR.MT  =       1       ; DEVICE HANDLES
 UNUBUS MAP ENTRIES
    105
    106                                 .ENDC
    107
    108                                 .IF     NE      TM02
    109
    110 000020                          DEVICE  MM,MT,<CON,DNE> ;TU16/TE16/TU45
MAGTAPE
    111         000002                  CNT.MM  =       TM02    ; # OF DRIVES
    112         000046                  DDS.MM  =       46      ; 46 BYTE DDB'S
    113         000000                  CCC.MM  =       0       ; DEVICE IS NOT
CONTROL/C INTERRUPTABLE
    114         000001                  UMR.MM  =       1       ; DEVICE HANDLES
 UNIBUS MAP ENTRIES
 CHECK   CHECK CONFIGURATION PAR MACRO V03.01 18-OCT-86 01:51:56 PAGE 43-2


    115
    116                                 .ENDC
    117
    118                                 .IF     NE      TS11
    119
    120                                 DEVICE  MS,MT,<DNE,CON> ;TS11 MAGTAPE
    121                                 CNT.MS  =       TS11    ; # OF DRIVES
    122                                 DDS.MS  =       120     ; 120 BYTE DDB'S
    123                                 CCC.MS  =       0       ; DEVICE IS NOT
CONTROL/C INTERRUPTABLE
    124                                 UMR.MS  =       1       ; DEVICE HANDLES
 UNIBUS MAP ENTRIES
    125
    126                                 .ENDC
    127
    128                                 .IF     NE      TC11
    129
    130                                 DEVICE  DT,,<FIP,DNE,RES> ;DECTAPE
    131                                 CNT.DT  =       TC11    ; # OF DRIVES
    132                                 DDS.DT  =       40      ; 40 BYTE DDB'S
    133                                 CCC.DT  =       0       ; DEVICE IS NOT
CONTROL/C INTERRUPTABLE
    134
    135                                 .ENDC
    136
    137                                 .IF     NE      RX11
    138
    139 000020                          DEVICE  DX,DY,<CON>     ;FLOPPY DISK
    140         000010                  CNT.DX  =       RX11    ; # OF DRIVES
    141         000034                  DDS.DX  =       34      ; 34 BYTE DDB'S
    142         000000                  CCC.DX  =       0       ; DEVICE IS NOT
CONTROL/C INTERRUPTABLE
    143         000001                  UMR.DX  =       1       ; DEVICE HANDLES
 UNIBUS MAP ENTRIES
    144
    145                                 .ENDC
    146
    147                                 .IF     NE      TU58
    148
    149                                 DEVICE  DD,,<CON>       ;DECTAPE II
    150                                 CNT.DD  =       TU58    ; # OF DRIVES
    151                                 DDS.DD  =       32      ; 32 BYTE DDB'S
    152                                 CCC.DD  =       0       ; DEVICE IS NOT
CONTROL/C INTERRUPTABLE
    153
    154                                 .ENDC
    155
    156                                 .IF     NE      II11
    157
    158                                 DEVICE  II              ;IBM INTERFACE D
UP-11
    159                                 CNT.II  =       II11    ; # OF DRIVES
    160                                 DDS.II  =       24      ; 24 BYTE DDB'S
    161                                 CCC.II  =       1       ; DEVICE IS CONT
ROL/C INTERRUPTABLE
    162                                 SLP.II  =       1       ; DEVICE NEEDS C
HECK FOR SLEEP
    163
    164                                 .ENDC
    165
    166                                 .IF     NE      KMC11
    167
    168                                 DEVICE  XK              ;KMC-11 MICRO-PR
OCESSOR
    169                                 CNT.XK  =       KMC11   ; # OF DRIVES
    170                                 DDS.XK  =       46      ; 46 BYTE DDB'S
    171                                 CCC.XK  =       0       ; DEVICE IS NOT
CONTROL/C INTERRUPTABLE
 CHECK   CHECK CONFIGURATION PAR MACRO V03.01 18-OCT-86 01:51:56 PAGE 43-3


    172
    173                                 .ENDC
 CHECK   CHECK CONFIGURATION PAR MACRO V03.01 18-OCT-86 01:51:56 PAGE 44


      1 000020                          TITLE   KBDEF,<TERMINAL DEFINITIONS>,07,
22-SEP-79,MHB
                                        .TITLE  KBDEF   TERMINAL DEFINITIONS
                                        .IDENT  "07.007"
                                        .SBTTL
                                        .SBTTL  KBDEF   TERMINAL DEFINITIONS
                                        .SBTTL
                                        .SBTTL  EDIT:           DATE:
BY:
                                        .SBTTL   07           22-SEP-79
MHB
                                        .SBTTL
      2
      3                                 ;
      4                                 ;       COPYRIGHT (C) 1974, 1975, 1976,
1977, 1978, 1979 BY
      5                                 ;       DIGITAL EQUIPMENT CORPORATION, M
AYNARD, MASS.
      6                                 ;
      7                                 ; THIS SOFTWARE IS FURNISHED UNDER A LIC
ENSE AND MAY BE USED AND  COPIED
      8                                 ; ONLY  IN  ACCORDANCE  WITH  THE  TERMS
  OF  SUCH  LICENSE AND WITH THE
      9                                 ; INCLUSION OF THE ABOVE COPYRIGHT NOTIC
E.  THIS SOFTWARE OR  ANY  OTHER
     10                                 ; COPIES  THEREOF MAY NOT BE PROVIDED OR
 OTHERWISE MADE AVAILABLE TO ANY
     11                                 ; OTHER PERSON.  NO TITLE TO AND OWNERSH
IP OF  THE  SOFTWARE  IS  HEREBY
     12                                 ; TRANSFERRED.
     13                                 ;
     14                                 ; THE INFORMATION IN THIS SOFTWARE IS SU
BJECT TO CHANGE  WITHOUT  NOTICE
     15                                 ; AND  SHOULD  NOT  BE  CONSTRUED  AS  A
 COMMITMENT BY DIGITAL EQUIPMENT
     16                                 ; CORPORATION.
     17                                 ;
     18                                 ; DIGITAL ASSUMES NO RESPONSIBILITY FOR
THE USE  OR  RELIABILITY  OF ITS
     19                                 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUP
PLIED BY DIGITAL.
     20                                 ;
 KBDEF   TERMINAL DEFINITIONS    MACRO V03.01 18-OCT-86 01:51:56 PAGE 45
STANDARD TERMINAL DDB LAYOUT

      1                                 .SBTTL  STANDARD TERMINAL DDB LAYOUT
      2
      3 000020                          .DSECT
      4
      5 000000                          DDIDX:  .BLKB           ;DRIVER INDEX [I
DX.KB]
      6 000001                          DDSTS:  .BLKB           ;STATUS AND ACCE
SS CONTROL BYTE
      7 000002                          DDJBNO: .BLKB           ;OWNER JOB NUMBE
R TIMES 2 (0 IF FREE)
      8 000003                          DDUNT:  .BLKB           ;DEVICE UNIT NUM
BER
      9 000004                          DDTIME: .BLKW           ;TIME ASSIGNED O
R INITED
     10 000006                          DDCNT:  .BLKW           ;INIT COUNT AND
ASSIGNMENT CONTROL
     11 000010                          DDFLAG: .BLKW           ;DEVICE DEPENDEN
T FLAGS
     12 000012                          DDBUFC: .BLKB   BCBSIZ  ;BUFFER CHAIN CO
NTROL AREA (OUTPUT)
     13 000020                          DDHORZ: .BLKB           ;HORIZONTAL POSI
TION
     14 000021                          DDHORC: .BLKB           ;CHARACTERS PER
LINE+1
     15 000022                          TTINPT: .BLKB   BCBSIZ  ;BUFFER CHAIN CO
NTROL AREA (INPUT)
     16 000030                          TTDLMC: .BLKB           ;DELIMITER COUNT
ER
     17 000031                          TTESCC: .BLKB           ;INCOMING ESCAPE
 SEQUENCE CONTROL
     18 000032                          TTMODE: .BLKB           ;CURRENT "MODE"
     19 000033                          TTPDLM: .BLKB           ;TERMINAL'S PRIV
ATE DELIMITER
     20 000034                          TTCHAR: .BLKW           ;TERMINAL'S CHAR
ACTERISTICS
     21 000036                          TTINTF: .BLKW           ;TERMINAL INTERF
ACE TYPE
     22
     23                                 ; BIT ASSIGNMENTS FOR TERMINAL DDB STATU
S WORDS ARE AS FOLLOWS:
     24
     25 000040                          .BSECT  HIGH            ;IN DDSTS (AS A
WORD)
     26
     27 000400                          DDPRVO: .BLKB   .       ;OWNERSHIP REQUI
RES PRIV'S
     28 001000                          DDRLO:  .BLKB   .       ;READ LOCK FOR D
EVICE IF SET [0]
     29 002000                          DDWLO:  .BLKB   .       ;WRITE-LOCK FOR
DEVICE IF SET [0]
     30 004000                          DDNET:  .BLKB   .       ;NETWORK DEVICE
     31                                         .BLKB   .       ;RESERVED
     32                                         .BLKB   .       ;RESERVED
     33                                         .BLKB   .       ;RESERVED
     34 100000                          DDSTAT: .BLKB   .       ;JUNK PROGRAMMED
 OUTPUT (CONTROL/O)
     35
     36 000000                          .BSECT  HIGH            ;IN DDCNT (AS A
WORD)
     37
     38                                         .BLKB   .       ;RESERVED
     39                                         .BLKB   .       ;RESERVED
     40                                         .BLKB   .       ;RESERVED
     41                                         .BLKB   .       ;RESERVED
     42                                         .BLKB   .       ;RESERVED
     43 020000                          DDCONS: .BLKB   .       ;DEVICE IS THE C
ONSOLE DEVICE
     44 040000                          DDUTIL: .BLKB   .       ;DEVICE ASSIGNED
 FOR UTILTY SEQUENCE
     45 100000                          DDASN:  .BLKB   .       ;DEVICE ASSIGNED
 THROUGH COMMAND
     46
     47 000000                          .BSECT                  ;IN DDFLAG [INTE
RNAL STATUS]
     48
     49 000001                          TTLFRC: .BLKB   .       ;ON AFTER FORCE/
BROADCAST; OFF ON CONTROL/C
     50 000002                          TTNBIN: .BLKB   .       ;OUTPUT NEXT IN
BINARY MODE
     51 000004                          TTRSX1: .BLKB   .       ;CURRENT RSX MOD
E LOW ORDER BIT
     52 000010                          TTDDT:  .BLKB   .       ;DDT SUB-MODE
     53 000020                          TAPE:   .BLKB   .       ;TAPE MODE
     54 000040                          NOECHO: .BLKB   .       ;NOT ECHOING
     55 000100                          LCLCPY: .BLKB   .       ;LOCAL COPY
     56 000200                          TT2741: .BLKB   .       ;2741 TYPE TERMI
NAL
     57 000400                          TTRSX2: .BLKB   .       ;CURRENT RSX MOD
E HIGH ORDER BIT
 KBDEF   TERMINAL DEFINITIONS    MACRO V03.01 18-OCT-86 01:51:56 PAGE 45-1
STANDARD TERMINAL DDB LAYOUT

     58 001000                          TTHUNG: .BLKB   .       ;TERMINAL "HANG"
 PENDING
     59 002000                          TTDFIL: .BLKB   .       ;DELAY FILL TO N
EXT CHARACTER
     60 004000                          TTMSG:  .BLKB   .       ;PROCESSING INCO
MING MESSAGE
     61 010000                          RUBOUT: .BLKB   .       ;PROCESSING RUBO
UT'S
     62 020000                          TTSXOF: .BLKB   .       ;SEND XOFF AS SO
ON AS POSSIBLE
     63 040000                          TTXOFF: .BLKB   .       ;AN XOFF WAS SEN
T
     64 100000                          TTSTOP: .BLKB   .       ;OUTPUT TEMPORAR
ILY STOPPED
     65
     66 000000                          .BSECT                  ;IN TTMODE [CURR
ENT MODE]
     67
     68 000001                          TTBIN:  .BLKB   .       ;BINARY INPUT MO
DE      (  1.)
     69 000002                          TTTECO: .BLKB   .       ;TECO MODE
(  2.)
     70 000004                          TTCRLF: .BLKB   .       ;NO AUTO CR/LF M
ODE     (  4.)
     71 000010                          TTECTL: .BLKB   .       ;ECHO CONTROL MO
DE      (  8.)
     72 000020                          TTGARD: .BLKB   .       ;GUARDED TERMINA
L MODE  ( 16.)
     73 000040                          TTPCOL: .BLKB   .       ;CHECK INCOMING
XON/XOFF( 32.)
     74                                         .BLKB   .       ;RESERVED
( 64.)
     75 000200                          TTTECS: .BLKB   .       ;TECO SCOPE MODE
(128.)
     76
     77 000400                          .BSECT                  ;IN TTCHAR [TERM
INAL'S CHARACTERISTICS]
     78
     79                                         .BLKB   .       ;RESERVED
     80                                         .BLKB   .       ;RESERVED
     81 000004                          TTXANY: .BLKB   .       ;DO "XON" ON ANY
 CHARACTER
     82 000010                          TTFUNC: .BLKB   .       ;DISABLE SPECIAL
 FUNCTION CHARACTERS
     83 000020                          TTESC:  .BLKB   .       ;TERMINAL HAS RE
AL ESCAPE
     84 000040                          TTSCOP: .BLKB   .       ;SCOPE TYPE TERM
INAL
     85 000100                          TTESCI: .BLKB   .       ;ALLOW INCOMING
ESCAPE SEQUENCES
     86 000200                          TTLCOU: .BLKB   .       ;ALLOW LOWER CAS
E OUTPUT
     87 000400                          TTPODD: .BLKB   .       ;DESIRED PARITY
IS ODD
     88 001000                          TTPRTY: .BLKB   .       ;CHECK AND SEND
WITH PARITY
     89 002000                          TTUPAR: .BLKB   .       ;PREFIX CONTROLS
 WITH UPARROW
     90 004000                          TTSYNC: .BLKB   .       ;STOP OUTPUT IF
XOFF RECEIVED
     91 010000                          TTXON:  .BLKB   .       ;SENDING XOFF WI
LL STOP INPUT
     92 020000                          TTFORM: .BLKB   .       ;HARDWARE FORM F
EED/VERTICAL TAB EXIST
     93 040000                          TTTAB:  .BLKB   .       ;HARDWARE HORIZO
NTAL TAB EXISTS
     94 100000                          TTLCIN: .BLKB   .       ;ALLOW LOWER CAS
E INPUT
     95
     96 000000                          .DSECT  7400            ;IN TTINTF [INTE
RFACE CHARACTERISTICS]
     97
     98 007400                          TTSUBL: .BLKB   400     ;SUB-LINE NUMBER
     99 010000                          TTRDRN: .BLKB   .       ;READER RUN CONT
ROL
    100 020000                          TTHPRT: .BLKB   .       ;HARDWARE PARITY
    101 040000                          TTMODM: .BLKB   .       ;MODEM CONTROL
    102 100000                          TTMUX:  .BLKB   .       ;MULTIPLEXOR
    103
    104 000000                          .DSECT  177             ;IN EKOCTW AND E
KOPNT (AS A WORD)
    105
    106                                         .BLKB           ;FIELD SIZE
    107 000200                          TTOVFL: .BLKB   77200   ;ECHO CONTROL "K
EYPUNCH" MODE
    108                                         .BLKB   400     ;PAINT CHARACTER
    109 100000                          TTACTV: .BLKB   .       ;FIELD IS ACTIVE
    110
    111 000000                          .BSECT                  ;IN ST2741 [2741
 CONTROL]
    112
    113 000001                          TTUC.I: .BLKB   5       ;INPUT CASE IS U
PPER CASE
    114 000006                          TTCODE: .BLKB   2       ;CODE TABLE INDE
X
 KBDEF   TERMINAL DEFINITIONS    MACRO V03.01 18-OCT-86 01:51:56 PAGE 45-2
STANDARD TERMINAL DDB LAYOUT

    115 000010                          TTSEQ1: .BLKB   360     ;BASE UNIT OF SE
QUENCE COUNTER
    116 000370                          TTSEQC: .BLKB   10      ;SEQUENCE COUNTE
R
    117 000400                          TTBREK: .BLKB   .       ;SEQUENCE IS REV
ERSE BREAK
    118 001000                          TTUC.O: .BLKB   .       ;OUTPUT CASE IS
UPPER CASE
    119                                         .BLKB   .       ;RESERVED
    120 004000                          TTCRIN: .BLKB   .       ;CR WAS RECEIVED
    121 010000                          TTCRO:  .BLKB   .       ;CR WAS SENT
    122 020000                          TTOCVL: .BLKB   .       ;OUTPUT CASE IS
VALID
    123 040000                          TTSTA1: .BLKB   100000  ;BASE UNIT OF TE
RMINAL STATE
    124 140000                          TTSTAT: .BLKB           ;CURRENT TERMINA
L STATE
    125
    126 140001                          .DSECT  377             ;IN MODCLK
    127
    128                                         .BLKB           ;MODEM TIMER
    129                                         .BLKB   .       ;RESERVED
    130                                         .BLKB   .       ;RESERVED
    131                                         .BLKB   .       ;RESERVED
    132                                         .BLKB   .       ;RESERVED
    133                                         .BLKB   .       ;RESERVED
    134                                         .BLKB   .       ;RESERVED
    135 040000                          TTWRC:  .BLKB   .       ;WAITING FOR CAR
RIER AFTER RING
    136 100000                          TTDSBL: .BLKB   .       ;LINE NOT ANSWER
ED
    137
    138 000000                          .DSECT  7               ;IN TTFCNT [FILL
 CHARACTERISTICS]
    139
    140 000007                          TTFILL: .BLKB           ;FILL FACTOR
    141                                         .BLKB   .       ;RESERVED
    142                                         .BLKB   .       ;RESERVED
    143                                         .BLKB   .       ;RESERVED
    144                                         .BLKB   .       ;RESERVED
    145 000200                          TTLA30: .BLKB   .       ;SPECIAL SERIAL
LA30 FILL
 KBDEF   TERMINAL DEFINITIONS    MACRO V03.01 18-OCT-86 01:51:56 PAGE 46
STANDARD TERMINAL DDB LAYOUT

      1 000400                          TITLE   TTDVR,<TERMINAL DRIVER>,07,22-SE
P-79,MHB/JDM/WRM/GW/ABC/SJK/RTW/AWR
                                        .TITLE  TTDVR   TERMINAL DRIVER
                                        .IDENT  "07.007"
                                        .SBTTL
                                        .SBTTL  TTDVR   TERMINAL DRIVER
                                        .SBTTL
                                        .SBTTL  EDIT:           DATE:
BY:
                                        .SBTTL   07           22-SEP-79
MHB/JDM/WRM/GW/ABC/SJK/RTW/AWR
                                        .SBTTL
      2
      3                                 ;
      4                                 ;       COPYRIGHT (C) 1974, 1975, 1976,
1977, 1978, 1979 BY
      5                                 ;       DIGITAL EQUIPMENT CORPORATION, M
AYNARD, MASS.
      6                                 ;
      7                                 ; THIS SOFTWARE IS FURNISHED UNDER A LIC
ENSE AND MAY BE USED AND  COPIED
      8                                 ; ONLY  IN  ACCORDANCE  WITH  THE  TERMS
  OF  SUCH  LICENSE AND WITH THE
      9                                 ; INCLUSION OF THE ABOVE COPYRIGHT NOTIC
E.  THIS SOFTWARE OR  ANY  OTHER
     10                                 ; COPIES  THEREOF MAY NOT BE PROVIDED OR
 OTHERWISE MADE AVAILABLE TO ANY
     11                                 ; OTHER PERSON.  NO TITLE TO AND OWNERSH
IP OF  THE  SOFTWARE  IS  HEREBY
     12                                 ; TRANSFERRED.
     13                                 ;
     14                                 ; THE INFORMATION IN THIS SOFTWARE IS SU
BJECT TO CHANGE  WITHOUT  NOTICE
     15                                 ; AND  SHOULD  NOT  BE  CONSTRUED  AS  A
 COMMITMENT BY DIGITAL EQUIPMENT
     16                                 ; CORPORATION.
     17                                 ;
     18                                 ; DIGITAL ASSUMES NO RESPONSIBILITY FOR
THE USE  OR  RELIABILITY  OF ITS
     19                                 ; SOFTWARE ON EQUIPMENT WHICH IS NOT SUP
PLIED BY DIGITAL.
     20                                 ;
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 47


      1 000400                                  DEFORG  TTDVR
      2 000000                                  DEFORG  TTMAPD
      3         000000'                 $$TTMP  ==      .       ;**INIT** START
OF TERMINAL SERVICE MAPPED CODE
      4 000000                                  ORG     TTSYST
      5
      6 000000                                  ORG     TTDVR
      7
      8                                 .IF     NE      PK11
      9
     10                                 .SBTTL
     11                                 .SBTTL  PSEDUO KEYBOARD PROCESSING
     12                                 .SBTTL
     13
     14                                 .SBTTL  MODIFIERS FOR .READ/.WRITE
     15
     16 000000                          .BSECT                  ;.READ MODIFIERS
     17
     18                                         .BLKB   .       ;    +1., UNUSED
     19                                         .BLKB   .       ;    +2., UNUSED
     20                                         .BLKB   .       ;    +4., UNUSED
     21                                         .BLKB   .       ;    +8., UNUSED
     22                                         .BLKB   .       ;   +16., UNUSED
     23                                         .BLKB   .       ;   +32., UNUSED
     24                                         .BLKB   .       ;   +64., UNUSED
     25                                         .BLKB   .       ;  +128., UNUSED
     26                                         .BLKB   .       ;  +256., UNUSED
     27                                         .BLKB   .       ;  +512., UNUSED
     28                                         .BLKB   .       ; +1024., UNUSED
     29                                         .BLKB   .       ; +2048., UNUSED
     30                                         .BLKB   .       ; +4096., UNUSED
     31                                         .BLKB   .       ; +8192., UNUSED
     32                                         .BLKB   .       ;+16384., UNUSED
     33                                         .BLKB   .       ;+32768., UNUSED
     34
     35 000000                          .BSECT                  ;.WRITE MODIFIER
S
     36
     37 000001                          PO.NCK::.BLKB   .       ;    +1., DON'T
CHECK STATUS OF JOB
     38 000002                          PO.CKC::.BLKB   .       ;    +2., CHECK
FOR NEEDING CONTROL/C
     39 000004                          PO.NTX::.BLKB   .       ;    +4., DON'T
TRANSFER ANYTHING
     40 000010                          PO.STL::.BLKB   .       ;    +8., STALL
IF JOB CAN'T ACCEPT INPUT
     41 000020                          PO.KIL::.BLKB   .       ;   +16., KILL T
HE JOB
     42 000040                          PO.FCR::.BLKB   .       ;   +32., FAKE A
 <CR> (RESET TO LEFT MARGIN)
     43                                         .BLKB   .       ;   +64., UNUSED
     44                                         .BLKB   .       ;  +128., UNUSED
     45                                         .BLKB   .       ;  +256., UNUSED
     46                                         .BLKB   .       ;  +512., UNUSED
     47                                         .BLKB   .       ; +1024., UNUSED
     48                                         .BLKB   .       ; +2048., UNUSED
     49                                         .BLKB   .       ; +4096., UNUSED
     50                                         .BLKB   .       ; +8192., UNUSED
     51                                         .BLKB   .       ;+16384., UNUSED
     52                                         .BLKB   .       ;+32768., UNUSED
     53
     54 000000                                  UNORG
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 48
SPECIAL FUNCTION SERVICE

      1                                 .SBTTL  SPECIAL FUNCTION SERVICE
      2
      3                                 ;+
      4                                 ; SPC$PK - SPECIAL FUNCTION SERVICE FOR
PSEUDO KEYBOARDS.
      5                                 ;
      6                                 ;       R0 =  UNIT NUMBER TIMES 2
      7                                 ;       R1 -> DDB/FCB
      8                                 ;       R2 =  SPECIAL FUNCTION CODE
      9                                 ;       R3 -> XRB
     10                                 ;       R4 =  CALLING JOB NUMBER TIMES 2
     11                                 ;       R5 -> (MAPPED) XRB
     12                                 ;
     13                                 ;       ...
     14                                 ;
     15                                 ;       JMP     RTI3
     16                                 ;
     17                                 ;       -OR-
     18                                 ;
     19                                 ;       ERROR   CODE
     20                                 ;
     21                                 ; LEGAL FUNCTIONS ARE:
     22                                 ;
     23                                 ;       0       READ/WRITE THE NOECHO BI
T OF THE PK'S KB.
     24                                 ;-
     25
     26 000000                                  TMPORG  SPCTBL,6
     27
     28 000006  000000'                         .WORD   SPC$PK
     29
     30 000010                                  UNORG
     31
     32 000000  005723                  SPC$PK::TST     (R3)+
;IS THIS A VALID SPECIAL FUNCTION?
     33 000002  001024                          BNE     20$
;NO, QUIT
     34 000004  120461  000002                  CMPB    R4,DDJBNO(R1)
;DOES THIS USER OWN THE PK:?
     35 000010  001022                          BNE     30$
;NO GIVE AN ERROR
     36 000012                                  CALL    PKTOKB
;GET KB# AND KB DDB POINTER
        000012  004767  000050                   JSR    PC,PKTOKB
     37 000016  016165  000010  000002          MOV     DDFLAG(R1),XRBC(R5)
;GIVE USER DDFLAG IN XRB+XRBC
     38 000024  105723                          TSTB    (R3)+
;IF <0 THEN WRITE ELSE READ
     39 000026  100010                          BPL     10$
;READ ONLY CALL
     40 000030  042761  000040  000010          BIC     #NOECHO,DDFLAG(R1)
;ASSUME FUNCTION IS CLEAR NO ECHO BIT
     41 000036  105723                          TSTB    (R3)+
;IF <0 THEN SET BIT ELSE CLEAR
     42 000040  100003                          BPL     10$
;CLEAR THE NO ECHO BIT SO ALL DONE
     43 000042  052761  000040  000010          BIS     #NOECHO,DDFLAG(R1)
;SET NO ECHO BIT
     44 000050                          10$:    JMPX    RTI3
;THAT'S ALL FOR NOW
        000050  000137  000000G                  JMP    @#RTI3
     45
     46 000054                          20$:    ERROR   PRVIOL
;INVALID SPECIAL FUNCTION CODE
        000054  104400G                          .WORD  TRAP+PRVIOL
     47
     48 000056                          30$:    ERROR   DETKEY
;USER DOES NOT OWN PK:
        000056  104400G                          .WORD  TRAP+DETKEY
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 49
"SLEEP" CHECKING

      1                                 .SBTTL  "SLEEP" CHECKING
      2
      3                                 ;+
      4                                 ; SLP$PK - "SLEEP" CHECKING ENTRY POINT.
      5                                 ;
      6                                 ;       R0 =  UNIT NUMBER TIMES 2
      7                                 ;       R1 -> DDB
      8                                 ;       R4 -> JOB'S IOB @ CH# +2
      9                                 ;
     10                                 ;       ...
     11                                 ;
     12                                 ;       R0 =  RANDOM
     13                                 ;       R1 =  RANDOM
     14                                 ;       R4 =  RANDOM
     15                                 ;
     16                                 ;       IF C=1 THEN DON'T LET THE JOB "S
LEEP"
     17                                 ;       IF C=0 THEN LET THE JOB "SLEEP"
     18                                 ;
     19                                 ;       RETURN
     20                                 ;-
     21
     22                                 .ENABL  LSB
     23
     24 000060                                  TMPORG  SLPTBL,6
     25
     26 000006  000060'                         .WORD   SLP$PK
     27
     28 000010                                  UNORG
     29
     30 000060  105761  000000G         SLP$PK::TSTB    PKINWT(R1)      ;IS CONT
ROLLED JOB INPUT STALLED OR GONE?
     31 000064  001010                          BNE     10$             ;YES, GO
 EXIT C=1
     32
     33                                 ;+
     34                                 ; PKTOKB - GET KB INFORMATION FROM PK IN
FORMATION.
     35                                 ;
     36                                 ;       R1 -> PK DDB
     37                                 ;
     38                                 ;       CALL    PKTOKB
     39                                 ;
     40                                 ;       R0 =  KB NUMBER TIMES 2
     41                                 ;       R1 -> KB DDB
     42                                 ;-
     43
     44 000066  016100  000010          PKTOKB::MOV     DDFLAG(R1),R0   ;GET THE
 KB# *2 FROM THE PK DDB
     45 000072  016001  000000G                 MOV     DEV.KB(R0),R1   ;GET THE
 KB'S DDB POINTER
     46 000076  026161  000012  000014          CMP     DDBUFC+EP(R1),DDBUFC+FP(
R1) ;ANY OUTPUT FROM CONTROLLED JOB?
     47 000104  001401                          BEQ     20$             ;NO OUTP
UT, EXIT C=0 ('BEQ'=>'BHIS'='BCC')
     48 000106  000261                  10$:    SEC                     ;SET C=1
     49 000110                          20$:    .BR     DEA$PK          ;EXIT
     50
     51                                 .DSABL  LSB
     52
     53 000110                          GLOBAL  <PKINWT,DEV.KB>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 50
TIMEOUTS

      1                                 .SBTTL  TIMEOUTS
      2
      3                                 ;+
      4                                 ; TMO$PK - TIME OUT ENTRY POINT.
      5                                 ;
      6                                 ;       R0 =  UNIT NUMBER TIMES 2
      7                                 ;       R1 -> DDB
      8                                 ;       PRIORITY IS PR5
      9                                 ;
     10                                 ;       ...
     11                                 ;
     12                                 ;       RETURN
     13                                 ;-
     14
     15 000110                                  TMPORG  TMOTBL,6
     16
     17 000006  000110'                         .WORD   TMO$PK
     18
     19 000010                                  UNORG
     20
     21 000110                          TMO$PK::.BR     DEA$PK          ;;NOTHIN
G TO DO...
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 51
DEVICE ASSIGNMENT SERVICE

      1                                 .SBTTL  DEVICE ASSIGNMENT SERVICE
      2
      3                                 ;+
      4                                 ; ASN$PK - DEVICE ASSIGNMENT SERVICE FOR
 PSEUDO KEYBOARDS.
      5                                 ;
      6                                 ;       R0 =  JOB NUMBER OF ASSIGNER TIM
ES 2
      7                                 ;       R1 -> DDB
      8                                 ;
      9                                 ;       ...
     10                                 ;
     11                                 ;       RETURN          (WITH ALL REGIST
ERS PRESERVED)
     12                                 ;-
     13
     14 000110                                  TMPORG  ASNTBL,6
     15
     16 000006  000110'                         .WORD   ASN$PK
     17
     18 000010                                  UNORG
     19
     20 000110                          ASN$PK::.BR     DEA$PK          ;NOTHING
 TO DO...
     21
     22                                 .SBTTL  DEVICE DEASSIGNMENT SERVICE
     23
     24                                 ;+
     25                                 ; DEA$PK - DEVICE DEASSIGNMENT SERVICE F
OR PSEUDO KEYBOARDS.
     26                                 ;
     27                                 ;       R1 -> DDB
     28                                 ;
     29                                 ;       ...
     30                                 ;
     31                                 ;       RETURN          (WITH ALL REGIST
ERS PRESERVED)
     32                                 ;-
     33
     34 000110                                  TMPORG  DEATBL,6
     35
     36 000006  000110'                         .WORD   DEA$PK
     37
     38 000010                                  UNORG
     39
     40 000110                          DEA$PK::RETURN                  ;NOTHING
 TO DO...
        000110  000207                           RTS    PC
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 52
OPEN SERVICE

      1                                 .SBTTL  OPEN SERVICE
      2
      3                                 ;+
      4                                 ; OPN$PK - OPEN SERVICE FOR PSEUDO KEYBO
ARDS.
      5                                 ;
      6                                 ;       R0 =  UNIT NUMBER TIMES 2
      7                                 ;       R1 -> DDB (MUST BE PRESERVED)
      8                                 ;       R4 -> FIRQB (DEFAULT FQFLAG AND
FQBUFL VALUE LOADED)
      9                                 ;       R5 -> JOB'S IOB ENTRY (MUST BE P
RESERVED)
     10                                 ;
     11                                 ;       ...
     12                                 ;
     13                                 ;       RETURN
     14                                 ;
     15                                 ;       -OR-
     16                                 ;
     17                                 ;       CALL    RETDEV
     18                                 ;       ERROR   CODE
     19                                 ;-
     20
     21                                 .ENABL  LSB
     22
     23 000112                                  TMPORG  OPNTBL,6
     24
     25 000006  000112'                         .WORD   OPN$PK
     26
     27 000010                                  UNORG
     28
     29 000112  116461  000022  000000G OPN$PK::MOVB    FQMODE(R4),PKMODE(R1) ;S
AVE THE PK: OPEN MODE
     30 000120  105767  000000G                 TSTB    FIPRIV          ;PRIV'D
OPENER?
     31 000124  001403                          BEQ     10$             ;YES
     32 000126  142761  000000  000000G         BICB    #0,PKMODE(R1)   ;NO, TRI
M OFF THE PRIV BITS (IF ANY...)
     33         000130'                 ..PKMP  ==      .-4     ;**PATCH** NON-P
RIV PK: OPEN MODE MASK
     34 000134  105061  000000G         10$:    CLRB    PKINWT(R1)      ;SAY CON
TROLLED JOB NOT IN INPUT WAIT OR GONE
     35 000140  010146                          MOV     R1,-(SP)        ;SAVE PK
 DDB POINTER
     36 000142                                  CALL    PKTOKB          ;GET KB
NUMBER AND DDB POINTER
        000142  004767  177720                   JSR    PC,PKTOKB
     37 000146                                  CALL    CLRTER          ;CLEAR T
HE TERMINAL BUFFERS
        000146  004767  011410                   JSR    PC,CLRTER
     38 000152  132761  000001  000002          BITB    #1,DDJBNO(R1)   ;DISABLE
D?
     39 000160  001402                          BEQ     20$             ;NO
     40 000162  105061  000002                  CLRB    DDJBNO(R1)      ;YES, RE
-ENABLE IT
     41 000166                          20$:    CALL    DDBSET          ;SET THE
 STATUS
        000166  004767  004240                   JSR    PC,DDBSET
     42 000172  012601                          MOV     (SP)+,R1        ;RESTORE
 PK DDB POINTER
     43 000174                                  RETURN                  ; AND EX
IT
        000174  000207                           RTS    PC
     44
     45 000176                          GLOBAL  <PKMODE,FIPRIV,PKINWT>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 53
CLOSE SERVICE

      1                                 .SBTTL  CLOSE SERVICE
      2
      3                                 ;+
      4                                 ; CLS$PK - CLOSE SERVICE FOR PSEUDO KEYB
OARDS.
      5                                 ;
      6                                 ;       R0 =  UNIT NUMBER TIMES 2
      7                                 ;       R1 -> DDB/FCB
      8                                 ;       R5 -> DDB/FCB (MUST BE PRESERVED
)
      9                                 ;       IF Z=1 THEN A REAL CLOSE CALL
     10                                 ;       IF Z=0 THEN A "RESET" CLOSE CALL
     11                                 ;
     12                                 ;       ...
     13                                 ;
     14                                 ;       RETURN
     15                                 ;-
     16
     17 000176                                  TMPORG  CLSTBL,6
     18
     19 000006  000176'                         .WORD   CLS$PK
     20
     21 000010                                  UNORG
     22
     23 000176                          CLS$PK::CALL    10$             ;DO THE
COMMON THING
        000176  004767  177732                   JSR    PC,10$
     24 000202  116146  000000G                 MOVB    PKMODE(R1),-(SP) ;SAVE T
HE PK: OPEN MODE
     25 000206                                  CALL    PKTOKB          ;GET KB
NUMBER AND DDB POINTER
        000206  004767  177654                   JSR    PC,PKTOKB
     26 000212  106216                          ASRB    (SP)            ;SET C=1
 IF NO JOB KILL (BIT <0> WAS 1)
     27 000214  116116  000002                  MOVB    DDJBNO(R1),(SP) ;NOW SAV
E JOB # *2 OF THE KB: JOB
     28 000220  103001                          BCC     30$             ;KEEP JO
B # *2 IF JOB KILL DESIRED
     29 000222  005016                          CLR     (SP)            ;ELSE SA
Y JOB # = 0 FOR NO JOB KILL
     30 000224                          30$:    CALL    TTHGLN          ;NOW "HA
NG UP" THE KB:
        000224  004767  000752                   JSR    PC,TTHGLN
     31 000230  112602                          MOVB    (SP)+,R2        ;GET BAC
K JOB # *2 OF KB: JOB (OR 0)
     32 000232  105761  000002                  TSTB    DDJBNO(R1)      ;IS KB F
REE NOW?
     33 000236  001004                          BNE     40$             ;NO
     34 000240  105261  000002                  INCB    DDJBNO(R1)      ;YES, DI
SABLE IT
     35 000244                                  CALL    DOKILL          ; AND KI
LL THAT JOB IF ANY
        000244  004767  002670                   JSR    PC,DOKILL
     36 000250                          40$:    RETURN                  ;EXIT
        000250  000207                           RTS    PC
     37
     38                                 .DSABL  LSB
     39
     40 000252                          GLOBAL  <PKMODE>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 54
USER LEVEL SERVICE

      1                                 .SBTTL  USER LEVEL SERVICE
      2
      3                                 ;+
      4                                 ; SER$PK - USER LEVEL READ/WRITE SERVICE
.
      5                                 ;
      6                                 ;       R0 =  UNIT NUMBER TIMES 2
      7                                 ;       R1 -> DDB/FCB
      8                                 ;       R2 =  2 (.READ)
      9                                 ;             4 (.WRITE)
     10                                 ;       R3 -> XRB
     11                                 ;       R4 =  CALLING JOB NUMBER TIMES 2
     12                                 ;       R5 -> USER'S BUFFER (THROUGH KIS
AR6)
     13                                 ;
     14                                 ; NOTES:
     15                                 ;
     16                                 ;       1) ACCESS RIGHTS HAVE BEEN VERIF
IED.
     17                                 ;       2) DIRECTIONAL RIGHTS HAVE BEEN
VERIFIED.
     18                                 ;
     19                                 ; EXITS:
     20                                 ;
     21                                 ;       1) ALL COMPLETE WITH NO ERROR
     22                                 ;
     23                                 ;               JMP     IOEXIT
     24                                 ;
     25                                 ;       2) ALL COMPLETE WITH ERROR
     26                                 ;
     27                                 ;               SETERR  CODE
     28                                 ;               JMP     IOEXIT
     29                                 ;
     30                                 ;               -OR-
     31                                 ;
     32                                 ;               ERROR   CODE
     33                                 ;
     34                                 ;       3) STALL DESIRED (FOR "REDO" LAT
ER)
     35                                 ;
     36                                 ;               JMP     IOREDO
     37                                 ;-
     38
     39                                 .SBTTL  USER I/O SERVICE
     40
     41 000252                                  TMPORG  SERTBL,6
     42
     43 000006  000252'                         .WORD   SER$PK
     44
     45 000010                                  UNORG
     46
     47 000252  005063  000010          SER$PK::CLR     XRBLK(R3)       ;INDICAT
E A TRUELY
     48 000256  105063  000007                  CLRB    XRBLKM(R3)      ; SEQUEN
TIAL DEVICE
     49 000262  010104                          MOV     R1,R4           ;SAVE TH
E PK DDB POINTER
     50 000264                                  CALL    PKTOKB          ;GET KB
NUMBER AND DDB POINTER
        000264  004767  177576                   JSR    PC,PKTOKB
     51 000270  005723                          TST     (R3)+           ;POINT T
O XRBC
     52 000272  020227  000002                  CMP     R2,#.READ&377   ;READ OR
 WRITE
     53 000276  001024                          BNE     40$             ;IT IS W
RITE (PK: TO KB:)
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 55
USER I/O SERVICE

      1                                 ; READ SERVICE
      2
      3 000300  026323  177776          10$:    CMP     XRLEN-XRBC(R3),(R3)+ ;AN
Y ROOM LEFT?
      4 000304  101417                          BLOS    30$             ;NO
      5 000306                                  CALLX   FETCH,R5,DDBUFC+EP ;GET
A CHARACTER FROM KEYBOARD'S BUFFER
        000306  004537  000000G                  JSR    R5,@#FETCH
        000312  000012                            .WORD DDBUFC+EP
      6 000314  103405                          BCS     20$             ;NO MORE
 LEFT IN BUFFER
      7 000316                                  PUTUSR                  ;SEND A
CHARACTER TO THE USER
        000316  110215                           MOVB   R2,(R5)
        000320  005205                           INC    R5
      8 000322  005213                          INC     (R3)            ;BUMP TH
E POINTER
      9 000324  005243                          INC     -(R3)           ; AND TH
E BYTE COUNT
     10 000326  000764                          BR      10$             ;LOOP FO
R MORE CHARACTERS
     11
     12 000330                          20$:    CALLX   IOFINI,R5,JSTEL ;TELL KE
YBOARD JOB THAT HE CAN RUN AGAIN
        000330  004537  000000G                  JSR    R5,@#IOFINI
        000334  004000                            .WORD JSTEL
     13 000336  005743                          TST     -(R3)           ;DID WE
SEND ANYTHING AT ALL?
     14 000340  001001                          BNE     30$             ;YES, SO
 JUST EXIT
     15 000342                                  ERROR   EOF             ;NO, GIV
E END-OF-FILE ERROR
        000342  104400G                          .WORD  TRAP+EOF
     16
     17 000344                          30$:    JMPX    IOEXIT          ;EXIT FR
OM I/O
        000344  000137  000000G                  JMP    @#IOEXIT
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 56
USER I/O SERVICE

      1                                 ; WRITE SERVICE
      2
      3 000350  105064  000000G         40$:    CLRB    PKINWT(R4)      ;CLEAR J
OB STALLED OR GONE FLAG IF HERE
      4 000354  016304  000012                  MOV     XRMOD-XRBC(R3),R4 ;GET T
HE MODIFIER BIT(S)
      5 000360  030427  000001                  BIT     R4,#PO.NCK      ;SHOULD
WE CHECK STATUS OF JOB?
      6 000364  001041                          BNE     50$             ;NOPE
      7 000366  116102  000002                  MOVB    DDJBNO(R1),R2   ;NOW GET
 THE JOB OF KEYBOARD
      8 000372  042702  177601                  BIC     #^C<63.*2>,R2   ;AVOID T
HE DISABLED KB...
      9 000376  001515                          BEQ     100$            ;NO JOB
IS "NOSUCH" ERROR
     10 000400  036262  000000G 000000G         BIT     JBSTAT(R2),JBWAIT(R2) ;J
OB NOW RUNNABLE?
     11 000406  001112                          BNE     110$            ;YES IS
"INUSE" ERROR
     12 000410  026227  000000G 000002          CMP     JBWAIT(R2),#JS.KB ;IS JO
B WAITING FOR KEYBOARD INPUT?
     13 000416  001106                          BNE     110$            ;NO IS "
INUSE" ERROR ALSO
     14 000420  016202  000000G                 MOV     JOBTBL(R2),R2   ;GET THE
 JOB DATA ADDRESS
     15 000424  011246                          MOV     (R2),-(SP)      ;SAVE AD
DRESS OF THE I/O BLOCK
     16 000426  016202  000006                  MOV     JDWORK(R2),R2   ;NOW GET
 ADDRESS OF THE WORK BLOCK (XRB)
     17 000432  005046                          CLR     -(SP)           ;CLEAR A
 STACK ITEM IN ORDER TO
     18 000434  116216  000006                  MOVB    XRCI(R2),(SP)   ; GET TH
E CH# TIMES 2 OF PENDING KB REQUEST
     19 000440  062616                          ADD     (SP)+,(SP)      ;FORM AD
DRESS OF ENTRY IN THE I/O BLOCK
     20 000442  020136                          CMP     R1,@(SP)+       ;CHECK F
OR THE CORRECT DDB
     21 000444  001073                          BNE     110$            ;NO GO,
GIVE "INUSE" ERROR
     22 000446  030427  000002                  BIT     R4,#PO.CKC      ;SHOULD
WE CHECK FOR NEEDING CONTROL/C?
     23 000452  001406                          BEQ     50$             ;NOPE
     24 000454  005762  000012                  TST     XRTIME(R2)      ;EDITOR
TYPE WAIT??
     25 000460  100066                          BPL     120$            ;NOPE, N
EED CONTROL/C
     26 000462  005762  000002                  TST     XRBC(R2)        ;YEP, BU
T GOT ANYTHING?
     27 000466  001063                          BNE     120$            ;IF SO,
THEN STILL NEED CONTROL/C
     28 000470  030427  000020          50$:    BIT     R4,#PO.KIL      ;SHOULD
WE KILL THE KB: JOB?
     29 000474  001404                          BEQ     60$             ;NOPE
     30 000476  116102  000002                  MOVB    DDJBNO(R1),R2   ;YEP, GE
T JOB # *2 FROM DDB
     31 000502                                  CALL    DOKILL          ; AND GO
 TRY TO KILL THAT JOB
        000502  004767  002432                   JSR    PC,DOKILL
     32 000506  030427  000004          60$:    BIT     R4,#PO.NTX      ;SHOULD
WE TRANSFER ANYTHING?
     33 000512  001314                          BNE     30$             ;NOPE
     34
     35 000514                          GLOBAL  <PKINWT,JBSTAT,JBWAIT,JOBTBL>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 57
USER I/O SERVICE

      1 000514  005723                  70$:    TST     (R3)+           ;ANYTHIN
G MORE TO MOVE TO KEYBOARD?
      2 000516  001434                          BEQ     80$             ;NOPE, C
HECK IF RESET DDHORZ WANTED
      3 000520  005070  000000G                 CLR     @CSR.KB(R0)     ;INITIAL
LY SET FLAG FOR TERMINAL SERVICE
      4 000524                                  GETUSR                  ;GET A C
HARACTER FROM THE USERS BUFFER
        000524  111502                           MOVB   (R5),R2
        000526  005205                           INC    R5
      5 000530  010346                          MOV     R3,-(SP)        ;SAVE TH
E XRB POINTER
      6 000532                                  CALL    TTIN09          ;PROCESS
 THE CHARACTER
        000532  004767  004166                   JSR    PC,TTIN09
      7 000536  012603                          MOV     (SP)+,R3        ;RESTORE
 XRB POINTER
      8 000540  005213                          INC     (R3)            ;BUMP AD
DRESS POINTER (XRLOC)
      9 000542  005343                          DEC     -(R3)           ; AND ON
E MORE SENT (XRBC<-XRBC-1)
     10 000544  001422                          BEQ     90$             ;ALL DAT
A MOVED, CHECK IF RESET DDHORZ WANTED
     11 000546  005761  000016                  TST     DDBUFC+BC(R1)   ;IS "ECH
O" OVER QUOTA?
     12 000552  002432                          BLT     130$            ;YES, SO
 GIVE AN ERROR
     13 000554  005770  000000G                 TST     @CSR.KB(R0)     ;NO, WIL
L TERMINAL ACCEPT MORE?
     14 000560  001355                          BNE     70$             ;YEP, SO
 GIVE IT TO HIM
     15 000562  036327  000012  000010          BIT     XRMOD-XRBC(R3),#PO.STL ;
SHOULD WE STALL OR GIVE ERROR
     16 000570  001423                          BEQ     130$            ;GIVE TH
E "NOROOM" ERROR
     17 000572  116704  001006                  MOVB    JOB,R4          ;ELSE GE
T THE JOB NUMBER
     18 000576  052764  040000  000000G         BIS     #JSBUF,JBWAIT(R4) ; AND
ALSO WAIT ON BUFFERS
     19 000604                                  JMPX    IOREDO          ;NOW STA
LL
        000604  000137  000000G                  JMP    @#IOREDO
     20
     21 000610  005743                  80$:    TST     -(R3)           ;FIX XRB
 POINTER
     22 000612  036327  000012  000040  90$:    BIT     XRMOD-XRBC(R3),#PO.FCR ;
SHOULD WE RESET HORIZONTAL POSITION?
     23 000620  001651                          BEQ     30$             ;NO, JUS
T EXIT
     24 000622  116161  000021  000020          MOVB    DDHORC(R1),DDHORZ(R1) ;R
ESET DDHORZ
     25 000630  000645                          BR      30$             ; THEN E
XIT
     26
     27 000632                          100$:   ERROR   NOSUCH          ;NO JOB
ERROR
        000632  104400G                          .WORD  TRAP+NOSUCH
     28
     29 000634                          110$:   ERROR   INUSE           ;BUSY ER
ROR
        000634  104400G                          .WORD  TRAP+INUSE
     30
     31 000636                          120$:   ERROR   CTRLCE          ;NEED CT
RL/C ERROR
        000636  104400G                          .WORD  TRAP+CTRLCE
     32
     33 000640                          130$:   ERROR   NOROOM          ;NON-FUL
L TRANSFER
        000640  104400G                          .WORD  TRAP+NOROOM
     34
     35 000642                          GLOBAL  <CSR.KB,JBWAIT>
     36
     37                                 .ENDC   ;PK11
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 58


      1                                 .SBTTL
      2                                 .SBTTL  NORMAL TERMINAL PROCESSING
      3                                 .SBTTL
      4
      5                                 .SBTTL  GLOBALIZE THE CONFIGURATION PARA
METERS
      6
      7                                 .GLOBL  KL11,   DC11,   DL11CD, DL11E,
PK11
      8                                 .GLOBL  DJ11,   DH11,   DM11BB, DZ11,
DZ11AB
      9                                 .GLOBL  PKSTKB, SL2741, DH2741, DZ2741,
KB2741
     10                                 .GLOBL  MULTTY, EKOCTL
     11
     12                                 .SBTTL  GLOBALIZE THE INTERFACE TYPE VAL
UES
     13
     14 000642                          $KBS
     15                                 .LIST
     16                                 .GLOBL  TT'NAME'11
     17                                 .NLIST
     18                                 .ENDM
                                        .GLOBL  TTKL11
                                        .GLOBL  TTDC11
                                        .GLOBL  TTDL11
                                        .GLOBL  TTDE11
                                        .GLOBL  TTPK11
                                        .GLOBL  TTDJ11
                                        .GLOBL  TTDH11
                                        .GLOBL  TTDZ11
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 59
MODIFIERS FOR .READ/.WRITE

      1                                 .SBTTL  MODIFIERS FOR .READ/.WRITE
      2
      3 000642                          .DSECT  377             ;.READ MODIFIERS
      4
      5                                         .BLKB   1       ;  +255., KB # F
OR MULTIPLE TERMINAL CALL
      6                                         .BLKB   .       ;  +256., UNUSED
      7 001000                          TI.RSX::.BLKB   .       ;  +512., RSX MO
DE DESIRED
      8 002000                          TI.ISB::.BLKB   .       ; +1024., RSX I/
O STATUS BLOCK PROCESSING
      9 004000                          TI.RX2: .BLKB   .       ; +2048., RESERV
ED FOR RSX USAGE
     10                                         .BLKB   .       ; +4096., UNUSED
     11 020000                          TI.NST::.BLKB   .       ; +8192., DON'T
STALL
     12 040000                          TI.SCA::.BLKB   .       ;+16384., MULTIP
LE TERMINAL SCAN ALL
     13 100000                          TI.MUL::.BLKB   .       ;+32768., MULTIP
LE TERMINAL CALL
     14
     15 000000                          .DSECT  377             ;.WRITE MODIFIER
S
     16
     17                                         .BLKB   1       ;  +255., KB # F
OR MULTIPLE TERMINAL CALL
     18 000400                          TO.DEC::.BLKB   .       ;  +256., DECLAR
E ECHO CONTROL FIELD
     19 001000                          TO.RSX::.BLKB   .       ;  +512., RSX MO
DE DESIRED
     20 002000                          TO.PRE::.BLKB   .       ; +1024., RSX "P
REFIX" HANDLING
     21 004000                          TO.SUF::.BLKB   .       ; +2048., RSX "S
UFFIX" HANDLING
     22 010000                          TO.BIN::.BLKB   .       ; +4096., BINARY
 OUTPUT MODE
     23                                         .BLKB   .       ; +8192., UNUSED
     24                                         .BLKB   .       ;+16384., UNUSED
     25 100000                          TO.MUL::.BLKB   .       ;+32768., MULTIP
LE TERMINAL CALL
     26
     27 000000                                  UNORG
     28
     29                                 .SBTTL  KEYBOARD DRIVER PURE AREA
     30
     31                                 .IF     NE      KB2741
     32
     33                                 XL2741::.BLKW0  4               ;POINTER
S 2741 TO CONVERSION TABLES
     34                                 CD2741::.BLKW0  4               ;POINTER
S 2741 TO CODE IDENT TEXT STRINGS
     35
     36                                 .ENDC   ;KB2741
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 60
LOAD ADDRESSES INTO "KBDINT"

      1                                 .SBTTL  LOAD ADDRESSES INTO "KBDINT"
      2
      3 000642                                  TMPORG  KBDINT,0
      4 000000                          KBDINT:
      5
      6         000000                  $$$$$$  =       0
      7         000002                  .REPT   <KL11+DC11+DL11CD+DL11E-1>/16.+1
      8                                 .IRP    N,<\$$$$$$>
      9                                 .LIST
     10
     11                                         .BLKW   3
     12                                         .WORD   SLINT'N
     13                                         .BLKW   3
     14                                         .WORD   SLONT'N
     15                                 .NLIST
     16                                 .ENDM
     17                                 $$$$$$  =       $$$$$$+1
     18                                 .ENDR

                                                .BLKW   3
        000006  004374'                         .WORD   SLINT0
                                                .BLKW   3
        000016  004406'                         .WORD   SLONT0

                                                .BLKW   3
        000026  004370'                         .WORD   SLINT1
                                                .BLKW   3
        000036  004402'                         .WORD   SLONT1
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 61
LOAD ADDRESSES INTO "KBDINT"

      1                                 .IF     NE      DJ11
      2                                         .BLKW   3
      3 000046  004204'                         .WORD   DJINT
      4                                         .BLKW   3
      5 000056  004262'                         .WORD   DJONT
      6                                 .ENDC   ;DJ11
      7
      8                                 .IF     NE      DH11
      9                                         .BLKW   3
     10                                         .WORD   DHINT
     11                                         .BLKW   3
     12                                         .WORD   DHONT
     13                                 .ENDC   ;DH11
     14
     15                                 .IF     NE      DZ11
     16                                         .BLKW   3
     17                                         .WORD   DZINT
     18                                         .BLKW   3
     19                                         .WORD   DZONT
     20                                 .ENDC   ;DZ11
     21
     22                                 .IF     NE      DM11BB
     23                                         .BLKW   3
     24                                         .WORD   DMINT
     25                                 .ENDC   ;DM11BB
     26
     27                                         .BLKW   3               ;COVERS:
 "MOV KBDAP5,@#KISAR5"
     28 000066  000137  011654'                 JMP     @#TTEMT         ;OFF TO
TERMINAL "SIMPLE" EMT PROCESSING
     29
     30 000072  000137  000642'                 JMP     @#ERL$KB        ;;;OFF T
O TERMINAL SERVICE ERROR LOGGING
     31
     32 000076                                  UNORG
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 62
ENTRY POINT FOR KB ERROR LOGGING

      1                                 .SBTTL  ENTRY POINT FOR KB ERROR LOGGING
      2
      3 000642  116167  000002  000001G ERL$KB: MOVB    DDJBNO(R1),KBETBL+1 ;;;S
TORE THE JOB NUMBER TIMES 2
      4 000650  116167  000003  000000G         MOVB    DDUNT(R1),KBEUNT ;;;PUT
UNIT NUMBER INTO ERROR LOG
      5 000656  010167  000000G                 MOV     R1,KBEDDB       ;;;SET U
P THE DDB ADDRESS
      6 000662  010267  000000G                 MOV     R2,KBETMP       ;;;PUT R
2 IN TEMP STORAGE
      7 000666  016003  000000G                 MOV     CSR.KB(R0),R3   ;;;GET T
HE CSR ADDRESS
      8 000672  010367  000000G                 MOV     R3,KBEREG       ;;; AND
PUT IT IN THE CONTROL RECORD
      9 000676  062703  000004                  ADD     #4,R3           ;;;SKIP
THE INPUT BUFFER
     10 000702  010367  000000G                 MOV     R3,KBESC4       ;;; AND
STORE THAT ALSO
     11                                 .IF     NE      DM11BB
     12                                         MOV     #KBEDSC,R3      ;;;GET P
OINTER FOR DM11BB ADDRESS
     13                                         MOV     #KBEDMB,R5      ;;; AND
TO CONTENTS SUBROUTINE
     14                                         CLRB    (R3)            ;;;NUMBE
R OF WORDS = 0 INITIALLY (NO DM11BB)
     15                                         MOV     #-1,(R5)        ;;; AND
TERMINATE THE TABLE EARLY
     16                                 GLOBAL  <KBEDSC,KBEDMB>
     17                                 .ENDC   ;DM11BB
     18                                 .IF     NE      DH11 ! DJ11 ! DZ11
     19 000706  012767  002001  000000G         MOV     #4*400+1,KBESCN ;;;SET F
IELD 4, 1 WORD
     20 000714                          GLOBAL  <KBESCN>
     21                                 .IF     NE      DJ11 ! DZ11
     22 000714  005761  000036                  TST     TTINTF(R1)      ;;;MULTI
PLEXED LINE?
     23 000720  100002                          BPL     20$             ;;;NO
     24 000722  005267  000000G                 INC     KBESCN          ;;;YES.
WANT 2 WORDS
     25                                 .ENDC   ;DJ11 ! DZ11
     26                                 .IF     NE      DH11
     27                                         CMPB    #TTDH11,TTINTF(R1) ;;;IS
 THIS A DH LINE?
     28                                         BNE     20$             ;;;NO
     29                                         MOV     #4*400+6,KBESCN ;;;YES.
WANT 6 WORDS
     30                                 .IF     NE      DM11BB
     31                                         CALL    DMBSEL,R5       ;;;CHECK
/SELECT THE DM11BB LINE
     32                                           BR    10$             ;;;NO DM
11BB FOR THIS LINE
     33                                         TST     -(R4)           ;;;BACK
UP FOR A REAL CSR POINTER
     34                                         MOV     #3*400+1,(R3)+  ;;;LINE
SELECTED. SET FIELD 3, 1 WORD
     35                                         MOV     #4*400+2,(R5)+  ;;; AND
FIELD 4, 2 WORDS
     36                                         MOV     R5,(R3)         ;;;SET P
OINTER TO DM11BB ADDRESS
     37                                         MOV     R4,(R5)         ;;; AND
THE ADDRESS ITSELF
     38                                 10$:
     39                                 .ENDC   ;DM11BB
     40                                         MOV     KBEREG,R3       ;;;GET C
SR POINTER AGAIN
     41                                         CALL    DHSEL           ;;; AND
SELECT THE DH11 SUBLINE
     42                                 .ENDC   ;DH11
     43 000726                          20$:
     44                                 .ENDC   ;DH11 ! DJ11 ! DZ11
     45 000726  012705  000000G                 MOV     #KBETBL,R5      ;;;SET P
OINTER TO CONTROL TABLE
     46 000732                                  RETURN                  ;;;LET T
HE LOGGER TAKE OVER
        000732  000207                           RTS    PC
     47
     48 000734                          GLOBAL  <KBETBL,KBEUNT,KBEDDB,KBETMP,CSR
.KB,KBEREG,KBESC4>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 63
TIMEOUTS

      1                                 .SBTTL  TIMEOUTS
      2
      3                                 ;+
      4                                 ; TMO$KB - TIME OUT ENTRY POINT.
      5                                 ;
      6                                 ;       R0 =  UNIT NUMBER TIMES 2
      7                                 ;       R1 -> DDB
      8                                 ;       IF C=0 THEN CLEAR FUNNY MODES
      9                                 ;       IF C=1 THEN DON'T CLEAR THE MODE
S
     10                                 ;       PRIORITY IS PR3
     11                                 ;
     12                                 ;       ...
     13                                 ;
     14                                 ;       RETURN
     15                                 ;-
     16
     17 000734                                  TMPORG  TMOTBL,2
     18
     19 000002  000734'                         .WORD   TMO$KB
     20
     21 000004                                  UNORG
     22
     23 000734  103410                  TMO$KB::BCS     10$             ;SKIP IF
 MODES OK
     24 000736                                  CALL    BINEND          ;END BIN
ARY MODE
        000736  004767  010546                   JSR    PC,BINEND
     25 000742  142761  000040  000032          BICB    #TTPCOL,TTMODE(R1) ; AND
 ANY OTHER "FUNNY" MODE(S)
     26 000750  042761  000010  000010          BIC     #TTDDT,DDFLAG(R1) ;ALSO
DDT SUB-MODE
     27 000756  132761  000001  000002  10$:    BITB    #1,DDJBNO(R1)   ;DISABLE
D?
     28 000764  001404                          BEQ     30$             ;NOPE
     29                                 .IF     NE      PK11 ! DC11 ! DL11E ! DM
11BB ! DZ11AB
     30 000766  012761  100000  000000G         MOV     #TTDSBL,MODCLK(R1) ;YEP,
 NO MORE TIMEOUTS, ETC.
     31 000774                          GLOBAL  <MODCLK>
     32                                 .ENDC   ;PK11 ! DC11 ! DL11E ! DM11BB !
DZ11AB
     33 000774                          20$:    RETURN                  ;NOW EXI
T
        000774  000207                           RTS    PC
     34
     35 000776                          30$:
     36                                 .IF     NE      PK11
     37 000776  122761  000000G 000036          CMPB    #TTPK11,TTINTF(R1) ;PK'S
 ARE NOT CHECKED AT ALL
     38 001004  001773                          BEQ     20$             ;SO EXIT
 IMMEDIATELY IF THIS IS PK
     39                                 .ENDC   ;PK11
     40                                 .IF     NE      DJ11 ! DZ11AB
     41 001006  016003  000000G                 MOV     CSR.KB(R0),R3   ;GET INP
UT CSR POINTER
     42 001012                          GLOBAL  <CSR.KB>
     43                                 .ENDC   ;DJ11 ! DZ11AB
     44                                 .IF     NE      DJ11
     45 001012  122761  000000G 000036          CMPB    #TTDJ11,TTINTF(R1) ;DJ11
 LINE?
     46 001020  001005                          BNE     40$             ;NO
     47 001022  042713  002006                  BIC     #2006,(R3)      ;YES, CL
EAR: BK SEL,MAINT,HAFDUP
     48 001026  052713  050501                  BIS     #50501,(R3)     ;SET: X-
INT,S-INT,X-SCN,R-INT,R-ENBL
     49 001032                                  RETURN                  ;THAT'S
ALL FOLKS
        001032  000207                           RTS    PC
     50
     51 001034                          40$:
     52                                 .ENDC   ;DJ11
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 64
TIMEOUTS

      1                                 .IF     NE      DZ11AB
      2
      3                                         CMPB    #TTDZ11,TTINTF(R1) ;IS T
HIS A DZ11
      4                                         BNE     50$             ;NO
      5                                         BIT     #TTMODM,TTINTF(R1) ;IS T
HERE A MODEM ON THIS LINE?
      6                                         BEQ     50$             ;NO
      7                                         SPLC    5               ;;MODEM
LINE, TO LEVEL 5 FOR SAFETY
      8                                         CALL    DZCHEK          ;;CHECK
FOR RING/CARRIER STATUS
      9                                 50$:
     10
     11                                 .ENDC   ;DZ11AB
     12
     13 001034  016003  000000G         TMOHUP::MOV     CSR.KB(R0),R3   ;IMMEDIA
TE MODEM HANGUP ENTRY POINT
     14
     15                                 .IF     NE      DC11 ! DL11E ! DM11BB !
DZ11AB
     16
     17                                 $$$$$$  =       100             ;ASSUME
NO DATASET HANGUP (ON DC11)
     18
     19                                 .IF     NE      DL11E
     20
     21                                 .IF     EQ      DC11
     22
     23                                 $$$$$$  =       140             ;IF ONLY
 DL11E'S, USE THIS...
     24
     25                                 .ENDC   ;DC11
     26
     27                                 .ENDC   ;DL11E
     28
     29                                         MOV     #$$$$$$,-(SP)   ;SET POS
SIBLE HANGUP FLAG
     30                                         TSTB    MODCLK(R1)      ;THIS MO
DEM COUNTING ?
     31                                         BEQ     10$             ;NOPE, T
HEN NO HANGUP DESIRED
     32                                         DECB    MODCLK(R1)      ;ONE LES
S NOW
     33                                         BNE     10$             ;DIDNT G
O TO ZERO SO NO HANGUP
     34                                         BIS     #100000,(SP)    ;SET HAN
GUP FLAG ON STACK
     35                                 10$:
     36
     37                                 GLOBAL  <MODCLK>
     38
     39                                 .ENDC   ;DC11 ! DL11E ! DM11BB ! DZ11AB
     40
     41 001040                          GLOBAL  <CSR.KB>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 65
TIMEOUTS

      1                                 .IF     NE      DZ11
      2                                         CMPB    #TTDZ11,TTINTF(R1) ;IS T
HIS A DZ11?
      3                                 .IF     NE      DH11
      4                                         BNE     30$             ;NO
      5                                 .IFF
      6                                         BNE     90$             ;NO
      7                                 .ENDC   ;DH11
      8                                         BIS     #40140,(R3)     ;YES, SE
T XMIT-IE, RCV-IE, SCAN
      9                                         SPLC    5               ;;TO LEV
EL 5 FOR SAFETY
     10                                         CALL    SETPRM          ;;SET TH
E LINE PARAMETERS
     11                                 .IF     EQ      DZ11AB
     12                                 .IF     NE      DH11
     13                                         BR      70$             ;;NO MOD
EM. USE COMMON EXIT
     14
     15                                 .ENDC   ;DH11
     16                                 .IFF    ;DZ11AB
     17                                         BIT     #TTMODM,TTINTF(R1) ;;IS
THIS A MODEM LINE?
     18                                         BEQ     70$             ;;NO
     19                                         CALL    SUBLIN          ;;YES, G
ET SUBLINE NUMBER
     20                                         MOV     BITWRD(R2),R5   ;;GET TH
E BIT FOR CHECKING
     21                                         TST     (SP)+           ;;HANGUP
 THE LINE?
     22                                         BMI     20$             ;;YES, S
O DO IT ALREADY
     23                                         TSTB    MODCLK(R1)      ;;IS THE
 MODEM TIMEING OUT?
     24                                         BNE     80$             ;;LEAVE
IT ALONE IF SO
     25                                         BITB    R5,7(R3)        ;;ELSE C
HECK FOR CARRIER
     26                                         BNE     80$             ;;CARRIE
R ON, ALL O.K.
     27                                 20$:    BICB    R5,5(R3)        ;;SHUT O
FF DTR
     28                                         BICB    R5,4(R3)        ;;SHUT O
FF TRANSMISSION
     29                                 .IF     NE      DZ2741
     30                                         BICB    R5,@TTAUXP(R1)  ;;CLEAR
THE SAVED BREAK BIT
     31                                         MOVB    @TTAUXP(R1),7(R3) ;; AND
 THE BREAK ITSELF
     32                                 GLOBAL  <TTAUXP>
     33                                 .ENDC   ;DZ2741
     34
     35                                 .IF     NE      DH11
     36                                         JMP     TTHGLN          ;;FINISH
 UP
     37                                 .IFF
     38                                         BR      TTHGLN          ;;FINISH
 UP
     39                                 .ENDC   ;DH11
     40
     41                                 GLOBAL  <BITWRD,MODCLK>
     42
     43                                 .ENDC   ;DZ11AB
     44                                 .ENDC   ;DZ11
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 66
TIMEOUTS

      1                                 .IF     NE      DH11
      2                                 30$:    CMPB    #TTDH11,TTINTF(R1) ;DH11
 TYPE LINE ?
      3                                         BNE     90$             ;NOPE
      4                                         BIS     #30100,(R3)     ;SET INT
. ENB. FOR XMIT,RECV,NXM,STORAGE
      5                                         SPLC    5               ;;TO LEV
EL 5 FOR SAFETY
      6                                         CALL    SETPRM          ;;SET TH
E LINE PARAMETERS FOR THE DH
      7                                 .IF     NE      DM11BB
      8                                         CALL    DMBSEL,R5       ;;SELECT
 THE DM11BB (IF ANY)
      9                                           BR    70$             ;;NO DM1
1BB, JUST EXIT
     10                                         TST     (SP)+           ;;HANG I
T UP?
     11                                         BPL     50$             ;;NO
     12                                 40$:    MOV     #1,(R4)         ;;ENSURE
 ONLY ENBL IS NOW ON
     13                                         MOV     #100!40,-(R4)   ;;REENAB
LE IE AND SCAN
     14
     15                                 .IF     NE      DH2741
     16
     17                                         CALL    SUBLIN          ;;GET SU
BLINE NUMBER *2
     18                                         BIC     BITWRD(R2),14(R3) ;;SHUT
 OFF THE BREAK
     19
     20                                 GLOBAL  <BITWRD>
     21
     22                                 .ENDC   ;DH2741
     23
     24                                 .IF     NE      DC11 ! DL11E
     25                                         JMP     TTHGLN          ;;FINISH
 UP
     26                                 .IFF
     27                                         BR      TTHGLN          ;;FINISH
 UP
     28                                 .ENDC   ;DC11 ! DL11E
     29
     30                                 50$:    TSTB    MODCLK(R1)      ;;TIMING
 OUT NOW?
     31                                         BNE     60$             ;;YES, S
O LEAVE ALL ALONE
     32                                         ASLB    R2              ;;NO, SO
 IS CARRIER (BIT 6) ON?
     33                                         BPL     40$             ;;GO HAN
G IT UP IF NO CARRIER
     34                                         TST     MODCLK(R1)      ;;IF CAR
RIER, THEN IS IT ALREADY ENABLED?
     35                                         BPL     60$             ;;YES, S
O LEAVE IT AS IS
     36                                         CALL    DDBSET          ;;SET UP
 DDB
     37                                 60$:    MOV     #4!2!1,(R4)     ;;ENSURE
 RQS, DTR, ENBL ARE ON
     38                                         MOV     #100!40,-(R4)   ;;REENAB
LE IE AND SCAN ON DM11BB
     39                                         BR      210$            ;; AND E
XIT BY DROPPING TO LEVEL 3
     40
     41                                 GLOBAL  <MODCLK>
     42
     43                                 .ENDC   ;DM11BB
     44                                 .ENDC   ;DH11
     45
     46                                 .IF     NE      DH11 ! DZ11
     47                                 70$:
     48                                 .IF     NE      DC11 ! DL11E ! DM11BB !
DZ11AB
     49                                         TST     (SP)+           ;;POP TH
E HANGUP FLAG
     50                                 .ENDC   ;DC11 ! DL11E ! DM11BB ! DZ11AB
     51                                 80$:    BR      210$            ;; AND G
O EXIT
     52                                 .ENDC   ;DH11 ! DZ11
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 67
TIMEOUTS

      1 001040                          90$:
      2
      3                                 .IF     NE      DL11E
      4
      5                                 .IF     NE      DC11
      6
      7                                         CMPB    #TTDE11,TTINTF(R1) ;DL11
E ?
      8                                         BNE     100$            ;NO
      9                                         MOVB    #140,(SP)       ;DL11E H
UNG UP STATE
     10
     11                                 .IFTF
     12
     13                                         MOV     #100040,R5      ;DATASET
 STATUS CHANGE + IE ON DL11E
     14                                         MOV     #10000,R4       ;CARRIER
 DETECTOR IS BIT 12 ON DL11E
     15
     16                                 .IFT
     17
     18                                         BR      110$            ;GO DO T
HE DATASET HUNG TESTS
     19
     20                                 100$:
     21
     22                                 .ENDC   ;DC11
     23
     24                                 .ENDC   ;DL11E
     25
     26                                 .IF     NE      DC11
     27
     28                                         MOV     #100100,R5      ;DATASET
 STATUS CHANGE +IE ON DC11
     29                                         MOV     #4,R4           ;CARRIER
 DETECT BIT FOR DC11
     30
     31                                 .ENDC   ;DC11
     32
     33                                 .IF     NE      DC11 ! DL11E
     34
     35                                 110$:   BIC     (R3),R5         ;IF IE+S
TATUS CHANGE BOTH SET, THEN
     36                                         BEQ     120$            ;IT FORG
OT TO INTERRUPT. SO BRANCH !!
     37
     38                                 .ENDC   ;DC11 ! DL11E
     39
     40 001040  011305                          MOV     (R3),R5         ;GET CON
TENTS OF INPUT CSR
     41 001042  042705  177477                  BIC     #^C<300>,R5     ;LEAVE O
NLY RDY+IE BITS
     42 001046  162705  000100                  SUB     #100,R5         ;NOW REM
OVE THE IE BIT
     43 001052  001410                          BEQ     130$            ;IF ONLY
 BIT ON THEN ALL O.K.
     44 001054  005002                  120$:   CLR     R2              ;INDICAT
E NO "SILO" DATA
     45 001056  000000G                         LOG$KB                  ;LOG THE
 TERMINAL INPUT HANG
     46 001060  005267  000000G                 INC     TTYHCT          ; AND CO
UNT AS A "HUNG" TERMINAL
     47 001064  042713  000140                  BIC     #140,(R3)       ;NOW TRY
 TO UNHANG THE ANIMAL
     48 001070  005763  000002                  TST     2(R3)           ; BY FID
DLING WITH THE STATUS BITS
     49 001074  052713  000140          130$:   BIS     #140,(R3)       ;INTERRU
PT ENABLE INPUT CSR
     50
     51 001100                          GLOBAL  <LOG$KB,TTYHCT>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 68
TIMEOUTS

      1                                 .IF     NE      DC11 ! DL11E
      2
      3                                         BIT     #TTMODM,TTINTF(R1) ;DATA
SET TYPE LINE?
      4                                         BEQ     160$            ;NOPE, S
O NO CARRIER TESTS
      5                                         SPLC    5               ;;GO TO
LEVEL 5 FOR SAFETY
      6                                         TST     (SP)            ;;SHOULD
 WE HANGUP DATASET ?
      7                                         BMI     TTHGUP          ;;YES
      8                                         TSTB    MODCLK(R1)      ;;TIMING
 OUT?
      9                                         BNE     140$            ;;YES, S
O LEAVE IT ALONE
     10                                         BIT     R4,(R3)         ;;NO, IS
 CARRIER ON??
     11                                         BEQ     TTHGUP          ;;NOPE,
SO HANG IT UP FOR GOODNESS
     12                                         TST     MODCLK(R1)      ;;YES, B
UT IS IT ALREADY ENABLED?
     13                                         BPL     140$            ;;YES, S
O LEAVE AS IS
     14                                         CALL    DDBSET          ;;ELSE S
ET UP THE DDB
     15                                 140$:
     16
     17                                 GLOBAL  <MODCLK>
     18
     19                                 .IF     NE      DL11E
     20
     21                                 .IF     NE      DC11
     22
     23                                         CMPB    #TTDE11,TTINTF(R1) ;;IS
THIS A DL11E?
     24                                         BNE     150$            ;;NO, DC
11 LINE
     25
     26                                 .IFTF
     27
     28                                         BIS     #146,(R3)       ;;ENSURE
 EI+DATASET IE+RQS+DTR ARE ON
     29
     30                                 .IFT
     31
     32                                         BR      160$            ;;CONTIN
UE
     33
     34                                 .ENDC   ;DC11
     35
     36                                 .ENDC   ;DL11E
     37
     38                                 .IF     NE      DC11
     39
     40                                 150$:   BIS     #101,(R3)       ;;ENSURE
 IE+DTR ARE ON
     41                                         BIS     #1,4(R3)        ;; AND E
NSURE RQS IS ON
     42
     43                                 .ENDC   ;DC11
     44
     45                                 160$:   SPLC    3               ;;BACK T
O LEVEL 3 AGAIN
     46
     47                                 .ENDC   ;DC11 ! DL11E
     48
     49                                 .IF     NE      DC11 ! DL11E ! DM11BB !
DZ11AB
     50
     51                                         TST     (SP)+           ;DUMP TH
E HANGUP FLAG
     52
     53                                 .ENDC   ;DC11 ! DL11E ! DM11BB ! DZ11AB
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 69
TIMEOUTS

      1 001100  062703  000004                  ADD     #4,R3           ;BUMP R3
 TO OUTPUT CSR
      2 001104  042713  000004                  BIC     #4,(R3)         ;CLEAR M
AINT. BIT ALWAYS
      3
      4                                 .IF     NE      PK11 ! DC11 ! DL11E ! DM
11BB ! DZ11AB
      5
      6 001110  032761  140000  000000G         BIT     #TTDSBL!TTWRC,MODCLK(R1)
 ;IS THIS TERMINAL HUNG
      7 001116  100430                          BMI     200$            ;YES, BU
T SKIP ANY CHECK IF DISABLED
      8 001120  001004                          BNE     170$            ;YES
      9 001122  032761  001000  000010          BIT     #TTHUNG,DDFLAG(R1) ;WAS
IT FLAGGED HUNG ?
     10 001130  001007                          BNE     180$            ;NO
     11 001132                          170$:
     12
     13 001132                          GLOBAL  <MODCLK>
     14
     15                                 .ENDC   ;PK11 ! DC11 ! DL11E ! DM11BB !
DZ11AB
     16
     17 001132  052761  001000  000010          BIS     #TTHUNG,DDFLAG(R1) ;AVOI
D RACE CONDITION BY SETTING THIS NOW
     18 001140  011305                          MOV     (R3),R5         ;GET CON
TENTS OF OUTPUT CSR
     19 001142  106305                          ASLB    R5              ;C-BIT='
RDY'; N-BIT='IE'
     20 001144  100415                          BMI     200$            ;START A
 TIMEOUT IF INTERRUPT ENABLED
     21 001146  103411                          BCS     190$            ;ALL IS
O.K. IF JUST READY
     22 001150  005002                  180$:   CLR     R2              ;INDICAT
E NO "SILO" DATA
     23 001152  000000G                         LOG$KB                  ;LOG THE
 TERMINAL OUTPUT HANG
     24 001154  005267  000000G                 INC     TTYHCT          ; AND CO
UNT AS A "HUNG" TERMINAL
     25 001160  042723  000100                  BIC     #100,(R3)+      ;TRY CLE
ARING INTERRUPT ENABLE
     26 001164  005013                          CLR     (R3)            ; AND SE
NDING A NULL TO TERMINAL
     27 001166  052743  000100                  BIS     #100,-(R3)      ;  THEN
RE-SETTING INTERRUPT ENABLE
     28 001172  042761  001000  000010  190$:   BIC     #TTHUNG,DDFLAG(R1) ;SAY
O.K. FOR THIS TIME AROUND
     29 001200                          200$:
     30
     31                                 .IF     NE      DC11
     32
     33                                         SPLC    5               ;;TO LEV
EL 5 FOR SAFETY
     34                                         CALL    SETPRM          ;;SET LI
NE PARAMETERS IF NEEDED
     35
     36                                 .ENDC   ;DC11
     37
     38                                 .IF     NE      DC11 ! DH11 ! DZ11
     39
     40                                 210$:   SPLC    3               ;;BACK T
O LEVEL 3 NOW
     41
     42                                 .ENDC   ;DC11 ! DH11 ! DZ11
     43
     44 001200                                  RETURN                  ;NOW EXI
T
        001200  000207                           RTS    PC
     45
     46 001202                          GLOBAL  <LOG$KB,TTYHCT>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 70
TIMEOUTS

      1                                 .IF     NE      DC11 ! DL11E
      2
      3                                 TTHGUP::MOV     (SP)+,(R3)      ;;SET CS
R TO HUNG UP STATE
      4                                         CLR     4(R3)           ;;DISABL
E OUTPUT SIDE
      5
      6                                 .ENDC   ;DC11 ! DL11E
      7
      8                                 .IF     NE      PK11 ! DC11 ! DL11E ! DM
11BB ! DZ11AB
      9
     10 001202  016146  000000G         TTHGLN::MOV     MODCLK(R1),-(SP) ;;SAVE
CURRENT LINE STATE
     11 001206  012761  100000  000000G         MOV     #TTDSBL,MODCLK(R1) ;; TH
EN INDICATE THIS LINE AS HUNG UP
     12 001214  116104  000002                  MOVB    DDJBNO(R1),R4   ;;GET JO
B OWNING TERMINAL (*2)
     13 001220  001412                          BEQ     10$             ;;NO JOB
     14 001222  016402  000000G                 MOV     JOBTBL(R4),R2   ;;A JOB,
 GET JOB DATA BLOCK
     15 001226  016202  000010                  MOV     JDJDB2(R2),R2   ;; THEN
JOB DATA BLOCK 2
     16 001232  010103                          MOV     R1,R3           ;;COPY D
DB POINTER
     17 001234                                  CALLX   CONNEX          ;; AND C
OMPUTE THE CONNECT TIME
        001234  004737  000000G                  JSR    PC,@#CONNEX
     18 001240  103402                          BCS     10$             ;;NOW TH
E JOB'S "CONSOLE" TERMINAL
     19 001242                                  CALL    DETJOB          ;;JOB'S
"CONSOLE", DETACH JOB
        001242  004767  002614                   JSR    PC,DETJOB
     20 001246  005726                  10$:    TST     (SP)+           ;;WAS TH
E LINE ALREADY HUNG UP?
     21 001250  100405                          BMI     20$             ;;YES
     22 001252                          .ASSUME TTDSBL  EQ      100000
     23
     24                                 .IF     NE      DM11BB
     25
     26                                         CALL    ABODHO          ;;ABORT
ANY DH11 OUTPUT IN PROGRESS
     27
     28                                 .ENDC   ;DM11BB
     29
     30 001252                                  CALL    CLRTER          ;;NOW CL
EAR OUT THE WHOLE TERMINAL
        001252  004767  010304                   JSR    PC,CLRTER
     31 001256                                  CALLX   IOFINI,R5,<JSTIM!JSTEL!J
S.KB> ;;AWAKEN ANY JOB OWNING TERMINAL
        001256  004537  000000G                  JSR    R5,@#IOFINI
        001262  024002                            .WORD JSTIM!JSTEL!JS.KB
     32 001264                          20$:    SPLC    3               ;;BACK T
O LEVEL 3 AGAIN
        001264  012737  034140  177776           MOV    #PR3,@#PS
     33 001272                                  RETURN                  ; AND EX
IT
        001272  000207                           RTS    PC
     34
     35 001274                          GLOBAL  <MODCLK,JOBTBL>
     36
     37                                 .ENDC   ;PK11 ! DC11 ! DL11E ! DM11BB !
DZ11AB
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 71
TIMEOUTS

      1                                 .IF     NE      MULTTY
      2
      3                                 .SBTTL  CHECK IF VALID MULTI-TERMINAL TE
RMINAL
      4
      5                                 ;+
      6                                 ; MULTTC - CHECK FOR VALID MULTI-TERMINA
L TERMINAL.
      7                                 ;
      8                                 ;       R0 =  KB NUMBER TIMES 2
      9                                 ;       R4 -> ORIGINAL DDB
     10                                 ;
     11                                 ;       CALL    MULTTC,R5
     12                                 ;
     13                                 ;       R1 -> KB'S DDB
     14                                 ;
     15                                 ;       FIRST RETURN IF NOT MULTI-TERMIN
AL TERMINAL
     16                                 ;
     17                                 ;       SECOND RETURN IF MULTI-TERMINAL
TERMINAL
     18                                 ;
     19                                 ;               N-BIT = 1 => LINE HUNG U
P (IF MODEM CONTROL)
     20                                 ;-
     21
     22 001274  042700  177001          MULTTC::BIC     #^C<377*2>,R0   ;TRIM JU
NK HIGH BYTE OFF KB NUMBER
     23 001300  020027  000210                  CMP     R0,#CNT.KB*2    ;VALID L
INE NUMBER?
     24 001304  103031                          BHIS    30$             ;NOPE
     25 001306  016001  000000G                 MOV     DEV.KB(R0),R1   ;GET DDB
 ADDRESS
     26 001312  126167  000002  001006          CMPB    DDJBNO(R1),JOB  ;OWNED?
     27 001320  001023                          BNE     30$             ;NOPE
     28 001322  020104                          CMP     R1,R4           ;SAME AS
 ORIGINAL DDB?
     29 001324  001416                          BEQ     20$             ;YES
     30 001326  105761  000006                  TSTB    DDCNT(R1)       ;JUST AS
SIGNED?
     31 001332  001016                          BNE     30$             ;NOPE
     32 001334  010246                          MOV     R2,-(SP)        ;SAVE R2
     33 001336  116402  000032                  MOVB    TTMODE(R4),R2   ;GET MAS
TER TERMINAL'S MODE
     34 001342  120261  000032                  CMPB    R2,TTMODE(R1)   ;ARE THE
 MODES THE SAME?
     35 001346  001404                          BEQ     10$             ;YES, CO
NTINUE
     36 001350                                  CALL    CLRTTI          ;NO, CLE
AR OUT ALL TERMINAL INPUT
        001350  004767  010152                   JSR    PC,CLRTTI
     37 001354                                  CALL    SETMOD          ;NOW SET
 THE CORRECT MODE (FROM R2)
        001354  004767  002110                   JSR    PC,SETMOD
     38 001360  012602                  10$:    MOV     (SP)+,R2        ;RESTORE
 R2
     39 001362  005725                  20$:    TST     (R5)+           ;O.K., T
AKE 2ND EXIT
     40
     41                                 .IF     NE      PK11 ! DC11 ! DL11E ! DM
11BB ! DZ11AB
     42
     43 001364  005761  000000G                 TST     MODCLK(R1)      ;SET N-B
IT=1 IF LINE HUNG UP
     44 001370                          .ASSUME TTDSBL  EQ      100000
     45
     46 001370                          GLOBAL  <MODCLK>
     47
     48                                 .ENDC   ;PK11 ! DC11 ! DL11E ! DM11BB !
DZ11AB
     49
     50 001370                          30$:    RETURN  R5              ;EXIT NO
W
        001370  000205                           RTS    R5
     51
     52 001372                          GLOBAL  <DEV.KB>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 72
ROUND-ROBIN MULTI-TERMINAL SCANNER

      1                                 .SBTTL  ROUND-ROBIN MULTI-TERMINAL SCANN
ER
      2
      3                                 ;+
      4                                 ; MULTTS - FIND PENDING INPUT ON NEXT (R
OUND ROBIN) MULTI-TERMINAL TERMINAL.
      5                                 ;
      6                                 ;       R4 -> MASTER DDB
      7                                 ;
      8                                 ;       CALL    MULTTS,R5
      9                                 ;
     10                                 ;       R0 =  KEYBOARD NUMBER TIMES 2
     11                                 ;       R1 -> DDB
     12                                 ;
     13                                 ;       FIRST RETURN IS ONE FOUND
     14                                 ;       SECOND RETURN IS NONE FOUND
     15                                 ;-
     16
     17 001372  005725                  MULTTS::TST     (R5)+           ;PRESET
THE 2ND RETURN (NONE FOUND)
     18 001374  005000                          CLR     R0              ;GET STA
RTING KB # *2
     19 001376  156400  000000G                 BISB    TTMSCN(R4),R0   ; FOR TH
E SCANNING
     20 001402  005720                  10$:    TST     (R0)+           ;ADVANCE
 TO THE NEXT KB # *2
     21 001404  020027  000210                  CMP     R0,#CNT.KB*2    ;OUT OF
RANGE?
     22 001410  103401                          BLO     20$             ;NO
     23 001412  005000                          CLR     R0              ;YES, RE
SET TO KB0:
     24 001414                          20$:    CALL    MULTTC,R5       ;IS THIS
 ONE OF OUR MULTI-TERMINAL KB'S?
        001414  004567  177654                   JSR    R5,MULTTC
     25 001420  000407                            BR    40$             ;NOPE
     26
     27                                 .IF     NE      PK11 ! DC11 ! DL11E ! DM
11BB ! DZ11AB
     28
     29 001422  100403                          BMI     30$             ;YEP, BU
T DON'T INPUT CHECK IF LINE HUNG UP
     30
     31                                 .ENDC   ;PK11 ! DC11 ! DL11E ! DM11BB !
DZ11AB
     32
     33 001424                                  CALL    CHKINP          ;LINE O.
K., ANY PENDING INPUT?
        001424  004767  005412                   JSR    PC,CHKINP
     34 001430  103003                          BCC     40$             ;NO PEND
ING INPUT HERE
     35 001432  110064  000000G         30$:    MOVB    R0,TTMSCN(R4)   ;PENDING
 INPUT, SAVE THE KB # *2
     36 001436  005745                          TST     -(R5)           ; AND TA
KE 1ST RETURN ('CMPB' WON'T BRANCH)
     37 001440  120064  000000G         40$:    CMPB    R0,TTMSCN(R4)   ;DID WE
JUST DO THE ORIGINAL KB?
     38 001444  001356                          BNE     10$             ;NO, CON
TINUE TO CONTINUE
     39 001446                                  RETURN  R5              ;YES, EX
IT
        001446  000205                           RTS    R5
     40
     41 001450                          GLOBAL  <TTMSCN>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 73
MULTI-TERMINAL SERVICE CODE

      1                                 .SBTTL  MULTI-TERMINAL SERVICE CODE
      2
      3                                 .ENABL  LSB
      4
      5 001450                          10$:    CALL    MULTTS,R5       ;DO ROUN
D-ROBIN CHECK FOR PENDING INPUT
        001450  004567  177716                   JSR    R5,MULTTS
      6 001454  000467                            BR    60$             ;FOUND O
NE, GET THAT INPUT
      7 001456  062703  000012                  ADD     #XRMOD-XRBC,R3  ;NONE FO
UND, INDEX TO PARAMETER WORD
      8 001462  032713  020000                  BIT     #TI.NST,(R3)    ;DESIRE
A STALL?
      9 001466  001016                          BNE     30$             ;NO, SO
GIVE HIM AN ERROR
     10 001470  116704  001006                  MOVB    JOB,R4          ;YES. GE
T THE JOB NUMBER
     11 001474  005064  000000G                 CLR     JOBCLK(R4)      ;ENSURE
HIGH ORDER OF TIMER IS ZERO
     12 001500  111364  000000G                 MOVB    (R3),JOBCLK(R4) ;SET "SL
EEP" TIME IF ANY
     13 001504  001405                          BEQ     20$             ;NONE, J
UST PUT INTO WAIT STATE
     14 001506  052713  020000                  BIS     #TI.NST,(R3)    ;ONE, TA
KE ERROR EXIT NEXT TIME
     15 001512  052764  020000  000000G         BIS     #JSTIM,JBWAIT(R4) ; AND
INCLUDE THAT IN WAKEUP CONDITIONS
     16 001520                          20$:    JMPX    IOREDO          ;NOW STA
LL
        001520  000137  000000G                  JMP    @#IOREDO
     17
     18 001524                          30$:    ERROR   DATERR          ;GIVE "N
O DATA" ERROR
        001524  104400G                          .WORD  TRAP+DATERR
     19
     20 001526                          40$:    ERROR   NODEVC          ;SAY "NO
T A MULTI-TERMINAL TERMINAL"
        001526  104400G                          .WORD  TRAP+NODEVC
     21
     22                                 ; MULTI-TERMINAL WRITE SERVICE
     23
     24 001530  010104                  MULTTO::MOV     R1,R4           ;SAVE OR
IGINAL DDB ADDRESS
     25 001532  105763  000004                  TSTB    XRCI-XRBC(R3)   ;CHANNEL
 #0?
     26 001536  001557                          BEQ     TTOMUL          ;YES, AL
WAYS NORMAL I/O
     27 001540  016300  000012                  MOV     XRMOD-XRBC(R3),R0 ;NO, F
ETCH KB NUMBER PARAMETER
     28 001544  006300                          ASL     R0              ;MAKE IT
 TIMES TWO
     29 001546                                  CALL    MULTTC,R5       ;VERIFY
IT AS MULTI-TERMINAL
        001546  004567  177522                   JSR    R5,MULTTC
     30 001552  000765                            BR    40$             ;ERROR I
F NOT
     31
     32                                 .IF     NE      PK11 ! DC11 ! DL11E ! DM
11BB ! DZ11AB
     33
     34 001554  100526                          BMI     DETERR          ;GIVE AN
 ERROR IF HUNG UP
     35
     36                                 .ENDC   ;PK11 ! DC11 ! DL11E ! DM11BB !
DZ11AB
     37
     38 001556  042711  100000                  BIC     #DDSTAT,(R1)    ;RE-ENAB
LE THAT OUTPUT
     39 001562  000545                          BR      TTOMUL          ; AND PR
OCESS OUTPUT
     40
     41 001564                          GLOBAL  <JOBCLK,JBWAIT>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 74
MULTI-TERMINAL SERVICE CODE

      1                                 ; MULTI-TERMINAL READ SERVICE
      2
      3 001564  105763  000004          TTISER::TSTB    XRCI-XRBC(R3)   ;CHANNEL
 #0??
      4 001570  001003                          BNE     50$             ;NO, SO
LEAVE PARAMETER WORD ALONE
      5 001572  042763  100000  000012          BIC     #TI.MUL,XRMOD-XRBC(R3) ;
YES, SO ALWAYS NORMAL I/O
      6 001600  016304  000012          50$:    MOV     XRMOD-XRBC(R3),R4 ;GET T
HE PARAMETER WORD
      7 001604  100024                          BPL     70$             ;>=0 SO
NOT MULTI-TERMINAL CALL
      8 001606                          .ASSUME TI.MUL  EQ      100000
      9 001606  010400                          MOV     R4,R0           ;NOW PUT
 PARAMETER WORD INTO CORRECT REGISTER
     10 001610  010104                          MOV     R1,R4           ; AND SA
VE THE ORIGINAL DDB ADDRESS
     11 001612  006300                          ASL     R0              ;MAKE IN
TO CORRECT KB NUMBER
     12 001614  100715                          BMI     10$             ;SCAN AL
L MULTI-TERMINAL'S IS <0 HERE
     13 001616                          .ASSUME TI.SCA  EQ      040000
     14 001616                                  CALL    MULTTC,R5       ;SCAN JU
ST THIS TERMINAL (CHECK FOR VALID)
        001616  004567  177452                   JSR    R5,MULTTC
     15 001622  000741                            BR    40$             ;ERROR I
F NOT MULTI-TERMINAL
     16
     17                                 .IF     NE      PK11 ! DC11 ! DL11E ! DM
11BB ! DZ11AB
     18
     19 001624  100403                          BMI     60$             ;DON'T I
NPUT CHECK IF LINE HUNG UP
     20
     21                                 .ENDC   ;PK11 ! DC11 ! DL11E ! DM11BB !
DZ11AB
     22
     23 001626                                  CALL    CHKINP          ;ANY DAT
A THERE?
        001626  004767  005210                   JSR    PC,CHKINP
     24 001632  103334                          BCC     30$             ;NO, GIV
E AN ERROR
     25 001634  110002                  60$:    MOVB    R0,R2           ;NOW GET
 THE KB NUMBER TIMES TWO
     26 001636  000241                          CLC                     ;MAKE SU
RE CARRY IS CLEAR
     27 001640  106002                          RORB    R2              ;MAKE IT
 KB NUMBER TIME 1
     28 001642                                  PUTUSR                  ; AND PU
T IT IN THE USER'S BUFFER
        001642  110215                           MOVB   R2,(R5)
        001644  005205                           INC    R5
     29 001646  005213                          INC     (R3)            ;COUNTIN
G THAT AS ONE BYTE READ
     30
     31                                 .IF     NE      PK11 ! DC11 ! DL11E ! DM
11BB ! DZ11AB
     32
     33 001650  005761  000000G                 TST     MODCLK(R1)      ;IS THIS
 LINE HUNG UP?
     34 001654  100466                          BMI     DETERR          ;YES, GI
VE AN ERROR
     35 001656                          .ASSUME TTDSBL  EQ      100000
     36
     37 001656                          GLOBAL  <MODCLK>
     38
     39                                 .ENDC   ;PK11 ! DC11 ! DL11E ! DM11BB !
DZ11AB
     40
     41 001656  000167  000566          70$:    JMP     TTIMUL          ;NOW CON
TINUE WITH INPUT
     42
     43                                 .DSABL  LSB
     44
     45                                 .ENDC   ;MULTTY
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 75
USER LEVEL SERVICE

      1                                 .SBTTL  USER LEVEL SERVICE
      2
      3                                 .ENABL  LSB
      4
      5 001662  032777  010000  001012  10$:    BIT     #JFNOPR,@JOBF   ;LOGGED
OR LOGGING OUT?
      6 001670  001006                          BNE     20$             ;YES, SI
GNAL THE JOB KILL...
      7 001672  105763  000006                  TSTB    XRCI(R3)        ;NO, CHA
NNEL #0??
      8 001676  001403                          BEQ     20$             ;JUST HI
BERNATE IF SO
      9 001700  020127  000000G                 CMP     R1,#KBFDDB      ;GUARDED
 DETACHED JOB??? (USING FAKE DDB?)
     10 001704  001452                          BEQ     DETERR          ;ALWAYS
GIVE AN ERROR IF SO
     11 001706  005064  000000G         20$:    CLR     JBWAIT(R4)      ;INFINIT
E WAIT IF STALLED AND DETACHED
     12 001712  005402                          NEG     R2              ;MAKE "E
DITOR" TYPE STALL (WAS 2 OR 4)
     13 001714  000167  001174                  JMP     IOTEST          ; AND GO
 STALL (OR KILL JOB)
     14
     15 001720                          GLOBAL  <KBFDDB,JBWAIT>
     16
     17                                 ;+
     18                                 ; SER$KB - USER LEVEL READ/WRITE SERVICE
.
     19                                 ;
     20                                 ;       R0 =  UNIT NUMBER TIMES TWO
     21                                 ;       R1 -> DDB/FCB
     22                                 ;       R2 =  2 (.READ)
     23                                 ;             4 (.WRITE)
     24                                 ;       R3 -> XRB
     25                                 ;       R4 =  CALLING JOB NUMBER TIMES 2
     26                                 ;       R5 -> USER'S BUFFER (THROUGH KIS
AR6)
     27                                 ;       IF Z=1 OR C=0 THEN THIS IS THE F
IRST CALL
     28                                 ;       IF Z=0 OR C=1 THEN THIS IS A "RE
DO" CALL
     29                                 ;
     30                                 ; NOTES:
     31                                 ;
     32                                 ;       1) ACCESS RIGHTS HAVE BEEN VERIF
IED.
     33                                 ;       2) DIRECTIONAL RIGHTS HAVE BEEN 
VERIFIED.
     34                                 ;
     35                                 ; EXITS:
     36                                 ;
     37                                 ;       1) ALL COMPLETE WITH NO ERROR
     38                                 ;
     39                                 ;               JMP     IOEXIT
     40                                 ;
     41                                 ;       2) ALL COMPLETE WITH ERROR
     42                                 ;
     43                                 ;               SETERR  CODE
     44                                 ;               JMP     IOEXIT
     45                                 ;
     46                                 ;               -OR-
     47                                 ;
     48                                 ;               ERROR   CODE
     49                                 ;
     50                                 ;       3) STALL DESIRED (FOR "REDO" LAT
ER)
     51                                 ;
     52                                 ;               JMP     IOREDO
     53                                 ;-
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 76
USER LEVEL SERVICE

      1 001720                                  TMPORG  SERTBL,2
      2
      3 000002  001720'                         .WORD   SER$KB
      4
      5 000004                                  UNORG
      6
      7 001720  005063  000010          SER$KB::CLR     XRBLK(R3)       ;INDICAT
E TRUELY A
      8 001724  105063  000007                  CLRB    XRBLKM(R3)      ; SEQUEN
TIAL DEVICE
      9 001730  120461  000002                  CMPB    R4,DDJBNO(R1)   ;DOES JO
B OWN THE TERMINAL?
     10 001734  001032                          BNE     40$             ;IF NO M
ATCH, THEN DETACHED
     11
     12                                 .IF     NE      PK11 ! DC11 ! DL11E ! DM
11BB ! DZ11AB
     13
     14 001736  005761  000000G                 TST     MODCLK(R1)      ;IS KB E
NABLED?
     15 001742  100427                          BMI     40$             ;ERROR I
F NOT
     16 001744                          .ASSUME TTDSBL  EQ      100000
     17
     18 001744                          GLOBAL  <MODCLK>
     19
     20                                 .ENDC   ;PK11 ! DC11 ! DL11E ! DM11BB !
DZ11AB
     21
     22 001744  105763  000006                  TSTB    XRCI(R3)        ;CHANNEL
 0?
     23 001750  001031                          BNE     50$             ;IF NOT,
 THEN NORMAL
     24 001752  132761  000071  000032          BITB    #TTPCOL!TTGARD!TTECTL!TT
BIN,TTMODE(R1) ;ANY "FUNNY" MODE(S)?
     25 001760  001414                          BEQ     30$             ;NOPE
     26 001762                                  CALL    BINEND          ;CANCEL
BINARY INPUT MODE
        001762  004767  007522                   JSR    PC,BINEND
     27 001766  142761  000060  000032          BICB    #TTPCOL!TTGARD,TTMODE(R1
) ; AND CANCEL ANY OTHER(S)
     28
     29                                 .IF     NE      EKOCTL
     30
     31 001774                                  REGSAV                  ;SAVE AL
L REGISTERS
        001774  004537  000000G                  JSR    R5,@#REGSAV
     32 002000  010104                          MOV     R1,R4           ;SAY THI
S "IS THE CONSOLE"
     33 002002                                  CALL    EKOEND          ; AND EN
D ECHO CONTROL MODE IF NEEDED
        002002  004767  001612                   JSR    PC,EKOEND
     34 002006                                  CALLX   REGRES,R5       ;NOW RES
TORE ALL REGISTERS
        002006  004537  000000G                  JSR    R5,@#REGRES
     35
     36                                 .ENDC   ;EKOCTL
     37
     38 002012  032761  020000  000006  30$:    BIT     #DDCONS,DDCNT(R1) ;REALL
Y CONSOLE?
     39 002020  001005                          BNE     50$             ;IF SO,
THEN NORMAL
     40 002022  017746  001010          40$:    MOV     @JOBDA,-(SP)    ;GET IOB
 ADDRESS
     41 002026  020136                          CMP     R1,@(SP)+       ; AND SE
E IF IT IS CONSOLE
     42 002030  001714                          BEQ     10$             ;IF SO,
THEN MORE CHECKING
     43 002032                          DETERR::ERROR   DETKEY          ;IF NOT,
 THEN IMMEDIATE ERROR
        002032  104400G                          .WORD  TRAP+DETKEY
     44
     45 002034  005723                  50$:    TST     (R3)+           ;GET PTR
 TO XRB @XRBC
     46 002036  020227  000002                  CMP     R2,#.READ&377   ;WAS IT
A READ OR WRITE REQUEST?
     47 002042  001650                          BEQ     TTISER          ;SINCE R
EAD=2, IT WAS READ
     48
     49                                 .DSABL  LSB
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 77
USER LEVEL OUTPUT SERVICE

      1                                 .SBTTL  USER LEVEL OUTPUT SERVICE
      2
      3 002044  012764  004000  000000G         MOV     #JSTEL,JBWAIT(R4) ;IF OU
TPUT SET OUTPUT WAIT
      4                                 .IF     NE      MULTTY
      5 002052  005763  000012                  TST     XRMOD-XRBC(R3)  ;MULTI-T
ERMINAL CALL?
      6 002056  100624                          BMI     MULTTO          ;YEP
      7 002060                          .ASSUME TO.MUL  EQ      100000
      8                                 .ENDC   ;MULTTY
      9 002060  022763  000001  000012          CMP     #1,XRMOD-XRBC(R3) ;OLD S
TYLE BINARY OUTPUT?
     10 002066  001003                          BNE     TTOMUL          ;NO
     11 002070  012763  010000  000012          MOV     #TO.BIN,XRMOD-XRBC(R3) ;
YES, UPDATE TO NEW STYLE
     12 002076  012746  000000G         TTOMUL::MOV     #IOEXIT,-(SP)   ;SET DON
E COMPLETION RETURN ADDRESS
     13 002102  005711                          TST     (R1)            ;HAS CON
TROL/O IN EFFECT?
     14 002104  100532                          BMI     90$             ;YES, DO
N'T ALTER ANYTHING...
     15 002106                          .ASSUME DDSTAT  EQ      100000
     16 002106                                  CALL    CHKRSX,R5       ;CHECK F
OR RSX MODE AND/OR RSX DESIRED
        002106  004567  010324                   JSR    R5,CHKRSX
     17 002112  000446                            BR    40$             ;NO RSX
MODE DESIRED, JUST CONTINUE
     18 002114  000414                            BR    20$             ;RSX MOD
E DESIRED, WE'RE IN RSX MODE
     19 002116  126161  000020  000021          CMPB    DDHORZ(R1),DDHORC(R1) ;;
JUST INTO RSX MODE, AT LEFT MARGIN?
     20 002124  001402                          BEQ     10$             ;;YES, P
RESET MODE OF EXTRA <LF> IS CORRECT
     21 002126                                  CALL    RSXCR           ;;NO, OU
TPUT A <CR> AND SET <LF> NEEDED MODE
        002126  004767  010216                   JSR    PC,RSXCR
     22 002132                          10$:    CALL    RSXEAT,R4,015   ;;EAT AN
Y LEADING <CR> (WE FORCED LEFT MARGIN)
        002132  004467  010254                   JSR    R4,RSXEAT
        002136  000015                            .WORD 015
     23 002140  052763  002000  000012          BIS     #TO.PRE,XRMOD-XRBC(R3) ;
;FORCE A "PREFIX" CALL TO EAT <LF>
     24 002146                          20$:    SPLC    5               ;;ENSURE
 LEVEL 5 FOR SAFETY NOW
        002146  012737  034240  177776           MOV    #PR5,@#PS
     25 002154  032763  002000  000012          BIT     #TO.PRE,XRMOD-XRBC(R3) ;
;IS THIS THE "PREFIX" CALL?
     26 002162  001407                          BEQ     30$             ;;NOPE (
OR INITIAL CHECK ALREADY DONE)
     27 002164  032761  000004  000010          BIT     #TTRSX1,DDFLAG(R1) ;;IS
EXTRA <LF> SET?
     28 002172  001003                          BNE     30$             ;;NO EXT
RA <LF>, SO KEEP WHOLE THING
     29 002174                                  CALL    RSXEAT,R4,012   ;;YEP, E
AT A <LF> IF ONE'S THERE
        002174  004467  010212                   JSR    R4,RSXEAT
        002200  000012                            .WORD 012
     30 002202  042763  002000  000012  30$:    BIC     #TO.PRE,XRMOD-XRBC(R3) ;
;WE DO "PREFIX" CHECK ONLY ONCE
     31 002210  052761  000404  000010          BIS     #TTRSX2!TTRSX1,DDFLAG(R1
) ;;FORCE RSX MODE
     32 002216  105361  000011                  DECB    DDFLAG+1(R1)    ;; OF NO
RMAL RSX
     33 002222                          .ASSUME TTRSX2  EQ      400
     34 002222                                  SPLC    3               ;;NOW WE
 CAN GO BACK TO LEVEL 3
        002222  012737  034140  177776           MOV    #PR3,@#PS
     35 002230  005046                  40$:    CLR     -(SP)           ;GUESS A
T NORMAL I/O (0=>DONE)
     36                                 .IF     NE      EKOCTL
     37 002232  032763  000400  000012          BIT     #TO.DEC,XRMOD-XRBC(R3) ;
ECHO FIELD DECLARATION ?
     38 002240  001406                          BEQ     50$             ;NO, NOR
MAL PUT
     39 002242  132761  000010  000032          BITB    #TTECTL,TTMODE(R1) ;YES,
 ECHO CONTROL MODE?
     40 002250  001402                          BEQ     50$             ;NOPE
     41 002252  012716  000002                  MOV     #2,(SP)         ;YEP, SO
 STOP WHEN <=2 DO TO
     42 002256                          50$:
     43                                 .ENDC   ;EKOCTL
     44 002256  012763  007504' 000016          MOV     #CHOUT,XRBUSE-XRBC(R3) ;
GUESS AT NORMAL OUTPUT
     45 002264  032763  010000  000012          BIT     #TO.BIN,XRMOD-XRBC(R3) ;
GOOD GUESS?
     46 002272  001403                          BEQ     60$             ;YES, NO
RMAL OUTPUT IT IS
     47 002274  012763  007766' 000016          MOV     #CHROUT,XRBUSE-XRBC(R3)
;NO, SWITCH TO BINARY MODE OUTPUT
     48
     49 002302                          GLOBAL  <JBWAIT,IOEXIT>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 78
USER LEVEL OUTPUT SERVICE

      1 002302  022316                  60$:    CMP     (R3)+,(SP)      ;MORE TO
 OUTPUT?
      2 002304  101443                          BLOS    100$            ;NO, WE'
RE DONE WITH OUTPUT
      3 002306  005711                          TST     (R1)            ;HAS USE
R TYPED A ^O RECENTLY?
      4 002310  100427                          BMI     80$             ;YES, SO
 DON'T TYPE ANYTHING
      5 002312                          .ASSUME DDSTAT  EQ      100000
      6 002312                                  CALL    CHKFRE          ;CHECK F
OR FREE BUFFERS
        002312  004767  005600                   JSR    PC,CHKFRE
      7 002316  103421                          BCS     70$             ;NOT ENO
UGH, SO STALL
      8 002320                                  GETUSR                  ;GET A C
HARACTER FROM THE USER'S BUFFER
        002320  111502                           MOVB   (R5),R2
        002322  005205                           INC    R5
      9 002324  010346                          MOV     R3,-(SP)        ;SAVE TH
E XRB POINTER
     10 002326                                  SPLC    5               ;;NOW GO
 UP TO LOCK OUT TERMINAL INTERRUPTS
        002326  012737  034240  177776           MOV    #PR5,@#PS
     11 002334                                  CALL    @XRBUSE-XRLOC(R3) ;; AND
 CALL THE OUTPUT ROUTINE
        002334  004773  000014                   JSR    PC,@XRBUSE-XRLOC(R3)
     12 002340                                  SPLC    3               ;;BACK T
O LEVEL 3 AGAIN
        002340  012737  034140  177776           MOV    #PR3,@#PS
     13 002346  012603                          MOV     (SP)+,R3        ;RESTORE
 THE XRB POINTER
     14 002350  005213                          INC     (R3)            ; AND BU
MP UP THE ADDRESS
     15 002352  005343                          DEC     -(R3)           ;  AND B
UMP DOWN THE BYTE COUNT
     16 002354                                  CALLX   LOOPCK,R5       ;SOMEONE
 MORE IMPORTANT TO RUN?
        002354  004537  000000G                  JSR    R5,@#LOOPCK
     17 002360  103350                          BCC     60$             ;NO, SO
CONTINUE
     18 002362  012766  003220' 000002  70$:    MOV     #IOSTAL,2(SP)   ;CHANGE
RETURN ADDRESS TO STALL THIS JOB
     19 002370  005726                  80$:    TST     (SP)+           ;POP THE
 FINISHING COUNT WORD
     20 002372                          90$:    SPLC    5               ;;SET LE
VEL 5 FOR SAFETY
        002372  012737  034240  177776           MOV    #PR5,@#PS
     21 002400                                  CALL    CHKLIN          ;;GO CHE
CK THE LINE
        002400  004767  006710                   JSR    PC,CHKLIN
     22 002404                                  SPLC    3               ;;BACK T
O LEVEL 3 AGAIN
        002404  012737  034140  177776           MOV    #PR3,@#PS
     23 002412                                  RETURN                  ; AND EX
IT TO WHOEVER...
        002412  000207                           RTS    PC
     24
     25 002414                          100$:   SPLC    5               ;;GO TO
LEVEL 5 FOR SAFETY
        002414  012737  034240  177776           MOV    #PR5,@#PS
     26 002422  032763  004000  000010          BIT     #TO.SUF,XRMOD-XRLOC(R3)
;;DOING "POSTFIX" CHECKING?
     27
     28                                 .IF     EQ      EKOCTL
     29                                         BEQ     80$             ;;NO, JU
ST EXIT
     30                                 .IFF
     31 002430  001402                          BEQ     110$            ;;NO, CH
ECK FOR A FIELD DECLARATION
     32                                 .ENDC   ;EKOCTL
     33
     34 002432                                  CALL    RSXCR           ;;YES, O
UTPUT A <CR> AND SET <LF> NEEDED MODE
        002432  004767  007712                   JSR    PC,RSXCR
     35
     36                                 .IF     EQ      EKOCTL
     37                                         BR      80$             ;;GO EXI
T CLEANING UP THE STACK
     38                                 .IFF
     39 002436  005726                  110$:   TST     (SP)+           ;;FIELD
DECLARATION?
     40 002440  001754                          BEQ     90$             ;;NOPE,
ALL DONE
     41 002442                                  CALL    EKODEC          ;;YEP, S
O GO DO IT
        002442  004767  000642                   JSR    PC,EKODEC
     42 002446  000751                          BR      90$             ; THEN E
XIT
     43                                 .ENDC   ;EKOCTL
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 79
USER LEVEL INPUT SERVICE

      1                                 .SBTTL  USER LEVEL INPUT SERVICE
      2
      3                                 .IF     NE      MULTTY
      4
      5 002450                          TTIMUL::                        ;ENTRY A
FTER MULTI-TERMINAL CHECK
      6
      7                                 .IFF
      8
      9                                 TTISER::BIC     #TI.MUL,XRMOD-XRBC(R3) ;
ENSURE NOT MULTI-TERMINAL CALL
     10
     11                                 .ENDC   ;MULTTY
     12
     13 002450  042711  100000                  BIC     #DDSTAT,(R1)    ;RE-ENAB
LE OUTPUT IF READING
     14 002454                                  CALL    CHKRSX,R5       ;CHECK F
OR RSX MODE AND RSX DESIRED
        002454  004567  007756                   JSR    R5,CHKRSX
     15 002460  000411                            BR    10$             ;NORMAL
MODE
     16 002462  000410                            BR    10$             ;RSX MOD
E, AND WE'RE IN IT
     17 002464  052761  000404  000010          BIS     #TTRSX2!TTRSX1,DDFLAG(R1
) ;;ENSURE BEING IN
     18 002472  105361  000011                  DECB    DDFLAG+1(R1)    ;; RSX N
ORMAL MODE
     19 002476                          .ASSUME TTRSX2  EQ      400
     20 002476                                  SPLC    3               ;;BACK T
O LEVEL 3 NOW
        002476  012737  034140  177776           MOV    #PR3,@#PS
     21 002504  032777  010000  001012  10$:    BIT     #JFNOPR,@JOBF   ;IS THIS
 JOB LOGGED IN?
     22 002512  001403                          BEQ     20$             ;YES
     23 002514  005763  000010                  TST     XRTIME-XRBC(R3) ;NO, IS
THIS THE "EDITOR" WAIT??
     24 002520  100536                          BMI     130$            ;STALL (
I.E. KILL) THIS JOB IF SO
     25 002522  005761  000026          20$:    TST     TTINPT+BC(R1)   ;OVER QU
OTA ON INPUT BUFFER CHAIN?
     26 002526  002406                          BLT     30$             ;YES, PR
OCESS INPUT EVEN WITHOUT A DELIMITER
     27 002530                                  SPLC    5               ;;ELSE G
OTO LEVEL 5
        002530  012737  034240  177776           MOV    #PR5,@#PS
     28 002536                                  CALL    CHKINP          ;;TO CHE
CK FOR PENDING INPUT
        002536  004767  004300                   JSR    PC,CHKINP
     29 002542  103120                          BCC     120$            ;;NO PEN
DING INPUT, GO TRY TO STALL
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 80
USER LEVEL INPUT SERVICE

      1 002544  026313  177776          30$:    CMP     XRLEN-XRBC(R3),(R3) ;CHE
CK "LENGTH" VS. "COUNT"
      2 002550  101471                          BLOS    100$            ;IF USER
 BUFFER ALL FULL, THEN QUIT NOW
      3 002552                                  SPLC    5               ;;ELSE G
O TO LEVEL 5 TO STOP TERMINAL INTERRUPTS
        002552  012737  034240  177776           MOV    #PR5,@#PS
      4 002560                                  CALLX   FETCH,R5,TTINPT+EP ;; AN
D FETCH A CHARACTER FROM THE INPUT CHAIN
        002560  004537  000000G                  JSR    R5,@#FETCH
        002564  000022                            .WORD TTINPT+EP
      5 002566                                  SPL     3               ;;DROP B
ACK TO LEVEL 3 AGAIN (SAVING CARRY)
        002566  052737  034340  177776           BIS    #PR7,@#PS
        002574  042737  000200  177776           BIC    #^C<3>&7*40,@#PS
      6 002602  103500                          BCS     120$            ;IF NO M
ORE IN CHAIN, THEN STALL JOB
      7 002604  005263  000002                  INC     XRLOC-XRBC(R3)  ;ELSE BU
MP UP THE BUFFER ADDRESS
      8 002610  005213                          INC     (R3)            ; AND BU
MP UP THE BYTE COUNT
      9 002612                                  PUTUSR                  ;  AND S
TORE CHARACTER IN USER'S BUFFER
        002612  110215                           MOVB   R2,(R5)
        002614  005205                           INC    R5
     10 002616  105702                          TSTB    R2              ;WHAT WA
S THAT CHARACTER?
     11 002620  001751                          BEQ     30$             ;A NULL,
 CONTINUE
     12 002622  120261  000033                  CMPB    R2,TTPDLM(R1)   ;IS IT T
HE PRIVATE DELIMITER?
     13 002626  001416                          BEQ     60$             ;YES, AL
L DONE
     14 002630  032763  002000  000012          BIT     #TI.ISB,XRMOD-XRBC(R3) ;
DOING RSX I/O STATUS BLOCK?
     15 002636  001403                          BEQ     40$             ;NOPE
     16 002640  120227  000015                  CMPB    R2,#015         ;YEP, IS
 IT <CR> (THAT'S A DELIMITER)?
     17 002644  001443                          BEQ     110$            ;IT IS <
CR>, WE MUST GO EAT THE FOLLOWING <LF>
     18 002646  012704  013002'         40$:    MOV     #TTDLIM,R4      ;GET ADD
RESS OF DELIMITER LIST
     19 002652  120224                  50$:    CMPB    R2,(R4)+        ;DELIMIT
ER??
     20 002654  103776                          BLO     50$             ;NO, AND
 KEEP LOOPING
     21 002656  101332                          BHI     30$             ;NO, AND
 QUIT LOOPING
     22 002660  052702  000400                  BIS     #400,R2         ;YES, FL
AG AS FROM THE DELIMITER LIST
     23 002664  032763  002000  000012  60$:    BIT     #TI.ISB,XRMOD-XRBC(R3) ;
DOING RSX I/O STATUS BLOCK?
     24 002672  001403                          BEQ     80$             ;NOPE
     25 002674  005313                  70$:    DEC     (R3)            ;DON'T C
OUNT THE DELIMITER IN XRBC
     26 002676  110263  000005                  MOVB    R2,XRBLKM-XRBC(R3) ; AND
 RETURN DELIMITER IN XRBLKM
     27 002702  020227  000432          80$:    CMP     R2,#<'Z-100>!400 ;WAS IT
 CTRL/Z FROM DELIMITER LIST?
     28 002706  001010                          BNE     90$             ;NOPE
     29 002710                                  CALL    TTISGL          ;CHECK F
OR SPECIAL MODE(S)
        002710  004767  000354                   JSR    PC,TTISGL
     30 002714  001005                          BNE     90$             ;SPECIAL
, SO NO EOF ERROR
     31 002716                                  SETERR  EOF,@IOSTS      ;NORMAL,
 SO GIVE "EOF" ERROR
        002716  112777  000000G 001014           MOVB   #EOF,@IOSTS
     32 002724  105063  000005                  CLRB    XRBLKM-XRBC(R3) ; AND NE
VER RETURN A DELIMITING CHARACTER
     33 002730  105361  000030          90$:    DECB    TTDLMC(R1)      ;ONE LES
S DELIMITER IN BUFFER CHAIN NOW
     34 002734                          100$:   SPLC    3               ;ENSURE
THAT WE ARE BACK TO LEVEL 3
        002734  012737  034140  177776           MOV    #PR3,@#PS
     35 002742  042761  000010  000010          BIC     #TTDDT,DDFLAG(R1) ;DDT S
UB-MODE IS ONE-SHOT
     36 002750                                  JMPX    IOEXIT          ; AND EX
IT
        002750  000137  000000G                  JMP    @#IOEXIT
     37
     38 002754                          110$:   SPLC    5               ;;GO TO
LEVEL 5 TO STOP TERMINAL INTERRUPTS
        002754  012737  034240  177776           MOV    #PR5,@#PS
     39 002762                                  CALLX   FETCH,R5,TTINPT+EP ;; AN
D FETCH A <LF> FROM THE INPUT CHAIN
        002762  004537  000000G                  JSR    R5,@#FETCH
        002766  000022                            .WORD TTINPT+EP
     40 002770                                  SPLC    3               ;;DROP B
ACK TO LEVEL 3 AGAIN
        002770  012737  034140  177776           MOV    #PR3,@#PS
     41 002776  012702  000015                  MOV     #015,R2         ;RESET C
HARACTER TO BE <CR>
     42 003002  000734                          BR      70$             ; AND GO
 CALL IT A DELIMITER
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 81
INPUT STALL

      1                                 .SBTTL  INPUT STALL
      2
      3 003004                          120$:   CALL    TTISGL          ;SEE IF
SPECIAL MODE(S)
        003004  004767  000260                   JSR    PC,TTISGL
      4 003010  001402                          BEQ     130$            ;NOT IN
SPECIAL MODE, NORMAL RULES
      5 003012  005713                          TST     (R3)            ;USER IS
--GET AT LEAST ONE CHARACTER?
      6 003014  001347                          BNE     100$            ;YES--BA
CK TO JOB, REGARDLESS OF DELIMITERS
      7 003016  010346                  130$:   MOV     R3,-(SP)        ;SAVE TH
E WORK BLOCK POINTER
      8 003020                                  SPLC    5               ;;ENSURE
 LEVEL 5 FOR SAFETY
        003020  012737  034240  177776           MOV    #PR5,@#PS
      9 003026                                  CALL    CHKDLF          ;;GO CHE
CK FOR NEEDING A <LF>
        003026  004767  005322                   JSR    PC,CHKDLF
     10 003032                                  CALL    ASKINP          ;;GO RUN
 THE READER AND XON INPUT IF NEEDED
        003032  004767  007246                   JSR    PC,ASKINP
     11 003036  012603                          MOV     (SP)+,R3        ;;RESTOR
E WORK BLOCK POINTER
     12 003040  005060  000000G                 CLR     TIM.KB(R0)      ;;CLEAR
TIME OUT INITIALLY
     13 003044  016302  000010                  MOV     XRTIME-XRBC(R3),R2 ;;WAI
T OF 0 OR EDIT MODE (<0)??
     14 003050  003402                          BLE     140$            ;;IF SO,
 THEN LEAVE CLOCK ALONE
     15 003052  010260  000000G                 MOV     R2,TIM.KB(R0)   ;;TIME O
UT TERMINAL WAIT
     16 003056                          140$:
     17
     18                                 .IF     NE      EKOCTL
     19
     20 003056  132761  000010  000032          BITB    #TTECTL,TTMODE(R1) ;;ECH
O CONTROL MODE?
     21 003064  001403                          BEQ     150$            ;;NOPE
     22 003066  005761  000000G                 TST     EKOCTW(R1)      ;;YEP, I
S A FIELD DECLARED??
     23 003072  100007                          BPL     160$            ;;NO FIE
LD, GIVE AN ERROR (DON'T HANG...)
     24 003074                          150$:
     25
     26 003074                          GLOBAL  <EKOCTW>
     27
     28                                 .ENDC   ;EKOCTL
     29
     30 003074                                  SPLC    3               ;;BACK T
O LEVEL 3 AGAIN
        003074  012737  034140  177776           MOV    #PR3,@#PS
     31 003102  032763  120000  000012          BIT     #TI.MUL!TI.NST,XRMOD-XRB
C(R3) ;CAN WE STALL?
     32 003110  001401                          BEQ     IOTEST          ;YES
     33 003112                          160$:   ERROR   DATERR          ;NO, SO
GIVE ERROR INSTEAD
        003112  104400G                          .WORD  TRAP+DATERR
     34
     35 003114                          GLOBAL  <TIM.KB>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 82
INPUT STALL

      1 003114  032777  010000  001012  IOTEST::BIT     #JFNOPR,@JOBF   ;LOGGED
OUT OR LOGGING IN OR OUT??
      2 003122  001436                          BEQ     IOSTAL          ;IF NOT
NO MORE CHECKING
      3 003124  005702                          TST     R2              ;IF SO,
WAS EDITOR CALLING?
      4 003126  100034                          BPL     IOSTAL          ;IF NOT
EDITOR, THEN STALL ALSO
      5 003130  116702  001006                  MOVB    JOB,R2          ;GET JOB
 # *2
      6 003134  012746  000000G                 MOV     #DMPJOB,-(SP)   ;SET RET
URN FOR DUMPING THE JOB (AND EXIT)
      7 003140  042702  177601          DOKILL::BIC     #^C<63.*2>,R2   ;ENSURE
A VALID JOB # *2
      8 003144  001424                          BEQ     20$             ;NO JOB.
..
      9 003146  005762  000000G                 TST     JBWAIT(R2)      ;IS JOB
WAITING FOR SOMETHING?
     10 003152  001003                          BNE     10$             ;IF SO,
USE THAT WAIT CONDITION
     11 003154  012762  000002  000000G         MOV     #JS.KB,JBWAIT(R2) ;GIVE
JOB A WAIT CONDITION TO WAKE UP FROM
     12 003162  052762  000000G 000000G 10$:    BIS     #JSALL,JBSTAT(R2) ;MAKE
JOB RUN SOON IF WE CAN
     13 003170  016202  000000G                 MOV     JOBTBL(R2),R2   ;GET JOB
 DATA POINTER
     14 003174  112762  000177  000034          MOVB    #127.,JDPRI(R2) ;MAKE SU
RE JOB RUNS
     15 003202  052762  100000  000002          BIS     #JFSPCL,JDFLG(R2) ;SAY S
PECIAL CONDITION
     16 003210  152762  000200  000012          BISB    #JFKILL,JDFLG2(R2) ; AS
KILL THIS JOB
     17 003216                          20$:    RETURN                  ;NOW EXI
T
        003216  000207                           RTS    PC
     18
     19 003220                          IOSTAL::
     20
     21                                 .IF     NE      PK11
     22
     23 003220  012746  000000G                 MOV     #IOREDO,-(SP)   ;SET RET
URN ADDRESS FOR RE-DOING THIS I/O
     24
     25                                 ;+
     26                                 ; SETPKW - CONTROLLED JOB WENT INTO INPU
T WAIT OR LEFT THE SYSTEM.
     27                                 ;
     28                                 ;       R1 -> KB DDB
     29                                 ;
     30                                 ;       CALL    SETPKW
     31                                 ;-
     32
     33 003224  122761  000000G 000036  SETPKW::CMPB    #TTPK11,TTINTF(R1) ;IS T
HIS THE KB OF A PK?
     34 003232  001015                          BNE     10$             ;NOPE, S
KIP STATUS SETTING
     35 003234                                  REGSCR                  ;YEP, PR
ESERVE ALL REGISTERS
        003234  004537  000000G                  JSR    R5,@#REGSCR
     36 003240  116100  000003                  MOVB    DDUNT(R1),R0    ;GET THE
 KEYBOARD NUMBER
     37 003244  070027  000014                  MUL     #DDS.PK,R0      ;R0=??,
R1=DISTANCE INTO PK DDBS IF KB0:=PK0:
     38 003250  062701  177200G                 ADD     #PKDDDB-<PKSTKB*DDS.PK>,
R1 ;NOW R1 -> CORRECT PK DDB
     39 003254  111761  000000G                 MOVB    (PC),PKINWT(R1) ;SAY CON
TROLLED JOB IN INPUT STALL OR GONE
     40 003260                                  CALLX   IOFINI,R5,<JSTIM+JS.PK>
; AND WAKE UP FROM SLEEP OR PK: WAIT
        003260  004537  000000G                  JSR    R5,@#IOFINI
        003264  020000G                           .WORD JSTIM+JS.PK
     41 003266                          10$:    RETURN                  ;EXIT
        003266  000207                           RTS    PC
     42
     43 003270                          GLOBAL  <IOREDO,PKDDDB,PKINWT,JS.PK>
     44
     45                                 .IFF    ;PK11
     46
     47                                         JMPX    IOREDO          ;RE-DO T
HIS I/O
     48
     49                                 .ENDC   ;PK11
     50
     51 003270                          GLOBAL  <DMPJOB,JBWAIT,JSALL,JBSTAT,JOBT
BL>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 83
SPECIAL MODE CHECKER

      1                                 .SBTTL  SPECIAL MODE CHECKER
      2
      3 003270  032761  000010  000010  TTISGL::BIT     #TTDDT,DDFLAG(R1) ;DDT S
UB-MODE?
      4 003276  001003                          BNE     10$             ;YEP ("Z
"=0)
      5 003300  132761  000003  000032          BITB    #TTTECO!TTBIN,TTMODE(R1)
 ;TECO OR BIN MODE? ("Z"=0 IF SO)
      6 003306                          10$:    RETURN                  ;EXIT WI
TH CC'S SET
        003306  000207                           RTS    PC
      7
      8                                 .IF     NE      EKOCTL
      9
     10 003310  005761  000000G         EKODEC::TST     EKOCTW(R1)      ;;FIELD
ALREADY ACTIVE ?
     11 003314  100011                          BPL     20$             ;;NO, SO
 PROCESS THIS DECLARATION
     12 003316  026161  000000G 000002G         CMP     TTINEC+EP(R1),TTINEC+FP(
R1) ;;POINTERS = -> NO CHAR'S
     13 003324  001004                          BNE     10$             ;;SOME,
SO RETURN "IN USE" ERROR
     14 003326  026161  000022  000024          CMP     TTINPT+EP(R1),TTINPT+FP(
R1) ;;EQUAL PTRS MEAN NO CHAR
     15 003334  001401                          BEQ     20$             ;;NONE,
SO PROCESS THIS DECLARATION
     16 003336                          10$:    ERROR   INUSE           ;;ERROR,
 FIELD ACTIVE AND INPUT PENDING
        003336  104400G                          .WORD  TRAP+INUSE
     17
     18 003340                          20$:    GETUSR                  ;;GET FI
ELD SIZE & OVERFLOW MODE
        003340  111502                           MOVB   (R5),R2
        003342  005205                           INC    R5
     19 003344  062702  000200                  ADD     #200,R2         ;;REVERS
E SENSE ON OVERFLOW MODE (1=NORMAL NOW)
     20 003350  042702  177400                  BIC     #^C<377>,R2     ;;TRIM O
FF ALL BUT THE LOW BYTE
     21 003354  030227  000177                  BIT     R2,#177         ;;IS FIE
LD SIZE ZERO ?
     22 003360  001001                          BNE     30$             ;;NO, CO
NTINUE
     23 003362                                  ERROR   BADCNT          ;;YES, S
O RETURN ERROR
        003362  104400G                          .WORD  TRAP+BADCNT
     24
     25 003364  010204                  30$:    MOV     R2,R4           ;;SAVE F
IELD SIZE
     26 003366  005343                          DEC     -(R3)           ;;IF XRB
C (BYTE COUNT) WAS 1
     27 003370  001405                          BEQ     40$             ;;DEFAUL
T PAINT CHARACTER TO SPACE
     28 003372                                  GETUSR                  ;;GET HI
S PAINT CHARACTER
        003372  111502                           MOVB   (R5),R2
        003374  005205                           INC    R5
     29 003376  042702  177600                  BIC     #^C<177>,R2     ;;TAKE O
UT THE GARBAGE
     30 003402  001002                          BNE     50$             ;;IF ANY
THING LEFT, IT'S A PAINT CHAR.
     31 003404  012702  000040          40$:    MOV     #040,R2         ;;ELSE,
DEFAULT PAINT CHARACTER TO <SPACE>
     32 003410  000302                  50$:    SWAB    R2              ;;PAINT
CHARACTER TO HIGH BYTE
     33 003412  060204                          ADD     R2,R4           ;;ADD TO
 FIELD SIZE & OVERFLOW MODE
     34                                         ;BIC    #TTACTV,R4      ;;ENSURE
 FIELD IS NOT MARKED AS ACTIVE
     35 003414  010461  000000G                 MOV     R4,EKOCTW(R1)   ;; AND S
TORE IT ALL HERE
     36 003420                          60$:    CALL    EKOTYP          ;GO PROC
ESS A TYPE-AHEAD CHARACTER
        003420  004767  000232                   JSR    PC,EKOTYP
     37 003424  003375                          BGT     60$             ;CONTINU
E IF NOT ACTIVE NOR EXPIRED
     38 003426                                  RETURN                  ;ELSE DO
NE
        003426  000207                           RTS    PC
     39
     40 003430                          GLOBAL  <EKOCTW,TTINEC>
     41
     42                                 .ENDC   ;EKOCTL
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 84
OPEN SERVICE

      1                                 .SBTTL  OPEN SERVICE
      2
      3                                 ;+
      4                                 ; OPN$KB - OPEN SERVICE FOR TERMINALS.
      5                                 ;
      6                                 ;       R0 =  UNIT NUMBER TIMES TWO
      7                                 ;       R1 -> DDB (MUST BE PRESERVED)
      8                                 ;       R4 -> FIRQB (DEFAULT FQFLAG AND
FQBUFL VALUE LOADED)
      9                                 ;       R5 -> JOB'S IOB ENTRY (MUST BE P
RESERVED)
     10                                 ;
     11                                 ;       ...
     12                                 ;
     13                                 ;       RETURN
     14                                 ;
     15                                 ;       -OR-
     16                                 ;
     17                                 ;       CALL    RETDEV
     18                                 ;       ERROR   CODE
     19                                 ;-
     20
     21                                 .ENABL  LSB
     22
     23 003430                                  TMPORG  OPNTBL,2
     24
     25 000002  003430'                         .WORD   OPN$KB
     26
     27 000004                                  UNORG
     28
     29 003430  016402  000022          OPN$KB::MOV     FQMODE(R4),R2   ;GET OPE
N MODE BITS
     30 003434  105767  000000G                 TSTB    FIPRIV          ;PRIV'D
CALLER?
     31 003440  001402                          BEQ     10$             ;YES
     32 003442  042702  000000                  BIC     #0,R2           ;NO, TRI
M MODE AS NEEDED
     33         003444'                 ..KBMP  ==      .-2     ;**PATCH** NON-P
RIV TERMINAL MODE MASK
     34 003446                          10$:
     35
     36                                 .IF     NE      EKOCTL
     37
     38 003446  030227  000010                  BIT     R2,#TTECTL      ;ECHO CO
NTROL OPEN?
     39 003452  001404                          BEQ     20$             ;NOPE
     40 003454  042702  177557                  BIC     #^C<TTTECS!TTGARD>,R2 ;Y
EP, SO TURN OFF ALL BUT THESE BITS
     41 003460  052702  000014                  BIS     #TTECTL!TTCRLF,R2 ; AND
TURN ON ECHO CONTROL & NO AUTO CR/LF
     42 003464                          20$:
     43
     44                                 .ENDC   ;EKOCTL
     45
     46 003464                          GLOBAL  <FIPRIV>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 85
OPEN SERVICE

      1                                 .IF     NE      MULTTY
      2
      3 003464                                  CALL    30$,R5          ;SET ALL
 TO DESIRED MODE
        003464  004567  000014                   JSR    R5,30$
      4
      5                                 .ENDC   ;MULTTY
      6
      7 003470  110261  000032          SETMOD::MOVB    R2,TTMODE(R1)   ;SET THE
 OPEN MODE
      8
      9                                 .IF     NE      EKOCTL
     10
     11 003474  012761  020000  000000G         MOV     #40*400,EKOCTW(R1) ;DEFA
ULT FIELD DESCRIPTOR
     12
     13 003502                          GLOBAL  <EKOCTW>
     14
     15                                 .ENDC   ;EKOCTL
     16
     17 003502                                  RETURN                  ;NOW EXI
T
        003502  000207                           RTS    PC
     18
     19                                 .IF     NE      MULTTY
     20
     21                                 ; EXECUTE THE CODE FOLLOWING THE CALL FO
R ALL OWNED MULTI-TERMINAL TERMINALS
     22
     23 003504  010146                  30$:    MOV     R1,-(SP)        ;SAVE RE
AL DDB ADDRESS
     24 003506  012700  177776                  MOV     #-2,R0          ;PRESET
A KB NUMBER (TIMES 2)
     25 003512  005720                  40$:    TST     (R0)+           ;ADVANCE
 TO NEXT KB NUMBER (TIMES 2)
     26 003514  020027  000210                  CMP     R0,#CNT.KB*2    ;OUT OF
RANGE?
     27 003520  103015                          BHIS    50$             ;YES, SO
 ALL DONE
     28 003522  016001  000000G                 MOV     DEV.KB(R0),R1   ;NO, GET
 ITS DDB ADDRESS
     29 003526  126167  000002  000000G         CMPB    DDJBNO(R1),FIJOB ;OWNED?
     30 003534  001366                          BNE     40$             ;NO, SO
SKIP IT
     31 003536  105761  000006                  TSTB    DDCNT(R1)       ;YES, BU
T IS IT JUST ASSIGNED?
     32 003542  001363                          BNE     40$             ;NOT ONL
Y ASSIGNED, SO SKIP IT
     33 003544                                  CALL    CLRTTI          ;ONLY AS
SIGNED. CLEAR INPUT BUFFER CHAIN(S)
        003544  004767  005756                   JSR    PC,CLRTTI
     34 003550                                  CALL    (R5)            ;MODIFY
ITS DDB
        003550  004715                           JSR    PC,(R5)
     35 003552  000757                          BR      40$             ; AND CO
NTINUE
     36
     37 003554  012601                  50$:    MOV     (SP)+,R1        ;RESTORE
 REAL DDB ADDRESS
     38 003556                                  RETURN  R5              ; AND EX
IT
        003556  000205                           RTS    R5
     39
     40 003560                          GLOBAL  <DEV.KB,FIJOB>
     41
     42                                 .ENDC   ;MULTTY
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 86
TERMINAL CLOSE ROUTINE

      1                                 .SBTTL  TERMINAL CLOSE ROUTINE
      2
      3                                 ;+
      4                                 ; CLS$KB - CLOSE SERVICE FOR TERMINALS.
      5                                 ;
      6                                 ;       R0 =  UNIT NUMBER TIMES TWO
      7                                 ;       R1 -> DDB/FCB
      8                                 ;       R5 -> DDB/FCB (MUST BE PRESERVED
)
      9                                 ;       IF Z=1 THEN A REAL CLOSE CALL
     10                                 ;       IF Z=0 THEN A "RESET" CLOSE CALL
     11                                 ;
     12                                 ;       ...
     13                                 ;
     14                                 ;       RETURN
     15                                 ;-
     16
     17 003560                                  TMPORG  CLSTBL,2
     18
     19 000002  003560'                         .WORD   CLS$KB
     20
     21 000004                                  UNORG
     22
     23 003560  126167  000002  000000G CLS$KB::CMPB    DDJBNO(R1),FIJOB ;IS THI
S TERMINAL OWNED ?
     24 003566  001032                          BNE     70$             ;NO. DON
'T DO ANYTHING
     25
     26                                 .IF     NE      EKOCTL
     27
     28 003570  016700  000000G                 MOV     FIJBDA,R0       ;GET JOB
 DATA ADDRESS
     29 003574  013004                          MOV     @(R0)+,R4       ;CONSOLE
 DDB ADDRESS FROM I/O BLOCK
     30
     31 003576                          GLOBAL  <FIJBDA>
     32
     33                                 .ENDC   ;EKOCTL
     34
     35                                 .IF     NE      MULTTY
     36
     37 003576                                  CALL    30$,R5          ;DO THIN
GS BELOW FOR ALL
        003576  004567  177702                   JSR    R5,30$
     38
     39                                 .ENDC   ;MULTTY
     40
     41 003602                                  CALL    BINEND          ;CANCEL
ANY BINARY INPUT MODE
        003602  004767  005702                   JSR    PC,BINEND
     42 003606  042761  000010  000010          BIC     #TTDDT,DDFLAG(R1) ;CANCE
L DDT-SUBMODE IF ON
     43 003614  105061  000032                  CLRB    TTMODE(R1)      ;CLEAR A
NY OPEN MODE(S)
     44
     45 003620                          GLOBAL  <FIJOB>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 87
TERMINAL CLOSE ROUTINE

      1                                 .IF     NE      EKOCTL
      2
      3 003620  012761  020000  000000G EKOEND::MOV     #40*400,EKOCTW(R1) ;DEAC
TIVATE ANY ECHO CONTROL FIELD
      4 003626  142761  000010  000032          BICB    #TTECTL,TTMODE(R1) ;TURN
 OFF ECHO CONTROL MODE
      5 003634  020104                          CMP     R1,R4           ;IS THIS
 USER'S CONSOLE TERMINAL?
      6 003636  001006                          BNE     70$             ;NO, CLE
AR OPEN MODES AND EXIT
      7 003640                          60$:    CALL    EKOTYP          ;PROCESS
 A TYPE-AHEAD CHARACTER
        003640  004767  000012                   JSR    PC,EKOTYP
      8 003644  100375                          BPL     60$             ;NO, CON
TINUE PROCESSING TYPE-AHEAD
      9 003646                          .ASSUME TTACTV  EQ      100000
     10 003646  012761  020000  000000G         MOV     #40*400,EKOCTW(R1) ;YES,
 RE-DEACTIVATE ECHO CONTROL FIELD
     11
     12 003654                          GLOBAL  <EKOCTW>
     13
     14                                 .ENDC   ;EKOCTL
     15
     16 003654                          70$:    RETURN                  ;NOW END
 THIS MADNESS
        003654  000207                           RTS    PC
     17
     18                                 .DSABL  LSB
     19
     20                                 .IF     NE      EKOCTL
     21
     22 003656  116100  000003          EKOTYP::MOVB    DDUNT(R1),R0    ;(RE-)GE
T THE KB NUMBER
     23 003662  006300                          ASL     R0              ; TIMES
2
     24 003664                                  SPLC    5               ;;ENSURE
 TERMINALS ARE LOCKED OUT
        003664  012737  034240  177776           MOV    #PR5,@#PS
     25 003672                                  CALLX   FETCH,R5,TTINEC+EP ;;GET
 A CHARACTER FROM TYPE AHEAD CHAIN
        003672  004537  000000G                  JSR    R5,@#FETCH
        003676  000000G                           .WORD TTINEC+EP
     26 003700  103403                          BCS     10$             ;;ACTIVA
TE FIELD IF NO TYPE AHEAD REMAINS
     27 003702                                  CALL    ECHOIN          ;;FAKE A
N INTERRUPT FOR THIS CHARACTER
        003702  004767  001172                   JSR    PC,ECHOIN
     28 003706  000403                          BR      20$             ;; THEN
EXIT KEEPING FIELD NOT ACTIVE
     29
     30 003710  052761  100000  000000G 10$:    BIS     #TTACTV,EKOCTW(R1) ;;NOT
HING, ACTIVATE THIS FIELD
     31 003716                          20$:    SPLC    3               ;;DROP B
ACK TO PRIORITY 3
        003716  012737  034140  177776           MOV    #PR3,@#PS
     32 003724  032761  100377  000000G         BIT     #TTACTV!377,EKOCTW(R1) ;
FIELD NOW ACTIVE OR EXPIRED?
     33 003732                                  RETURN                  ;EXIT WI
TH CC'S SET UP
        003732  000207                           RTS    PC
     34
     35 003734                          GLOBAL  <TTINEC,EKOCTW>
     36
     37                                 .ENDC   ;EKOCTL
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 88
RELEASE THE TERMINAL

      1                                 .SBTTL  RELEASE THE TERMINAL
      2
      3                                 ;+
      4                                 ; ENDKEY - RELEASE THE TERMINAL.
      5                                 ;
      6                                 ;       R1 -> DDB
      7                                 ;       PRIORITY IS PR5
      8                                 ;
      9                                 ;       CALL    ENDKEY
     10                                 ;
     11                                 ;       R0 =  UNDEFINED
     12                                 ;       R1 =  UNDEFINED
     13                                 ;       R2 =  UNDEFINED
     14                                 ;       R3 =  UNDEFINED
     15                                 ;       R4 =  UNDEFINED
     16                                 ;       R5 =  UNDEFINED
     17                                 ;-
     18
     19                                 .ENABL  LSB
     20
     21 003734                                  TMPORG  TERDSP,0
     22 000000  003734'                         .WORD   ENDKEY
     23 000002                                  UNORG
     24
     25 003734                          ENDKEY: CALL    DETJOB          ;;"DETAC
H" THE JOB FIRST
        003734  004767  000122                   JSR    PC,DETJOB
     26 003740                                  CALL    BINEND          ;;CANCEL
 ANY BINARY INPUT MODE
        003740  004767  005544                   JSR    PC,BINEND
     27 003744  005061  000032                  CLR     TTMODE(R1)      ;;TURN O
FF FUNNY MODES AND DELIMITERS
     28
     29                                 .IF     NE      PK11 ! DC11 ! DL11E ! DM
11BB ! DZ11AB
     30 003750  005761  000000G                 TST     MODCLK(R1)      ;;IS THI
S LINE HUNG UP?
     31 003754  100002                          BPL     10$             ;;NO
     32 003756                          .ASSUME TTDSBL  EQ      100000
     33 003756                                  CALL    CLRTER          ;;YES, S
O CLEAR OUT TERMINAL BUFFERS
        003756  004767  005600                   JSR    PC,CLRTER
     34 003762                          10$:
     35 003762                          GLOBAL  <MODCLK>
     36                                 .ENDC   ;PK11 ! DC11 ! DL11E ! DM11BB !
DZ11AB
     37
     38 003762  116100  000003                  MOVB    DDUNT(R1),R0    ;;GET TH
E KEYBOARD
     39 003766  006300                          ASL     R0              ;; NUMBE
R TIMES 2
     40 003770                                  CALL    SRTLIN          ;;FORCE
AN OUTPUT INTERRUPT
        003770  004767  005326                   JSR    PC,SRTLIN
     41 003774  005060  000000G                 CLR     TIM.KB(R0)      ;; AND S
TOP ANY PENDING TIMEOUTS
     42
     43                                 .IF     NE      EKOCTL
     44 004000  010104                          MOV     R1,R4           ;;MAKE T
HIS THE CONSOLE KB
     45 004002                                  CALL    EKOEND          ;; AND S
TOP ECHO CONTROL
        004002  004767  177612                   JSR    PC,EKOEND
     46 004006                                  SPLC    5               ;;BACK T
O LEVEL 5 AGAIN
        004006  012737  034240  177776           MOV    #PR5,@#PS
     47 004014  105761  000002                  TSTB    DDJBNO(R1)      ;;A JOB
ALREADY SET UP?
     48 004020  001017                          BNE     20$             ;;YES. F
ORGET IT
     49                                 .ENDC   ;EKOCTL
     50
     51 004022                          GLOBAL  <TIM.KB>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 89
RELEASE THE TERMINAL

      1 004022  105761  000030                  TSTB    TTDLMC(R1)      ;;ANY PE
NDING DELIMETERS?
      2 004026  001006                          BNE     CREJOB          ;;YES, C
REATE A NEW JOB
      3 004030  026161  000022  000024          CMP     TTINPT+EP(R1),TTINPT+FP(
R1) ;;NO, ANYTHING IN INPUT BUFFERS?
      4 004036  001010                          BNE     20$             ;;SOMETH
ING THERE, KEEP IT
      5 004040                                  CALLR   CLRTIN          ;;NOTHIN
G, ENSURE INPUT BUFFERS CLEARED, EXIT
        004040  000167  005432                   JMP    CLRTIN
      6
      7                                 .SBTTL  JOB CREATION
      8
      9                                 ;+
     10                                 ; CREJOB - CREATE A NEW JOB.
     11                                 ;
     12                                 ;       R0 =  KEYBOARD NUMBER TIMES 2
(OR 100001)
     13                                 ;       R1 -> DDB
(OR "KBDDDB")
     14                                 ;       PRIORITY IS PR5
     15                                 ;
     16                                 ;       CALL    CREJOB
     17                                 ;
     18                                 ;       R3 =  NEW JOB NUMBER TIMES 2
     19                                 ;       R4 =  UNDEFINED
     20                                 ;
     21                                 ;       IF C=0 THEN A JOB WAS CREATED
     22                                 ;       IF C=1 THEN A JOB CANNOT BE CREA
TED NOW
     23                                 ;-
     24
     25 004044                                  TMPORG  TERDSP,10
     26 000010  004044'                         .WORD   CREJOB
     27 000012                                  UNORG
     28
     29 004044  005046                  CREJOB: CLR     -(SP)           ;;THIS W
ILL BE THE CO-ROUTINE RETURN FLAG
     30 004046                                  CALL    NEWJOB          ;;TRY TO
 CREATE THAT NEW JOB
        004046  004767  002100                   JSR    PC,NEWJOB
     31 004052  005726                          TST     (SP)+           ;;IS THI
S REALLY THE CO-ROUTINE RETURN?
     32 004054  001401                          BEQ     20$             ;;NOPE,
JOB CREATED ('TST' SETS C=0)
     33 004056  005126                          COM     (SP)+           ;;YEP, N
O NEW JOB, POP AND SET C=1
     34 004060                          20$:    RETURN                  ;;EXIT
        004060  000207                           RTS    PC
     35
     36                                 .DSABL  LSB
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 90
"DETACH" A JOB

      1                                 .SBTTL  "DETACH" A JOB
      2
      3                                 ;+
      4                                 ; DETJOB - "DETACH" A JOB.
      5                                 ;
      6                                 ;       R1 -> DDB
      7                                 ;
      8                                 ;       CALL    DETJOB
      9                                 ;
     10                                 ;       R4 =  RANDOM
     11                                 ;-
     12
     13 004062                          DETJOB::CALLX   IOFINI,R5,<JSTIM!JSTEL!J
S.KB> ;;AWAKEN THE JOB IF ANY
        004062  004537  000000G                  JSR    R5,@#IOFINI
        004066  024002                            .WORD JSTIM!JSTEL!JS.KB
     14 004070  105061  000002                  CLRB    DDJBNO(R1)      ;;NOW "D
ETACH" THE JOB
     15
     16                                 .IF     NE      PK11
     17
     18 004074                                  CALL    SETPKW          ;;TELL C
ONTROLLING JOB THE JOB WENT AWAY
        004074  004767  177124                   JSR    PC,SETPKW
     19
     20                                 .ENDC   ;PK11
     21
     22 004100  132761  000020  000032          BITB    #TTGARD,TTMODE(R1) ;;GUA
RDED TERMINAL MODE?
     23 004106  001413                          BEQ     30$             ;;NOPE,
JUST EXIT
     24 004110  016404  000000G                 MOV     JOBTBL(R4),R4   ;;ELSE G
ET JOB'S JOB DATA BLOCK POINTER
     25 004114  001410                          BEQ     30$             ;;NO JOB
...
     26 004116  011404                          MOV     (R4),R4         ;;JOB, G
ET JOB'S I/O BLOCK
     27 004120  020124                  10$:    CMP     R1,(R4)+        ;;IS THI
S CHANNEL THE KB: DEVICE?
     28 004122  001002                          BNE     20$             ;;NOPE
     29 004124  012744  000000G                 MOV     #KBFDDB,-(R4)   ;;YEP, R
E-POINT IT TO THE FAKE DDB
     30 004130  030427  000037          20$:    BIT     R4,#40-1        ;;MORE C
HANNELS TO DO?
     31 004134  001371                          BNE     10$             ;;YES, L
OOP...
     32 004136                          30$:    RETURN                  ;;EXIT
        004136  000207                           RTS    PC
     33
     34 004140                          GLOBAL  <JOBTBL,KBFDDB>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 91
"DETACH" A JOB

      1                                 .IF     NE      DH11 ! DJ11 ! DZ11
      2
      3                                 .SBTTL  FIND THE CORRECT SUBLINE ON A MU
LTIPLEXER
      4
      5                                 ;+
      6                                 ; FNDLIN - FIND THE CORRECT SUBLINE ON A
 MULTIPLEXER.
      7                                 ;
      8                                 ;       R0 =  SUBLINE NUMBER IN BITS <11
-8>
      9                                 ;       R3 -> MULTIPLEXER'S CSR
     10                                 ;       SP -> BASE KB # *2
     11                                 ;
     12                                 ;       CALL    FNDLIN
     13                                 ;
     14                                 ;       R0 =  KB # *2
     15                                 ;       R1 -> DDB
     16                                 ;       R4 =  LINE'S 'BAR' BIT
     17                                 ;
     18                                 ;       IF C=1 THEN THE SUBLINE IS ILLEG
AL
     19                                 ;-
     20
     21 004140  042700  170377          FNDLIN::BIC     #^C<17*400>,R0  ;;ISOLAT
E THE SUBLINE NUMBER
     22 004144  000300                          SWAB    R0              ;;NOW FO
RM SUBLINE NUMBER
     23 004146  006300                          ASL     R0              ;; TIMES
 2
     24 004150  016004  000000G                 MOV     BITWRD(R0),R4   ;;GET AN
D SAVE THE LINE'S 'BAR' BIT
     25 004154  066600  000002                  ADD     2(SP),R0        ;;FORM T
HE REAL KB # *2
     26 004160  020027  000210                  CMP     R0,#CNT.KB*2    ;;LEGAL
AT ALL?
     27 004164  103005                          BHIS    10$             ;;NO, ER
ROR (EXIT C=1)
     28 004166  016001  000000G                 MOV     DEV.KB(R0),R1   ;;LEGAL,
 GET THE DDB POINTER
     29 004172  020360  000000G                 CMP     R3,CSR.KB(R0)   ;;REALLY
 ON THE CORRECT MULTIPLEXER?
     30 004176  001401                          BEQ     20$             ;;YES, O
.K., EXIT C=0 [BEQ=>BHIS=BCC]
     31 004200  000261                  10$:    SEC                     ;;NO, ER
ROR, SET C=1
     32 004202                          20$:    RETURN                  ;;NOW EX
IT
        004202  000207                           RTS    PC
     33
     34 004204                          GLOBAL  <BITWRD,DEV.KB,CSR.KB>
     35
     36                                 .ENDC   ;DH11 ! DJ11 ! DZ11
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 92
INPUT INTERRUPTS FROM MULTIPLEXED LINES

      1                                 .SBTTL  INPUT INTERRUPTS FROM MULTIPLEXE
D LINES
      2
      3                                 ;+
      4                                 ; D?INT - INPUT INTERRUPT SERVICE FOR D?
 MULTIPLEXED LINES.
      5                                 ;               ? = H,J,Z
      6                                 ;
      7                                 ;       R0 = D? CONTROLLER NUMBER TIMES
2
      8                                 ;       PRIORITY IS INTERRUPT PRIORITY
      9                                 ;
     10                                 ;       ...
     11                                 ;
     12                                 ;       RETURN
     13                                 ;-
     14
     15                                 .ENABL  LSB
     16
     17                                 .IF     NE      DZ11
     18
     19                                 .SBTTL  DZ INPUT INTERRUPT PROCESSING
     20
     21                                 DZINT:: MOV     #DZKBN,R5       ;;GET TH
E BASE KB
     22
     23                                 GLOBAL  <DZKBN>
     24
     25                                 .IF     NE      DH11 ! DJ11
     26
     27                                         BR      10$             ;;SKIP T
HE DJ,DH START
     28
     29                                 .ENDC   ;DH11 ! DJ11
     30
     31                                 .ENDC   ;DZ11
     32
     33                                 .IF     NE      DJ11
     34
     35                                 .SBTTL  DJ INPUT INTERRUPT PROCESSING
     36
     37 004204  012705  000000G         DJINT:: MOV     #DJKBN,R5       ;;GET TH
E BASE KB
     38
     39 004210                          GLOBAL  <DJKBN>
     40
     41                                 .IF     NE      DH11
     42
     43                                         BR      10$             ;;SKIP T
HE DH START
     44
     45                                 .ENDC   ;DH11
     46
     47                                 .ENDC   ;DJ11
     48
     49                                 .IF     NE      DH11
     50
     51                                 .SBTTL  DH INPUT INTERRUPT PROCESSING
     52
     53                                 DHINT:: MOV     #DHKBN,R5       ;;GET TH
E BASE KB
     54
     55                                 GLOBAL  <DHKBN>
     56
     57                                 .ENDC   ;DH11
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 93
DJ INPUT INTERRUPT PROCESSING

      1                                 .IF     NE      DH11 ! DJ11 ! DZ11
      2
      3 004210                          10$:    CALL    MUXKBN          ;;SET UP
 FOR THE BASE KB
        004210  004767  000146                   JSR    PC,MUXKBN
      4 004214  031345                          BIT     (R3),-(R5)      ;;SILO O
VERFLOW?
      5 004216  001402                          BEQ     20$             ;;NO
      6 004220  005002                          CLR     R2              ;;INDICA
TE NO "SILO" DATA
      7 004222  000000G                         LOG$KB                  ;;YES, L
OG AN ERROR
      8 004224  010046                  20$:    MOV     R0,-(SP)        ;;SAVE B
ASE KB # *2
      9 004226  016302  000002          30$:    MOV     2(R3),R2        ;;GET DA
TA FROM THE SILO
     10 004232  100402                          BMI     40$             ;;MORE D
ATA, CONTINUE
     11 004234  005726                  SILOEX::TST     (SP)+           ;;NO MOR
E DATA, POP BASE KB #*2
     12 004236                                  RETURN                  ;; AND E
XIT FROM INTERRUPT
        004236  000207                           RTS    PC
     13
     14 004240  010200                  40$:    MOV     R2,R0           ;;COPY T
HE DATA
     15 004242                                  CALL    FNDLIN          ;;NOW FI
ND THE CORRECT LINE
        004242  004767  177672                   JSR    PC,FNDLIN
     16 004246  103767                          BCS     30$             ;;LINE I
S ILLEGAL, IGNORE IT...
     17 004250                                  CALL    TTINCH          ;;NOW "F
ORCE" THE CHARACTER
        004250  004767  000360                   JSR    PC,TTINCH
     18 004254                                  CALL    CHKLIN          ;;THEN C
HECK THE LINE AND RESTORE CSR
        004254  004767  005034                   JSR    PC,CHKLIN
     19 004260  000762                          BR      30$             ;; AND T
RY, TRY AGAIN...
     20
     21 004262                          GLOBAL  <LOG$KB>
     22
     23                                 .ENDC   ;DH11 ! DJ11 ! DZ11
     24
     25                                 .DSABL  LSB
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 94
DZ11 & DJ11 OUTPUT INTERRUPTS

      1                                 .SBTTL  DZ11 & DJ11 OUTPUT INTERRUPTS
      2
      3                                 ;+
      4                                 ; D?ONT - OUTPUT INTERRUPT SERVICE FOR D
J AND DZ LINES.
      5                                 ;
      6                                 ;       R0 =  CONTROLLER NUMBER TIMES 2
      7                                 ;       PRIORITY IS INTERRUPT PRIORITY
      8                                 ;
      9                                 ;       ...
     10                                 ;
     11                                 ;       RETURN
     12                                 ;-
     13
     14                                 .ENABL  LSB
     15
     16                                 .IF     NE      DZ11
     17
     18                                 .SBTTL  DZ OUTPUT INTERRUPT PROCESSING
     19
     20                                 DZONT:: MOV     #DZKBN,R5       ;;GET TH
E BASE KB
     21
     22                                 GLOBAL  <DZKBN>
     23
     24                                 .IF     NE      DJ11
     25
     26                                         BR      10$             ;;SKIP D
J START
     27
     28                                 .ENDC   ;DJ11
     29
     30                                 .ENDC   ;DZ11
     31
     32                                 .IF     NE      DJ11
     33
     34                                 .SBTTL  DJ OUTPUT INTERRUPT PROCESSING
     35
     36 004262  012705  000000G         DJONT:: MOV     #DJKBN,R5       ;;GET TH
E BASE KB
     37 004266                          10$:
     38
     39 004266                          GLOBAL  <DJKBN>
     40
     41                                 .ENDC   ;DJ11
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 95
DJ OUTPUT INTERRUPT PROCESSING

      1                                 .IF     NE      DJ11 ! DZ11
      2
      3 004266                                  CALL    MUXKBN          ;;SET UP
 FOR THE BASE KB
        004266  004767  000070                   JSR    PC,MUXKBN
      4 004272  010046                          MOV     R0,-(SP)        ;;SAVE B
ASE KB # *2
      5 004274  005713                  20$:    TST     (R3)            ;;MORE T
O DO?
      6 004276  100356                          BPL     SILOEX          ;;NO, GO
 EXIT FROM INTERRUPT
      7
      8                                 .IF     NE      DJ11
      9
     10 004300  016300  000006                  MOV     6(R3),R0        ;;GET SU
BLINE NUMBER IN <11-8>
     11
     12                                 .ENDC   ;DJ11
     13
     14                                 .IF     NE      DZ11
     15
     16                                 .IF     NE      DJ11
     17
     18                                         CMPB    #TTDJ11,TTINTF(R1) ;;IS
THIS A DJ LINE
     19                                         BEQ     30$             ;;YES
     20
     21                                 .ENDC   ;DJ11
     22
     23                                         MOV     (R3),R0         ;;GET SU
BLINE NUMBER IN <11-8>
     24                                         BIC     #^C<7*400>,R0   ;;CLEAR
THE UNWANTED BITS
     25                                 30$:
     26
     27                                 .ENDC   ;DZ11
     28
     29 004304                                  CALL    FNDLIN          ;;NOW FI
ND THE CORRECT LINE
        004304  004767  177630                   JSR    PC,FNDLIN
     30 004310  103405                          BCS     40$             ;;ILLEGA
L, STOP IT
     31 004312                                  CALL    DJOUT           ;;DO THE
 DZ11/DJ11 OUTPUT
        004312  004767  000164                   JSR    PC,DJOUT
     32 004316  162703  000004                  SUB     #4,R3           ;;RESTOR
E POINTER TO CSR
     33 004322  000764                          BR      20$             ;; AND L
OOP
     34
     35 004324  040463  000004          40$:    BIC     R4,4(R3)        ;;TURN O
FF THE ILLEGAL LINE
     36 004330  000761                          BR      20$             ;; THEN
LOOP
     37
     38                                 .ENDC   ;DJ11 ! DZ11
     39
     40                                 .DSABL  LSB
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 96
DJ OUTPUT INTERRUPT PROCESSING

      1                                 .IF     NE      DM11BB
      2
      3                                 .SBTTL  SELECT A DM11BB LINE
      4
      5                                 ;+
      6                                 ; DMBSEL - SELECT A DM11BB LINE.
      7                                 ;
      8                                 ;       R1 -> DDB
      9                                 ;
     10                                 ;       CALL    DMBSEL,R5
     11                                 ;
     12                                 ;       R2 =  CONTENTS(DM11BB CSR+2)
     13                                 ;       R4 -> DM11BB CSR +2
     14                                 ;
     15                                 ;       FIRST EXIT MEANS NO DM11BB (OR N
O MODEM CONTROL)
     16                                 ;       SECOND EXIT MEANS DM11BB MODEM C
ONTROL
     17                                 ;-
     18
     19                                 DMBSEL::MOV     R3,-(SP)        ;;SAVE R
3
     20                                         MOV     @TTAUXP(R1),R3  ;;GET TH
E DM11BB CSR (IF ANY)
     21                                         BEQ     20$             ;;NONE (
OR DISABLED), SO FIRST EXIT
     22                                         BIT     #TTMODM,TTINTF(R1) ;;MOD
EM CONTROL FOR THIS LINE?
     23                                         BEQ     20$             ;;NO, SO
 FIRST EXIT
     24                                         BIC     #^C<100!17>,(R3) ;;CLEAR
 ALL BUT IE AND SUBLINE NUMBER
     25                                 10$:    BIT     #20,(R3)        ;;WAIT F
OR IT TO SETTLE
     26                                         BNE     10$             ;; (UNTI
L BUSY=0)
     27                                         CALL    DHSEL           ;;SELECT
 SUBLINE
     28                                         MOV     R3,R4           ;;MOVE D
M11BB CSR POINTER TO HERE
     29                                         CMP     (R5)+,(R4)+     ;;SECOND
 EXIT AND POINT TO CSR+2
     30                                         MOV     (R4),R2         ;;RETURN
 CONTENTS OF DM11BB CSR+2
     31                                 20$:    MOV     (SP)+,R3        ;;RESTOR
E R3
     32                                         RETURN  R5              ;;NOW EX
IT
     33
     34                                 GLOBAL  <TTAUXP>
     35
     36                                 .ENDC   ;DM11BB
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 97
DJ OUTPUT INTERRUPT PROCESSING

      1                                 .ENABL  LSB
      2
      3                                 .IF     NE      DH11 ! DJ11 ! DZ11
      4
      5                                 .SBTTL  GET SUBLINE NUMBER
      6
      7                                 ;+
      8                                 ; SUBLIN - GET SUBLINE NUMBER.
      9                                 ;
     10                                 ;       R1 -> DDB
     11                                 ;
     12                                 ;       CALL    SUBLIN
     13                                 ;
     14                                 ;       R2 = SUB LINE NUMBER TIMES 2
     15                                 ;-
     16
     17 004332  116102  000037          SUBLIN::MOVB    TTINTF+1(R1),R2 ;;GET TH
E SUB LINE NUMBER FROM THE DDB
     18 004336  042702  177760                  BIC     #^C<TTSUBL/400>,R2 ;;CLE
AR UNWANTED BITS
     19 004342  006302                  10$:    ASL     R2              ;;MAKE I
T SUBLINE # TIMES 2
     20 004344                                  RETURN                  ;;THAT'S
 ALL
        004344  000207                           RTS    PC
     21
     22                                 .ENDC   ;DH11 ! DJ11 ! DZ11
     23
     24                                 .IF     NE      DH11
     25
     26                                 .SBTTL  SELECT MULTIPLEXOR SUBLINE
     27
     28                                 ;+
     29                                 ; DHSEL - SELECT MULTIPLEXOR SUBLINE.
     30                                 ;
     31                                 ;       R1 -> DDB
     32                                 ;       R3 -> CSR
     33                                 ;
     34                                 ;       CALL    DHSEL
     35                                 ;
     36                                 ;       R2 =  SUB LINE NUMBER TIMES 2
     37                                 ;-
     38
     39                                 DHSEL:: CALL    SUBLIN          ;;GET TH
E SUBLINE NUMBER *2
     40                                         ASR     R2              ;;SUBLIN
E TIMES 1 AGAIN
     41                                         BIC     #1000!17,(R3)   ;;CLEAR
SUBLINE (& MAINT)
     42                                         BIS     R2,(R3)         ;;THEN S
ELECT THE CORRECT SUBLINE
     43                                         BR      10$             ;;EXIT W
ITH SUBLINE TIMES 2
     44
     45                                 .ENDC   ;DH11
     46
     47                                 .DSABL  LSB
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 98
SET TERMINAL LINE PARAMETERS

      1                                 .SBTTL  SET TERMINAL LINE PARAMETERS
      2
      3                                 ;+
      4                                 ; SETPRM - SET LINE PARAMETERS.
      5                                 ;
      6                                 ;       R0 =  UNIT NUMBER TIMES 2
      7                                 ;       R1 -> DDB
      8                                 ;       PRIORITY IS PR5
      9                                 ;
     10                                 ;       CALL    SETPRM
     11                                 ;
     12                                 ;       R2 =  RANDOM
     13                                 ;       R3 -> CSR
     14                                 ;-
     15
     16 004346                                  TMPORG  TERDSP,2
     17 000002  004346'                         .WORD   SETPRM
     18 000004                                  UNORG
     19
     20 004346  016003  000000G         SETPRM: MOV     CSR.KB(R0),R3   ;;GET TH
E CSR POINTER
     21
     22                                 .IF     NE      DC11 ! DH11 ! DZ11
     23
     24                                         MOV     TTPARM(R1),R2   ;;GET TH
E PARAMETER WORD
     25
     26                                 GLOBAL  <TTPARM>
     27
     28                                 .ENDC   ;DC11 ! DH11 ! DZ11
     29
     30                                 .IF     NE      PK11 ! DC11 ! DL11E ! DM
11BB ! DZ11AB
     31
     32 004352  005761  000000G                 TST     MODCLK(R1)      ;;HUNG U
P?
     33 004356  100400                          BMI     40$             ;;YES. D
ON'T CHANGE HARDWARE NOW
     34
     35 004360                          GLOBAL  <MODCLK>
     36
     37                                 .ENDC   ;PK11 ! DC11 ! DL11E ! DM11BB !
DZ11AB
     38
     39                                 .IF     NE      DH11
     40
     41                                         CMPB    #TTDH11,TTINTF(R1) ;;DH1
1 LINE
     42                                         BNE     10$             ;;NO
     43                                         MOV     R2,-(SP)        ;;SAVE T
HE LINE PARAMETER
     44                                         CALL    DHSEL           ;;YES. S
ELECT THE SUBLINE
     45                                         MOV     (SP)+,4(R3)     ;;SET TH
E LINE PARAMETERS
     46                                 10$:
     47
     48                                 .ENDC   ;DH11
     49
     50 004360                          GLOBAL  <CSR.KB>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 99
SET TERMINAL LINE PARAMETERS

      1                                 .IF     NE      DZ11
      2
      3                                         CMPB    #TTDZ11,TTINTF(R1) ;;IS
THIS A DZ11?
      4                                         BNE     20$             ;;NO
      5                                         MOV     R2,2(R3)        ;;SET TH
E LINE PARAMETERS
      6                                 20$:
      7
      8                                 .ENDC   ;DZ11
      9
     10                                 .IF     NE      DC11
     11
     12                                         CMPB    #TTDC11,TTINTF(R1) ;;DC1
1 LINE
     13                                         BNE     30$             ;;NO
     14                                         MOV     (R3),-(SP)      ;;GET TH
E CONTENTS OF THE CSR
     15                                         BIC     #^C<103>,(SP)   ;;LEAVE
ONLY IE, BREAK, DTR
     16                                         BIS     (SP)+,R2        ;; AND S
ET IT IN THE PARAMETER WORD
     17                                         MOV     R2,(R3)         ;;SET TH
E INPUT CSR
     18                                         ASH     #-7,R2          ;;SHIFT
OUTPUT BITS SO THAT STOP BIT IS IN THE CORRECT PLACE
     19                                         ASRB    R2              ;;NOW SH
IFT THE SPEED BITS
     20                                         BIC     #^C<430>,R2     ;;CLEAR
ALL BUT #STOP AND OUTPUT SPEED
     21                                         MOV     4(R3),-(SP)     ;;COPY O
UTPUT CSR AND
     22                                         BIC     #^C<101>,(SP)   ;; LEAVE
 ONLY IE, RQS
     23                                         BIS     (SP)+,R2        ;;.OR. I
NTO PARAMETER WORD
     24                                         MOV     R2,4(R3)        ;; AND S
ET THE OUTPUT CSR
     25                                 30$:
     26
     27                                 .ENDC   ;DC11
     28
     29 004360                          40$:    RETURN                  ;;ALL DO
NE
        004360  000207                           RTS    PC
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 100
SET TERMINAL LINE PARAMETERS

      1                                 .IF     NE      DH11
      2
      3                                 .SBTTL  DH11 OUTPUT INTERRUPT PROCESSING
      4
      5                                 ;+
      6                                 ; DHONT - OUTPUT INTERRUPT SERVICE FOR D
H LINES.
      7                                 ;
      8                                 ;       R0 =  DH CONTROLLER NUMBER TIMES
 2
      9                                 ;       PRIORITY IS INTERRUPT PRIORITY
     10                                 ;
     11                                 ;       ...
     12                                 ;
     13                                 ;       RETURN
     14                                 ;-
     15
     16                                 DHONT:: MOV     #DHKBN,R5       ;;GET BA
SE KB
     17                                         CALL    MUXKBN          ;;SET UP
 FOR BASE DH LINE
     18                                         BIT     (R3),#2000      ;;NXM?
     19                                         BEQ     10$             ;;NO
     20                                         CLR     R2              ;;INDICA
TE NO "SILO" DATA
     21                                         LOG$KB                  ;;LOG NO
N-EXISTANT MEMORY
     22                                         BIS     #400,(R3)       ;;CLEAR
NXM REQUEST STATE
     23                                 10$:    MOV     #1,R5           ;;BAR BI
T TO TEST
     24                                         BIC     #100000!1000!60!17,(R3)
;;CLR XMIT INT, MAINT, XMEM, & SEL #0
     25                                 20$:    BIT     R5,12(R3)       ;;IS THI
S LINE ACTIVE?
     26                                         BEQ     50$             ;;NO, SO
 CHECK IT OUT
     27                                 30$:    TST     (R0)+           ;;GO TO
NEXT LINE #
     28                                         INC     (R3)            ;; AND N
EXT SUBLINE
     29                                         ASL     R5              ;;  AND
NEXT BAR BIT IN PATTERN
     30                                         BNE     20$             ;;MORE T
O COME...
     31                                 40$:    RETURN                  ;;FINAL
INTERRUPT EXIT
     32
     33                                 50$:    CMP     R0,#CNT.KB*2    ;;IS THE
 LINE LEGAL AT ALL?
     34                                         BHIS    40$             ;;NO, GE
T OUT
     35                                         MOV     DEV.KB(R0),R1   ;;YES, G
ET DDB
     36                                         CMP     R3,CSR.KB(R0)   ;;REALLY
 THIS DH11 MULTIPLEXER?
     37                                         BNE     40$             ;;NOPE,
GET OUT INDEED
     38                                         BIT     #TTSXOF,DDFLAG(R1) ;;NEE
D TO SEND XOF RIGHT NOW??
     39                                         BEQ     70$             ;;NOPE
     40                                         TST     10(R3)          ;;YEP, B
UT IS OTHER OUTPUT PENDING?
     41                                         BMI     180$            ;;OTHER
OUTPUT, DO IT FIRST
     42                                         BIC     #TTSXOF,DDFLAG(R1) ;;ELS
E SEND XOFF (BUT ONLY ONCE)
     43                                         BIS     #TTXOFF,DDFLAG(R1) ;; AN
D SAY WE SENT IT
     44                                         MOV     #XOFFCH,R4      ;;SAY SE
NDING FROM THIS ADDRESS
     45                                 60$:    MOV     #-1,R2          ;; AND S
END ONLY ONE BYTE
     46                                         BR      170$            ;;NOW GO
 DO IT
     47
     48                                 GLOBAL  <DHKBN,LOG$KB,DEV.KB,CSR.KB,XOFF
CH>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 101
SET TERMINAL LINE PARAMETERS

      1                                 70$:    TST     DDFLAG(R1)      ;;SCOPE
STOP REQUESTED?
      2                                         BMI     30$             ;;YES, D
ON'T RESTART
      3                                 .ASSUME TTSTOP  EQ      100000
      4
      5                                 .IF     NE      DM11BB
      6
      7                                         CALL    DMBSEL,R5       ;;NOW SE
LECT THE DM11BB LINE (IF ANY)
      8                                           BR    80$             ;;NO DM1
1BB LINE
      9                                         MOV     #100!40,-(R4)   ;;REENAB
LE DM11BB SCANING
     10                                         BIT     R2,#40          ;;CLEAR
TO SEND?
     11                                         BEQ     30$             ;;NO. DO
N'T RESTART
     12                                 80$:
     13
     14                                 .ENDC   ;DM11BB
     15
     16                                         TST     10(R3)          ;;IS OTH
ER OUTPUT PENDING?
     17                                         BMI     180$            ;;YES, S
O DO IT FIRST
     18                                 90$:    CALLX   IOFINC,R5,<BFQ.KB-5.,JST
EL> ;;CHECK FOR RESTARTING JOB
     19                                         MOV     DDBUFC+EP(R1),R4 ;;GET E
MPTY BUFFER
     20
     21                                 .IF     EQ      DH2741
     22                                         BEQ     30$             ;;NO BUF
FER CHAIN, DO NEXT SUBLINE
     23                                 .IFF
     24                                         BEQ     100$            ;;NO BUF
FER CHAIN, CHECK TERMINAL
     25                                 .ENDC   ;DH2741
     26
     27                                         CMP     R4,DDBUFC+FP(R1) ;;ARE T
HE POINTERS EQUAL?
     28                                         BNE     110$            ;;NO, PR
OCESS THE CHARACTERS
     29                                         DEC     R4              ;;YES, F
IND THE TOP
     30                                         BIC     #40-1,R4        ;; OF TH
E BUFFER
     31                                         TST     (R4)+           ;;  THEN
 POINT @ +2
     32                                         MOV     R4,DDBUFC+FP(R1) ;;RESET
 THE FILL AND
     33                                         MOV     R4,DDBUFC+EP(R1) ;; EMPT
Y POINTERS (REUSE THE BUFFER)
     34
     35                                 .IF     EQ      DH2741
     36                                         BR      30$             ;;NOW GO
 TO NEXT LINE
     37                                 .IFF
     38                                 100$:   TST     ST2741(R1)      ;;KB LOC
KED?
     39                                         BPL     30$             ;;NO, SO
 ALWAYS AN O.K. CONDITION
     40                                         CALL    CHKLCK,R5       ;;CHECK
FOR UNLOCKING THE KB
     41                                           BR    30$             ;;O.K. T
O LEAVE IT LOCKED
     42                                         BIC     #TTSTAT,ST2741(R1) ;;GO
INTO WAIT FOR <EOA> MODE
     43                                         MOV     #EOT$27,R4      ;; AND P
OINT TO AN <EOT> TO SEND
     44                                         BR      60$             ;;NOW SE
ND THAT <EOT>
     45
     46                                 GLOBAL  <ST2741,EOT$27>
     47
     48                                 .ENDC   ;DH2741
     49
     50                                 GLOBAL  <BFQ.KB>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 102
SET TERMINAL LINE PARAMETERS

      1                                 110$:   BIT     R4,#37          ;;SEE IF
 EP IS STILL IN BUFFER
      2                                         BNE     130$            ;;IF SO,
 GO UPDATE THE EP
      3                                         SUB     #40,R4          ;;IF JUS
T A BYTE BEYOND, RELEASE
      4                                         MOV     (R4),DDBUFC+EP(R1) ;;PUT
 ADDRESS TO BE RETURNED
      5                                         BNE     120$            ;;A CHAI
N STILL EXISTS
      6                                         CLR     DDBUFC+FP(R1)   ;;NO MOR
E CHAIN, CLEAR FILL POINTER ALSO
      7                                 120$:   BUFFER  RETSML          ;;RETURN
 THE EMPTIED BUFFER
      8                                         INC     DDBUFC+BC(R1)   ;;BUMP N
EG COUNT FOR RETURNED BUF
      9                                         BR      90$             ;;GO BAC
K AND SEE ABOUT RESTARTING
     10
     11                                 130$:
     12
     13                                 .IF     NE      DH2741
     14
     15                                         TSTB    DDFLAG(R1)      ;;IS THI
S A 2741 ?
     16                                         BMI     200$            ;;YEP
     17                                 .ASSUME TT2741  EQ      200
     18                                 140$:
     19
     20                                 .ENDC   ;DH2741
     21
     22                                         MOV     DDBUFC+FP(R1),R2 ;;GET C
URRENT FILL POINTER
     23                                         MOV     R2,-(SP)        ;;COPY I
T
     24                                         DEC     (SP)            ;;ENSURE
 WITHIN ITS OWN BUFFER
     25                                         XOR     R4,(SP)         ;;MASK O
FF THE EMPTY POINTER
     26                                         BIC     #37,(SP)+       ;; AND T
HE INTER BUFFER BITS
     27                                         BEQ     150$            ;;NO BIT
S. EMPTY POINTER AND FILL POINTER IN SAME BUFFER
     28                                         MOV     R4,R2           ;;DIFFER
ENT BUFFERS. COPY THE EMPTY POINTER
     29                                         BIS     #37,R2          ;;TURN O
N ALL THE INTER BUFFER BITS
     30                                         INC     R2              ;;POINT
TO BEYOND THE END (= FIRST FREE IN "BUFFER")
     31                                 150$:   MOV     R2,DDBUFC+EP(R1) ;;UPDAT
E THE EMPTY POINTER
     32                                         SUB     R4,R2           ;;CALCUL
ATE BYTE COUNT
     33                                 160$:   NEG     R2              ;;NEGATE
 COUNT
     34                                 170$:   MOV     R2,10(R3)       ;; AND S
ET IT IN THE CONTROL REGISTER
     35                                         BIC     #1000!60,(R3)   ;;ENSURE
 XMEM BITS (& MAINT.) ARE OFF
     36                                         MOV     R4,6(R3)        ;;SET TH
E STARTING ADDRESS
     37                                 180$:   BIS     R5,12(R3)       ;;TURN T
HE SUBLINE ON
     38                                 190$:   BR      30$             ;;NEXT S
UBLINE
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 103
SET TERMINAL LINE PARAMETERS

      1                                 .IF     NE      DH2741
      2
      3                                 200$:   TST     ST2741(R1)      ;;IS KB
LOCKED ?
      4                                         BMI     210$            ;;YES, N
O REVERSE BREAKING NEEDED
      5                                         BIT     #TTCRIN,ST2741(R1) ;;WIL
L AN <EOT> SOON ARRIVE?
      6                                         BNE     30$             ;;YES, S
O WAIT FOR IT
      7                                         MOV     #-4,R2          ;;TIMING
 IS 4 CHARACTER TIMES
      8                                         MOV     #RUB$27,R4      ;; AND U
SE <RUB>'S FOR TIMING
      9                                         BIS     #TTSTAT,ST2741(R1) ;;LOC
K KB & NO <EOA> OR <EOT> SENT
     10                                         BIS     R5,14(R3)       ;;NOW TU
RN THE REVERSE BREAK ON
     11                                         BR      170$            ;;THEN S
END THE TIMING CHARACTERS
     12
     13                                 210$:   BIT     #TTSTA1,ST2741(R1) ;;<EO
A> SENT YET?
     14                                         BEQ     220$            ;;YEP, S
O CHECK FOR <CR> TIMING FILL
     15                                         BIC     #TTSTA1,ST2741(R1) ;;YEP
, BUT TURN OFF THE NO <EOA> SENT
     16                                         MOV     #EOA$27+1,R4    ;;POINT
INTO <RUB><EOA> STRING
     17                                         MOV     #1,R2           ;;1 CHAR
ACTER FOR ONLY THE <EOA>
     18                                         BIT     R5,14(R3)       ;;REVERS
E BREAK ON NOW?
     19                                         BEQ     160$            ;;NO, NE
GATE COUNT AND XMIT
     20                                         CMPB    -(R4),(R2)+     ;;YES, S
END <RUB> ALSO, LEN=2 NOW
     21                                         BIC     #TTSEQC,ST2741(R1) ;;NO
<CR> TIMING IF REVERSE BREAKING
     22                                         BIC     R5,14(R3)       ;;ALWAYS
 ENSURE BREAK OFF BY NOW
     23                                         BR      160$            ;;THEN N
EGATE AND SEND THE STRING
     24
     25                                 220$:   MOV     ST2741(R1),R2   ;;GET <C
R> TIMING (IF ANY)
     26                                         BIC     #^C<TTSEQC>,R2  ;;TRIM O
FF THE EXTRA BIT(S)
     27                                         BEQ     140$            ;;NO TIM
ING, JUST CONTINUE
     28                                         BIC     R2,ST2741(R1)   ;;CLEAR
COUNT SO WE WON'T DO THIS AGAIN
     29                                         ASH     #-3,R2          ;; AND S
HIFT INTO POSITION
     30                                         MOV     #IDL$27,R4      ;;THIS I
S THE SEND STRING
     31                                         BR      160$            ;;SO NEG
ATE AND SEND IT
     32
     33                                 GLOBAL  <ST2741,RUB$27,EOA$27,IDL$27>
     34
     35                                 .ENDC   ;DH2741
     36
     37                                 .ENDC   ;DH11
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 104
SET TERMINAL LINE PARAMETERS

      1                                 .ENABL  LSB
      2
      3                                 .IF     NE      DH11 ! DJ11 ! DZ11
      4
      5                                 .SBTTL  FIND THE BASE KB# FOR MULTIPLEXO
R INTERRUPTS
      6
      7                                 ;+
      8                                 ; MUXKBN - FIND BASE KB# FOR MULTIPLEXOR
 INTERRUPTS.
      9                                 ;
     10                                 ;       R0 =  MUX CONTROLER # TIMES 2
     11                                 ;       R5 -> BASE KB# TABLE
     12                                 ;
     13                                 ;       CALL    MUXKBN
     14                                 ;
     15                                 ;       R0 =  BASE KB# TIMES 2
     16                                 ;       R1 -> BASE DDB
     17                                 ;       R3 -> CSR
     18                                 ;-
     19
     20 004362  060500                  MUXKBN::ADD     R5,R0           ;;POINT
TO BASE KB# TIMES 2 IN TABLE
     21 004364  011000                          MOV     (R0),R0         ;;NOW GE
T THAT BASE KB# TIMES 2
     22 004366  000413                          BR      10$             ;;TO COM
MON CODE FOR THE REST
     23
     24                                 .ENDC   ;DH11 ! DJ11 ! DZ11
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 105
FIELD TERMINAL INTERRUPTS (NON-MULTIPLXED)

      1                                 .SBTTL  FIELD TERMINAL INTERRUPTS (NON-M
ULTIPLXED)
      2
      3                                 ;+
      4                                 ; SLINT? -  INPUT INTERRUPT SERVICE FOR
NON-MULTIPLEXED LINES.
      5                                 ; SLONT? - OUTPUT INTERRUPT SERVICE FOR
NON-MULTIPLEXED LINES.
      6                                 ;               ?=0,1,2,3,... (FOR KL, D
C, DL, DE)
      7                                 ;
      8                                 ;       R0 =  UNIT NUMBER FOR THIS INTER
RUPT TIMES 2
      9                                 ;       PRIORITY IS INTERRUPT PRIORITY
     10                                 ;
     11                                 ;       ...
     12                                 ;
     13                                 ;       RETURN
     14                                 ;-
     15
     16                                 ; FIND THE LINE NUMBER
     17                                 ; N.B. THE ORDERING OF THE KB NUMBERS IS
 IMPORTANT
     18
     19         000001                  $$$$$$  =       <KL11+DC11+DL11CD+DL11E-
1>/16.
     20
     21                                 ; INPUT INTERRUPT PROCESSING
     22
     23         000001                  $$$$$0  =       $$$$$$
     24         000001                  .REPT   $$$$$$
     25                                 .IRP    N,<\$$$$$0>
     26                                 .IF     EQ      N-$$$$$$
     27                                 .LIST
     28
     29                                 .NLIST
     30                                 .ENDC
     31                                 SLINT'N::ADD    #16.*2,R0       ;;BUMP U
NIT NUMBER *2 FOR THIS INTERFACE SEQUENCE
     32                                 .ENDM
     33                                 $$$$$0  =       $$$$$0-1
     34                                 .ENDR

        004370  062700  000040          SLINT1::ADD     #16.*2,R0       ;;BUMP U
NIT NUMBER *2 FOR THIS INTERFACE SEQUENCE
     35 004374  012746  004626'         SLINT0::MOV     #TTIN,-(SP)     ;;SET UP
 TO GO TO "TTIN"
     36 004400  000406                          BR      10$             ;;NOW GO
 FIX DDB AND CSR POINTERS
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 106
FIELD TERMINAL INTERRUPTS (NON-MULTIPLXED)

      1                                 ; OUTPUT INTERRUPT PROCESSING
      2
      3         000001                  $$$$$0  =       $$$$$$
      4         000001                  .REPT   $$$$$$
      5                                 .IRP    N,<\$$$$$0>
      6                                 .IF     EQ      N-$$$$$$
      7                                 .LIST
      8
      9                                 .NLIST
     10                                 .ENDC
     11                                 SLONT'N::ADD    #16.*2,R0       ;;BUMP U
NIT NUMBER *2 FOR THIS INTERFACE SEQUENCE
     12                                 .ENDM
     13                                 $$$$$0  =       $$$$$0-1
     14                                 .ENDR

        004402  062700  000040          SLONT1::ADD     #16.*2,R0       ;;BUMP U
NIT NUMBER *2 FOR THIS INTERFACE SEQUENCE
     15 004406  012746  000100          SLONT0::MOV     #100,-(SP)      ;;PUT TH
E IE BIT ON THE STACK
     16 004412  012746  004504'                 MOV     #TTOUT,-(SP)    ;;SET UP
 TO GO TO "TTOUT"
     17 004416  016001  000000G         10$:    MOV     DEV.KB(R0),R1   ;;GET TH
E DDB POINTER
     18 004422  016003  000000G                 MOV     CSR.KB(R0),R3   ;;GET TH
E CSR POINTER
     19 004426                                  RETURN                  ;;GO TO
THE INTERRUPT ROUTINE
        004426  000207                           RTS    PC
     20
     21                                 .DSABL  LSB
     22
     23 004430                          GLOBAL  <DEV.KB,CSR.KB>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 107
ENABLE A DATASET

      1                                 .SBTTL  ENABLE A DATASET
      2
      3                                 ;+
      4                                 ; SETDTR - ENABLE A DATASET.
      5                                 ;
      6                                 ;       R0 =  KEYBOARD NUMBER TIMES 2 OF
 DATASET
      7                                 ;       R1 -> DDB OF DATASET
      8                                 ;       R3 -> CSR
      9                                 ;       PRIORITY IS PR5
     10                                 ;
     11                                 ;       CALL    SETDTR
     12                                 ;
     13                                 ;       R2 =  UNDEFINED
     14                                 ;       R3 =  UNDEFINED
     15                                 ;       R4 =  UNDEFINED
     16                                 ;       R5 =  UNDEFINED
     17                                 ;-
     18
     19                                 .ENABL  LSB
     20
     21 004430                                  TMPORG  TERDSP,12
     22 000012  004430'                         .WORD   SETDTR
     23 000014                                  UNORG
     24
     25 004430                          SETDTR:
     26
     27                                 .IF     NE      DZ11AB
     28
     29                                         CMPB    #TTDZ11,TTINTF(R1) ;;DZ1
1 LINE?
     30                                         BNE     10$             ;;NOPE
     31                                         CALL    SUBLIN          ;;YES, G
ET SUB LINE NUMBER TIMES 2
     32                                         MOV     BITWRD(R2),R4   ;;FAKE A
 RINGING INDICATION
     33                                         BR      DZDTR           ;;NOW GO
 PROCESS THE ENABLE
     34
     35                                 GLOBAL  <BITWRD>
     36
     37                                 10$:
     38
     39                                 .ENDC   ;DZ11AB
     40
     41                                 .IF     NE      DM11BB
     42
     43                                         CMPB    #TTDH11,TTINTF(R1) ;;DH1
1/DM11BB LINE?
     44                                         BNE     20$             ;;NOPE
     45                                         CALL    DMBSEL,R5       ;;YEP, S
ELECT THE DM11BB
     46                                           BR    30$             ;;NOT MO
DEM?? JUST EXIT
     47                                         MOV     #100!40,-(R4)   ;;RE-ENA
BLE SCANNING ON DM11BB
     48                                         ;BIS    #100000,R4      ;;INDICA
TE RING (BIT 15) [I/O PAGE ADDRESS...]
     49                                         BR      DMDTR           ;;NOW GO
 PROCESS THE ENABLE
     50
     51                                 20$:
     52
     53                                 .ENDC   ;DM11BB
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 108
ENABLE A DATASET

      1                                 .IF     NE      DC11 ! DL11E
      2
      3                                         MOV     (R3)+,R2        ;;GET CU
RRECT LINE STATUS
      4                                         BIS     #40000!20000,R2 ;;FORCE
RING (DL11E=>BIT 14; DC11=>BIT 13)
      5
      6                                 .ENDC   ;DC11 ! DL11E
      7
      8                                 .IF     NE      DC11
      9
     10                                         CMPB    #TTDC11,TTINTF(R1) ;;DC1
1 LINE?
     11                                         BEQ     SLDTR           ;;YES
     12
     13                                 .ENDC   ;DC11
     14
     15                                 .IF     NE      DL11E
     16
     17                                         CMPB    #TTDE11,TTINTF(R1) ;;DL1
1E LINE?
     18                                         BEQ     SLDTR           ;;YES
     19
     20                                 .ENDC   ;DL11E
     21
     22 004430                          30$:    RETURN                  ;;NOTHIN
G FOUND??
        004430  000207                           RTS    PC
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 109
ENABLE A DATASET

      1                                 .IF     NE      DZ11AB
      2
      3                                 ;+
      4                                 ; DZCHEK - CHECK A DZ11 MODEM LINE (NO I
NTERRUPTS...).
      5                                 ;
      6                                 ;       R0 =  UNIT NUMBER TIMES 2
      7                                 ;       R1 -> DDB
      8                                 ;       R3 -> CSR
      9                                 ;
     10                                 ;       CALL    DZCHEK
     11                                 ;
     12                                 ;       R2 =  UNDEFINED
     13                                 ;       R3 =  UNDEFINED
     14                                 ;       R4 =  UNDEFINED
     15                                 ;       R5 =  UNDEFINED
     16                                 ;-
     17
     18                                 DZCHEK::MOVB    6(R3),R4        ;;GRAB T
HE RING STATUS BITS
     19                                         CALL    SUBLIN          ;;GET SU
B LINE NUMBER TIMES 2
     20                                 DZDTR:: MOV     BITWRD(R2),R5   ;;THIS I
S THE BIT FOR RING/CARRIER CHECKING
     21                                         MOVB    7(R3),R2        ;;GET CU
RRENT CARRIER STATUS BITS
     22                                         ADD     #5,R3           ;;POINT
TO THE DTR BYTE OF DZ11
     23                                         BITB    R5,(R3)         ;;IS DTR
 ON NOW?
     24                                         BNE     TTMCAR          ;;YES, D
O CARRIER CHECKING
     25                                         BISB    R2,R4           ;;OR THE
 CARRIER BITS IN WITH THE RING BITS
     26                                         BITB    R5,R4           ;;NO, IS
 LINE RINGING??
     27                                         BEQ     30$             ;;NEITHE
R, JUST EXIT
     28                                         BISB    R5,(R3)         ;;RINGIN
G, SET DTR
     29
     30                                 .IF     NE      DC11 ! DL11E ! DM11BB
     31
     32                                         BR      TTMRNG          ;;NOW PR
OCESS THE RING
     33
     34                                 .IFF
     35
     36                                         .BR     TTMRNG          ;;DROP I
NTO RING PROCESSING
     37
     38                                 .ENDC   ;DC11 ! DL11E ! DM11BB
     39
     40                                 GLOBAL  <BITWRD>
     41
     42                                 .ENDC   ;DZ11AB
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 110
ENABLE A DATASET

      1                                 .IF     NE      DM11BB
      2
      3                                 ;+
      4                                 ; DMINT - MODEM INTERRUPT SERVICE FOR DH
 LINES.
      5                                 ;
      6                                 ;       R0 =  DH11 CONTROLLER NUMBER TIM
ES 2
      7                                 ;       PRIORITY IS INTERRUPT PRIORITY
      8                                 ;
      9                                 ;       ...
     10                                 ;
     11                                 ;       RETURN
     12                                 ;-
     13
     14                                 DMINT:: MOV     #DHKBN,R5       ;;POINT
TO DH BASE KB# TABLE
     15                                         CALL    MUXKBN          ;; AND G
ET THE BASE DDB, ETC.
     16                                         MOV     @TTAUXP(R1),R3  ;;GET TH
E DM11BB CSR ADDRESS
     17                                         BEQ     30$             ;;PUNT I
F NOT A DM11BB
     18                                         MOV     (R3)+,R4        ;;GET DM
11BB STATUS
     19                                         MOV     (R3),R2         ;;GET LI
NE'S STATUS
     20                                         MOV     #100!40,-(R3)   ;;RE-ENA
BLE SCANNING
     21                                         MOV     R4,R1           ;;COPY D
M11BB STATUS
     22                                         BIC     #^C<17>,R1      ;;EXTRAC
T SUBLINE #
     23                                         ASL     R1              ;;SUBLIN
E INDEX NOW
     24                                         ADD     R1,R0           ;;LINE I
NDEX (KB# * 2)
     25                                         MOV     DEV.KB(R0),R1   ;;GET RE
AL DDB POINTER
     26                                         BIT     #TTMODM,TTINTF(R1) ;;IS
THIS A MODEM LINE
     27                                         BEQ     30$             ;;NO. SK
IP IT
     28                                         CMP     R3,@TTAUXP(R1)  ;;LINE O
N SAME DM11BB?
     29                                         BNE     30$             ;;NO, FO
RGET IT
     30                                         BITB    #1,DDJBNO(R1)   ;;IS THE
 LINE DISABLED?
     31                                         BNE     30$             ;;YES, P
UNT ON IT
     32                                         MOV     #CHKLIN,-(SP)   ;;O.K.,
START LINE GOING ON EXIT...
     33                                 DMDTR:: MOV     #100,R5         ;;SET BI
T FOR CARRIER ON/OFF CHECKING
     34                                         BIT     R2,#2           ;;IS DTR
 ON NOW?
     35                                         BNE     TTMCAR          ;;YES. G
O CHECK CARRIER STATUS
     36                                         TST     R4              ;;NO, CH
ECK FOR A RING INTERRUPT
     37                                         BPL     30$             ;;NOT RI
NG, SO IGNORE THIS INTERRUPT
     38                                         CALL    DMBSEL,R5       ;;RING I
NTERRUPT, SELECT THE DM11BB LINE
     39                                           CRASH                 ;;CAN'T
HAPPEN!!! CRASH SYSTEM!!!
     40                                         MOV     #4!2!1,(R4)     ;;TURN O
N RQS, DTR, ENBL
     41                                         MOV     #100!40,-(R4)   ;; AND R
E-ENABLE SCANNING
     42                                 .IF     NE      DC11 ! DL11E
     43                                         BR      TTMRNG          ;;NOW DO
 THE RING CHECKING
     44                                 .IFF
     45                                         .BR     TTMRNG          ;;DROP I
NTO RING PROCESSING
     46                                 .ENDC   ;DC11 !DL11E
     47
     48                                 GLOBAL  <DHKBN,TTAUXP,DEV.KB>
     49
     50                                 .ENDC   ;DM11BB
     51
     52                                 .DSABL  LSB
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 111
ENABLE A DATASET

      1                                 ;+
      2                                 ; TTIN - PROCESS (NON-MULTIPLEXED) INPUT
 INTERRUPTS.
      3                                 ;
      4                                 ;       R0 =  UNIT NUMBER TIMES 2
      5                                 ;       R1 -> DDB
      6                                 ;       R3 -> CSR
      7                                 ;
      8                                 ;       ...
      9                                 ;
     10                                 ;       RETURN
     11                                 ;-
     12
     13                                 .ENABL  LSB
     14
     15                                 .IF     NE      DC11 ! DL11E
     16                                 TTIN::  MOV     (R3)+,R2        ;;GET CO
NTENTS OF INPUT CSR
     17                                         BMI     20$             ;;IT WAS
 A MODEM TYPE INTERRUPT
     18                                 10$:    MOV     (R3),R2         ;;IT WAS
 A DATA INTERRUPT, GET THE DATA
     19                                         BIS     #140,-(R3)      ;;NOW EN
SURE IE STAYS ON...
     20                                         CALLR   TTINCH          ;;ELSE G
O PROCESS THE INPUT DATA
     21
     22                                 20$:    BIT     #TTMODM,TTINTF(R1) ;;REA
LLY A NON-MODEM LINE?
     23                                         BEQ     10$             ;;YES, S
O WHY DID WE GET HERE?
     24                                         TST     (R3)            ;;MAKE S
URE IT INTERRUPTS US AGAIN
     25                                 SLDTR::                         ;;SINGLE
 LINE DATASET ENABLE ENTRY
     26                                 .IF     NE      DL11E
     27                                 .IF     NE      DC11
     28                                         CMPB    #TTDC11,TTINTF(R1) ;;DC1
1 ?
     29                                         BEQ     30$             ;;IT IS
A DC11 TYPE
     30                                 .IFTF
     31                                         MOV     #10000,R5       ;;SET BI
T FOR CARRIER ON/OFF CHECKING
     32                                         BIT     R2,#2           ;;IS DTR
 ON NOW?
     33                                         BNE     TTMCAR          ;;YES, S
O CHECK CARRIER STATUS
     34                                         ASL     R5              ;;NO, SH
IFT CARRIER BIT AND
     35                                         ASL     R2              ;;CHECK
FOR RING INTERRUPT
     36                                         BPL     60$             ;;NOT RI
NG, SO IGNORE INTERRUPT
     37                                         MOV     #146,-(R3)      ;;RING,
SO SET IE+DATASET IE+RQS+DTR
     38                                 .IFT
     39                                         BR      TTMRNG          ;;RING I
NTERRUPT
     40
     41                                 30$:
     42                                 .ENDC   ;DC11
     43                                 .ENDC   ;DL11E
     44                                 .IF     NE      DC11
     45                                         MOV     #4/2,R5         ;;SET BI
T FOR CARRIER ON/OFF CHECKING
     46                                         ROR     R2              ;;IS DTR
 ON NOW?
     47                                         BCS     TTMCAR          ;;YES, S
O CHECK CARRIER STATUS
     48                                         BIT     R2,#20000/2     ;;NO, RI
NG INTERRUPT?
     49                                         BEQ     60$             ;;NOT RI
NG, SO IGNORE INTERRUPT
     50                                         BIS     #101,-(R3)      ;;RING,
SO TURN ON IE+DTR
     51                                         BIS     #1,4(R3)        ;; AND T
URN ON RQS
     52                                         .BR     TTMRNG          ;;DO RIN
G PROCESSING
     53                                 .ENDC   ;DC11
     54                                 .ENDC   ;DC11 ! DL11E
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 112
ENABLE A DATASET

      1                                 .IF     NE      DC11 ! DL11E ! DM11BB !
DZ11AB
      2
      3                                 ;+
      4                                 ; TTMRNG - RING INTERRUPT PROCESSING.
      5                                 ;
      6                                 ;       R0 =  UNIT NUMBER TIMES 2
      7                                 ;       R1 -> DDB
      8                                 ;       R2 =  CARRIER ON/OFF INDICATION
      9                                 ;       R5 =  BIT FOR CARRIER ON/OFF TES
T
     10                                 ;
     11                                 ;       CALL    TTMRNG
     12                                 ;
     13                                 ;       R2 =  UNDEFINED
     14                                 ;       R3 =  UNDEFINED
     15                                 ;       R4 =  UNDEFINED
     16                                 ;-
     17
     18                                 TTMRNG::MOV     #50$,-(SP)      ;;SET RE
TURN ADDRESS IF CARRIER ON
     19                                         BIT     R2,R5           ;;CARRIE
R ON??
     20                                         BNE     40$             ;;YES, J
UST SET UP DDB
     21                                         MOV     #80$,(SP)       ;;NO, RE
TURN TO TIME OUT SETTER
     22                                         MOV     #TTWRC!30.,R4   ;; AND D
O A 30. SECOND TIMEOUT ON CARRIER
     23                                 ..WRNG  ==      .-2     ;**PATCH** SECON
DS TO WAIT AFTER RING (BYTE)
     24                                 40$:    TST     MODCLK(R1)      ;;ALREAD
Y ANSWERED?
     25                                         BPL     60$             ;;YES, S
O DON'T SET ANYTHING UP!
     26
     27                                 GLOBAL  <MODCLK>
     28
     29                                 .ENDC   ;DC11 ! DL11E ! DM11BB ! DZ11AB
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 113
ENABLE A DATASET

      1                                 .IF     NE      DC11 ! DL11E ! DM11BB !
DZ11AB ! PK11
      2
      3                                 ;+
      4                                 ; DDBSET - SET UP A DDB.
      5                                 ;
      6                                 ;       R0 =  UNIT NUMBER TIMES TWO
      7                                 ;       R1 -> DDB
      8                                 ;
      9                                 ;       CALL    DDBSET
     10                                 ;
     11                                 ;       R2 =  UNDEFINED
     12                                 ;       R3 -> CSR
     13                                 ;-
     14
     15 004432  010103                  DDBSET::MOV     R1,R3           ;;COPY T
HE DDB POINTER
     16 004434  062703  000000G                 ADD     #MODCLK,R3      ;; AND P
OINT TO MODCLK
     17 004440  005023                          CLR     (R3)+           ;;SET NO
 MORE TIME OUTS
     18 004442  012361  000000G                 MOV     (R3)+,TTPARM(R1) ;;SET T
HE NEW PARAMETER WORD
     19 004446  012361  000034                  MOV     (R3)+,TTCHAR(R1) ;;LOAD
TTCHAR
     20 004452  112361  000000G                 MOVB    (R3)+,TTFCNT(R1) ;; AND
TTFCNT
     21 004456  112361  000021                  MOVB    (R3)+,DDHORC(R1) ;;  AND
 DDHORC
     22 004462  112361  000010                  MOVB    (R3)+,DDFLAG(R1) ;;   AN
D DDFLAG
     23 004466  105061  000011                  CLRB    DDFLAG+1(R1)    ;;CLEAR
OUT TRANSIENT FLAGS
     24 004472  005061  000032                  CLR     TTMODE(R1)      ;;CLEAR
'MODE' AND PRIVATE DELIMITER
     25
     26                                 .IF     NE      KB2741
     27
     28                                         BIC     #^C<TTCODE>,ST2741(R1) ;
;RESET 2741 STATUS
     29                                         BIS     #TTSTA1,ST2741(R1) ;;SAY
 KB UNLOCKED AND READY
     30
     31                                 GLOBAL  <ST2741>
     32
     33                                 .ENDC   ;KB2741
     34
     35 004476                                  CALLR   SETPRM          ;;EXIT S
ETTING THE LINE PARAMETERS
        004476  000167  177644                   JMP    SETPRM
     36
     37 004502                          GLOBAL  <MODCLK,TTPARM,TTFCNT>
     38
     39                                 .ENDC   ;DC11 ! DL11E ! DM11BB ! DZ11AB
! PK11
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 114
ENABLE A DATASET

      1                                 ;+
      2                                 ; TTMCAR - CARRIER INTERRUPT.
      3                                 ;
      4                                 ;       R0 =  UNIT NUMBER TIMES 2
      5                                 ;       R1 -> DDB
      6                                 ;       R2 =  CARRIER ON/OFF INDICATION
      7                                 ;       R5 =  BIT FOR CARRIER ON/OFF TES
T
      8                                 ;
      9                                 ;       CALL    TTMCAR
     10                                 ;
     11                                 ;       R2 =  UNDEFINED
     12                                 ;       R3 =  UNDEFINED
     13                                 ;       R4 =  UNDEFINED
     14                                 ;-
     15
     16                                 .IF     NE      DC11 ! DL11E ! DM11BB !
DZ11AB
     17
     18                                 TTMCAR::BIT     R2,R5           ;;CARRIE
R ON OR OFF??
     19                                         BEQ     70$             ;;CARRIE
R WENT OFF, HOPE HE LOGGED OUT
     20                                         BIT     #TTDSBL!TTWRC,MODCLK(R1)
 ;;ALREADY ENABLED & NOT WAITING?
     21                                         BEQ     90$             ;;YES, I
GNORE INTERRUPT
     22                                         BPL     50$             ;;ALREAD
Y ENABLED, SO NO DDBSET
     23                                         CALL    DDBSET          ;;DISABL
ED, SO DDBSET IT
     24                                 50$:    CLR     MODCLK(R1)      ;;RESET
MODEM CLOCK, WAITING, & ANSWERED
     25                                         BIC     #TTHUNG,DDFLAG(R1) ;;SET
 THE HUNG FLAG
     26                                         MOVB    DDJBNO(R1),R3   ;;GET JO
B OF TERMINAL (IF ANY)
     27                                         BNE     90$             ;;JUST E
XIT IF SOMEONE
     28                                         CALL    CLRTER          ;;ELSE C
LEAR THE TERMINAL BUFFERS
     29                                         MOV     #'I,R2          ;;SAY HE
 TYPED <I><LF>
     30                                         CALL    STOREX          ;;SO STO
RE THE <I> AS INPUT
     31                                         CALL    TTILFS          ;; AND S
ET UP THE JOB
     32                                 60$:    RETURN                  ;;  THEN
 EXIT (NOTE: CO-ROUTINES!!)
     33
     34                                 70$:    BIT     #TTWRC,MODCLK(R1) ;;WERE
 WE WAITING FOR CARRIER?
     35                                         BNE     90$             ;;IF SO,
 KEEP WAITING
     36                                         MOV     #TTWRC!5.,R4    ;;ELSE S
TART 5 SECOND TIMEOUT
     37                                 ..WCAR  ==      .-2     ;**PATCH** SECON
DS TO WAIT FOR CARRIER (BYTE)
     38                                         BR      80$             ;;U.S.A.
 PATH UNCHANGED FOR LOST CARRIER
     39                                 ..UKMD  ==      .-2     ;**PATCH** 'NOP'
 FOR IMMEDIATE HANGUP
     40                                         MOV     #TTWRC!1,R4     ;;SET FO
R IMMEDIATE TIME OUT
     41                                         MOV     #TMOHUP,-(SP)   ;; BY GO
ING TO THE HANG CODE
     42                                 80$:    BIC     #TTHUNG,DDFLAG(R1) ;;SET
 PENDING HUNG TERMINAL
     43                                         MOV     R4,MODCLK(R1)   ;;LOAD T
HE NEW MODEM CLOCK STATUS
     44                                 90$:    RETURN                  ;; AND E
XIT
     45
     46                                 GLOBAL  <MODCLK>
     47
     48                                 .ENDC   ;DC11 ! DL11E ! DM11BB ! DZ11AB
     49
     50                                 .DSABL  LSB
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 115
ENABLE A DATASET

      1                                 .IF     NE      DJ11 ! DZ11
      2
      3 004502  010446                  DJOUT:: MOV     R4,-(SP)        ;;PUT DJ
11 OR DZ11 BAR BIT ON THE STACK
      4
      5                                 .ENDC   ;DJ11 ! DZ11
      6
      7                                 .SBTTL  CHARACTER OUTPUT
      8
      9                                 ;+
     10                                 ; TTOUT - TERMINAL CHARACTER OUTPUT ROUT
INE (INTERRUPT LEVEL 4 OR 5).
     11                                 ;
     12                                 ;       R0 =  LINE NUMBER TIMES 2
     13                                 ;       R1 -> DDB
     14                                 ;       R3 -> CSR
     15                                 ;       SP -> IE BIT PATTERN, RETURN ADD
RESS
     16                                 ;
     17                                 ;       ...
     18                                 ;
     19                                 ;       R2 =  UNDEFINED
     20                                 ;       R3 -> CSR +4
     21                                 ;       R4 =  UNDEFINED
     22                                 ;       R5 =  UNDEFINED
     23                                 ;-
     24
     25                                 .ENABL  LSB
     26
     27 004504  062703  000006          TTOUT:: ADD     #6,R3           ;;SKIP T
O OUTPUT DATA BUFFER
     28 004510  042761  001000  000010          BIC     #TTHUNG,DDFLAG(R1) ;;NOT
 HUNG IF INTERRUPTED
     29
     30                                 .IF     NE      SL2741 ! DZ2741
     31
     32                                         MOV     ST2741(R1),R5   ;;2741 S
TATUS FOR DIDDLING
     33                                         BIT     R5,#TTBREK      ;;IN REV
ERSE BREAK SEQUENCE ?
     34                                         BEQ     10$             ;;NOPE
     35                                         BIT     R5,#TTSEQC      ;;TIMING
 COUNT ZERO YET
     36                                         BNE     110$            ;;NO, SO
 SEND THAT RUB & COUNT DOWN
     37                                 10$:
     38
     39                                 GLOBAL  <ST2741>
     40
     41                                 .ENDC   ;SL2741 ! DZ2741
     42
     43 004516  032761  020000  000010          BIT     #TTSXOF,DDFLAG(R1) ;;NEE
D TO SEND XOFF RIGHT NOW ?
     44 004524  001411                          BEQ     20$             ;;NOPE
     45 004526  042761  020000  000010          BIC     #TTSXOF,DDFLAG(R1) ;;YEP
, BUT ONLY ONCE
     46 004534  052761  040000  000010          BIS     #TTXOFF,DDFLAG(R1) ;;SAY
 WE SENT THE XOFF
     47 004542  116713  000000G                 MOVB    XOFFCH,(R3)     ;;SO SEN
D THE XOFF
     48 004546  000410                          BR      50$             ;;SET IE
 AND EXIT
     49
     50 004550  005761  000010          20$:    TST     DDFLAG(R1)      ;;STALLE
D FOR PAGING ?
     51 004554  100415                          BMI     70$             ;;YES, S
O KILL INTERRUPT
     52 004556                          .ASSUME TTSTOP  EQ      100000
     53
     54 004556                          GLOBAL  <XOFFCH>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 116
CHARACTER OUTPUT

      1                                 .IF     NE      SL2741 ! DZ2741
      2
      3                                         TSTB    DDFLAG(R1)      ;;IS THI
S A 2741 ?
      4                                         BMI     80$             ;;IF SO,
 LOTS OF SPECIAL CHECKS
      5                                 .ASSUME TT2741  EQ      200
      6
      7                                 .ENDC   ;SL2741 ! DZ2741
      8
      9 004556                          30$:    CALLX   FETCH,R5,DDBUFC+EP ;;TRY
 TO FETCH THE NEXT CHARACTER FROM THE OUTPUT SIDE
        004556  004537  000000G                  JSR    R5,@#FETCH
        004562  000012                            .WORD DDBUFC+EP
     10 004564  103407                          BCS     60$             ;;EMPTY
- SET JSTEL AND KILL INTERRUPT
     11 004566  110213                  40$:    MOVB    R2,(R3)         ;;PUSH T
HE CHARACTERS OUT
     12 004570  052643                  50$:    BIS     (SP)+,-(R3)     ;;ENSURE
 IE IS ON
     13
     14                                 .IF     NE      SL2741 ! DZ2741
     15
     16                                         MOV     R5,ST2741(R1)   ;;RESTOR
E UPDATED 2741 STATUS
     17
     18                                 GLOBAL  <ST2741>
     19
     20                                 .ENDC   ;SL2741 ! DZ2741
     21
     22                                 ;+
     23                                 ; TTSJST - SET OUTPUT READY FLAG.
     24                                 ;
     25                                 ;       R1 -> DDB
     26                                 ;
     27                                 ;       CALL    TTSJST
     28                                 ;
     29                                 ;       R4 =  UNDEFINED
     30                                 ;-
     31
     32 004572                          TTSJST::CALLX   IOFINC,R5,<BFQ.KB-5.,JST
EL> ;;SET THE OUTPUT READY FLAG
        004572  004537  000000G                  JSR    R5,@#IOFINC
        004576  177773G 004000                    .WORD BFQ.KB-5.,JSTEL
     33 004602                                  RETURN                  ;; AND E
XIT
        004602  000207                           RTS    PC
     34
     35 004604                          60$:    CALL    TTSJST          ;;GO SET
 THE OUTPUT READY FLAG
        004604  004767  177762                   JSR    PC,TTSJST
     36 004610  042643                  70$:    BIC     (SP)+,-(R3)     ;;CLEAR
INTERRUPT ENABLE
     37 004612                                  RETURN                  ;;WHEREV
ER
        004612  000207                           RTS    PC
     38
     39 004614                          GLOBAL  <BFQ.KB>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 117
CHARACTER OUTPUT

      1                                 .IF     NE      SL2741 ! DZ2741
      2
      3                                 80$:    CMP     DDBUFC+FP(R1),DDBUFC+EP(
R1) ;;HAVE ANY CHARACTERS?
      4                                         BNE     90$             ;;YES, G
O SEE IF THE KB IS LOCKED
      5                                         TST     R5              ;;NO, NO
 MORE CHARACTERS TO SEND AT ALL
      6                                         BPL     60$             ;;IF KB
UNLOCKED, THEN JUST EXIT
      7                                         CALL    CHKLCK,R5       ;;CHECK
FOR UNLOCKING THE KB
      8                                           BR    60$             ;;O.K. T
O LEAVE IT LOCKED
      9                                         BIC     #TTSTAT,R5      ;;SIGNAL
 UNLOCKED AND WAITING FOR EOA
     10                                         MOVB    #174,(R3)       ;;SEND <
EOT> WITH PARITY
     11                                         BR      50$             ;;SPLIT
AFTER SETTING IE
     12
     13                                 90$:    TST     R5              ;;KEYBOA
RD LOCKED ?
     14                                         BMI     120$            ;;YES, L
OCKED UP TIGHT
     15                                         BIT     R5,#TTCRIN      ;;WILL E
OT ARIVE SOON TO TURN US AROND
     16                                         BNE     70$             ;;YES, S
O JUST WAIT FOR IT
     17                                         BIC     #TTSEQC,R5      ;;CLEAR
OUT SOME JUNK
     18                                         BIS     #TTSTAT!TTBREK!<TTSEQ1*4
>,R5 ;; SET UP REVERSE BREAK
     19
     20                                 .IF     NE      DZ2741
     21                                         CALL    BRKDZ           ;;SET BR
EAKS FOR DZ'S
     22                                 .IF     NE      SL2741
     23                                         BEQ     110$            ;;Z BIT
SET FOR DZ
     24                                 .ENDC   ;SL2741
     25                                 .ENDC   ;DZ2741
     26
     27                                 .IF     NE      SL2741
     28                                 .IF     EQ      DC11
     29                                         BIS     #1,-2(R3)       ;;DL11CD
 OR DL11E REVERSE BREAK ON
     30                                 .IFF
     31                                 .IF     EQ      DL11CD ! DL11E
     32                                         BIS     #2,-6(R3)       ;;DC11 R
EVERSE BREAK ON
     33                                 .IFF
     34                                         CMPB    #TTDC11,TTINTF(R1) ;;IS
THIS A DC11 ?
     35                                         BNE     100$            ;;NOPE,
TIS A DL11
     36                                         BIS     #2,-6(R3)       ;;TURN O
N DC11 REVERSE BREAK
     37                                         BR      110$            ;;SEND R
UB AND COUNT DOWN
     38
     39                                 100$:   BIS     #1,-2(R3)       ;;TURN O
N DL11 REVERSE BREAK
     40                                 .ENDC   ;DL11CD ! DL11E
     41                                 .ENDC   ;DC11
     42                                 .ENDC   ;SL2741
     43
     44                                 110$:   MOV     #177,R2         ;;SET RU
B FOR TIMING
     45                                         BR      170$            ;; SEND
IT AND COUNT DOWN
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 118
CHARACTER OUTPUT

      1                                 120$:   BIT     R5,#TTSTA1      ;;HAVE W
E SENT EOA ?
      2                                         BEQ     160$            ;;YES WE
 DID
      3                                         BIT     R5,#TTBREK      ;;IN REV
ERSE BREAK SEQUENCE ?
      4                                         BEQ     150$            ;;NOPE
      5                                         BIC     #TTBREK,R5      ;;YES, B
UT NOT ANY MORE
      6
      7                                 .IF     NE      DZ2741
      8                                         CALL    BRKDZ           ;;TURN O
FF BREAK FOR DZ'S
      9                                 .IF     NE      SL2741
     10                                         BEQ     140$            ;;Z BIT
SET FOR DZ
     11                                 .ENDC   ;SL2741
     12                                 .ENDC   ;DZ2741
     13
     14                                 .IF     NE      SL2741
     15                                 .IF     EQ      DC11
     16                                         BIC     #1,-2(R3)       ;;DL11CD
 OR DL11E REVERSE BREAK OFF
     17                                 .IFF
     18                                 .IF     EQ      DL11CD ! DL11E
     19                                         BIC     #2,-6(R3)       ;;DC11 R
EVERSE BREAK OFF
     20                                 .IFF
     21                                         CMPB    #TTDC11,TTINTF(R1) ;;IS
THIS A DC11 ?
     22                                         BNE     130$            ;;NOPE,
TIS A DL11
     23                                         BIC     #2,-6(R3)       ;;TURN O
FF DC11 REVERSE BREAK
     24                                         BR      140$            ;;SEND R
UBOUT FOR SYNC
     25
     26                                 130$:   BIC     #1,-2(R3)       ;;TURN O
FF DL11 REVERSE BREAK
     27                                 .ENDC   ;DL11CD ! DL11E
     28                                 .ENDC   ;DC11
     29                                 .ENDC   ;SL2741
     30
     31                                 140$:   MOVB    #177,(R3)       ;;SEND O
UT RUBOUT FOR SYNC
     32                                         BR      50$             ;;LEST 2
741 MISS OUR EOA
     33
     34                                 150$:   BIC     #TTSTA1,R5      ;;NOTE T
HAT WE SENT EOA
     35                                         MOVB    #064,(R3)       ;;CAUSE
THIS IS IT
     36                                         BR      50$             ;;GO SET
 THE IE
     37
     38                                 160$:   BIT     R5,#TTSEQC      ;;INPUT
<CR> FILL COUNT ZERO YET ?
     39                                         BEQ     30$             ;;YES, S
O GO FETCH
     40                                         MOV     #075,R2         ;;SEND I
DLE FOR FILL
     41                                 170$:   SUB     #TTSEQ1,R5      ;;COUNT
DOWN BREAK OR FILL COUNTER
     42                                         BR      40$             ;; AND S
END ZERO OR IDLE
     43
     44                                 .ENDC   ;SL2741 ! DZ2741
     45
     46                                 .DSABL  LSB
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 119
CHARACTER OUTPUT

      1                                 .IF     NE      DZ2741
      2
      3                                 .SBTTL  (RE)SET BREAK FOR DZ11'S
      4
      5                                 ;+
      6                                 ; BRKDZ - (RE)SET BREAK FOR DZ11.
      7                                 ;
      8                                 ;       R1 -> DDB
      9                                 ;       R3 -> CSR+6
     10                                 ;       R5 =  BREAK STATUS
     11                                 ;       SP -> RETURN ADDRESS, BARBIT
     12                                 ;
     13                                 ;       ...
     14                                 ;
     15                                 ;       R2 =  UNDEFINED
     16                                 ;       Z BIT SET IF DZ, NOT SET OTHERWI
SE
     17                                 ;-
     18
     19                                 BRKDZ::
     20
     21                                 .IF     NE      SL2741
     22
     23                                         CMPB    #TTDZ11,TTINTF(R1) ;;IS
THIS A DZ
     24                                         BNE     20$             ;;NO
     25
     26                                 .ENDC   ;SL2741
     27
     28                                         MOV     TTAUXP(R1),R2   ;;GET PO
INTER TO SAVED BREAKS
     29                                         BICB    2(SP),(R2)      ;;CLEAR
THIS LINE'S BIT
     30                                         BIT     R5,#TTBREK      ;;BREAK
ON OR OFF?
     31                                         BEQ     10$             ;;LEAVE
BREAK OFF
     32                                         BISB    2(SP),(R2)      ;;WANT T
O TURN ON BREAK
     33                                 10$:    MOVB    (R2),1(R3)      ;;SET TH
E BREAK BITS IN THE REGISTER
     34                                         SEZ                     ;;SET Z
BIT
     35                                 20$:    RETURN                  ;;ALL DO
NE
     36
     37                                 GLOBAL  <TTAUXP>
     38
     39                                 .ENDC   ;DZ2741
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 120
WIPE OUT THE TERMINAL OUTPUT SIDE

      1                                 .SBTTL  WIPE OUT THE TERMINAL OUTPUT SID
E
      2
      3                                 ;+
      4                                 ; TTWIPE - WIPE OUT TERMINAL OUTPUT SIDE
.
      5                                 ; ABODHO - ABORT DH11 OUTPUT.
      6                                 ;
      7                                 ;       R0 =  UNIT NUMBER TIMES TWO
      8                                 ;       R1 -> DDB
      9                                 ;
     10                                 ;       CALL    TTWIPE
     11                                 ;       CALL    ABODHO
     12                                 ;
     13                                 ;       R2 =  UNDEFINED
     14                                 ;       R3 -> CSR (IF DH11)
     15                                 ;       R4 =  UNDEFINED
     16                                 ;-
     17
     18 004614                          TTWIPE::CALLX   CLRBUF,R5,DDBUFC+EP ;;NO
W WIPE OUT OUTPUT BUFFER
        004614  004537  000000G                  JSR    R5,@#CLRBUF
        004620  000012                            .WORD DDBUFC+EP
     19
     20                                 .IF     NE      DH11
     21
     22                                 ABODHO::CMPB    #TTDH11,TTINTF(R1) ;;IS
THIS A DH LINE?
     23                                         BNE     TTSJST          ;;NO
     24                                         MOV     CSR.KB(R0),R3   ;;GET TH
E DH11 CSR ADDRESS
     25                                         CALL    DHSEL           ;;NOW SE
LECT CORRECT DH11 LINE
     26                                         BIC     BITWRD(R2),12(R3) ;;TURN
 LINE OFF BY CLEARING 'BAR'
     27                                         CLR     10(R3)          ;;FORCE
BYTE COUNT TO ZERO (ABORTS OUTPUT)
     28                                         CLR     10(R3)          ;; (ENSU
RE WE DID THAT!!!!!)
     29
     30                                 GLOBAL  <CSR.KB,BITWRD>
     31
     32                                 .ENDC   ;DH11
     33
     34 004622  000763                          BR      TTSJST          ;;GO SET
 "JSTEL" AND EXIT
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 121
CHARACTER INPUT

      1                                 .SBTTL  CHARACTER INPUT
      2
      3                                 .IF     NE      KB2741
      4
      5                                 TTIN07::BITB    #1,DDJBNO(R1)   ;;IS THI
S LINE REALLY DISABLED?
      6                                         BNE     TTINXX          ;;YES, F
ORGET IT
      7
      8                                 .IF     NE      PK11 ! DC11 ! DL11E ! DM
11BB ! DZ11AB
      9                                         BIT     #TTDSBL!TTWRC,MODCLK(R1)
 ;;NO, BUT IS THE LINE O.K.?
     10                                         BNE     TTINXX          ;;NOPE,
FORGET IT ALSO
     11                                 GLOBAL  <MODCLK>
     12                                 .ENDC   ;PK11 ! DC11 ! DL11E ! DM11BB !
DZ11AB
     13
     14                                 .IF     NE      DH2741 ! DZ2741 ! DL11CD
 ! DL11E
     15                                 .IF     NE      DC11
     16                                         CMPB    #TTDC11,TTINTF(R1) ;;DC1
1 LINE?
     17                                         BEQ     10$             ;;YES, S
O SKIP THE FRAMING ERROR CHECK
     18                                 .ENDC   ;DC11
     19                                         BIT     R2,#020000      ;;FRAMIN
G ERROR?
     20                                         BEQ     30$             ;;NOPE,
CANNOT BE A BREAK THEN
     21                                 10$:
     22                                 .ENDC   ;DH2741 ! DZ2741 ! DL11CD ! DL11
E
     23
     24                                         BIT     R2,#177         ;;REALLY
 A BREAK ?
     25                                         BNE     30$             ;;NOT IF
 ANY BIT IS ON
     26                                         MOV     #'C-100,R2      ;;TREAT
THIS AS A CONTROL/C
     27                                         BR      TTIN09          ;;CODE I
S ALREADY TRANSLATED
     28
     29                                 20$:    CALL    MAPPED,R5,CVCDAS ;;CONVE
RT THE CODE TO ASCII (USING PAR6 CODE)
     30                                         BR      TTIN09          ;; AND P
ROCESS IT
     31
     32                                 30$:    BIT     #TTSTAT,ST2741(R1) ;;KEY
BOARD LOCKED ?
     33                                         BMI     TTIN4X          ;;YES, S
O NOT VALID INPUT
     34                                         BNE     20$             ;;IF NOT
 WAITING FOR <EOA>, CONVERT
     35                                         CMPB    R2,#064         ;;<EOA>?
     36                                         BNE     TTIN4X          ;;NOPE,
IGNORE IT
     37                                         BIS     #TTSTA1,ST2741(R1) ;;YES
, SO SAY <EOA> CAME IN
     38                                         BIC     #TTUC.I,ST2741(R1) ;; AN
D 2741 IN LOWER CASE NOW
     39                                         CALLR   SRTLIN          ;;NOW AS
K FOR XMIT INTERRUPT
     40
     41                                 GLOBAL  <ST2741>
     42
     43                                 .ENDC   ;KB2741
     44
     45 004624                          TTINXX::RETURN                  ;;GET OU
T ON BAD TYPE LINES
        004624  000207                           RTS    PC
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 122
CHARACTER INPUT

      1                                 .IF     EQ      DC11 ! DL11E
      2
      3                                 ; INPUT INTERRUPT PROCESSING IF THERE AR
E NO SINGLE LINE INTERFACES WITH MODEM CONTROL
      4
      5 004626  052723  000100          TTIN::  BIS     #100,(R3)+      ;;KEEP I
E ON IN INPUT CSR
      6 004632  011302                          MOV     (R3),R2         ;;NOW FE
TCH THE CHARACTER
      7
      8                                 .ENDC   ;DC11 ! DL11E
      9
     10                                 ;+
     11                                 ; TTINCH - TERMINAL CHARACTER INPUT ROUT
INE.
     12                                 ;
     13                                 ;       R0 =  2* LINE NUMBER
     14                                 ;       R1 -> DDB
     15                                 ;       R2 =  CHARACTER & OVERFLOW BIT &
 FRAMING ERROR BIT & PARITY ERROR BIT
     16                                 ;
     17                                 ;       CALL    TTINCH
     18                                 ;-
     19
     20 004634  030227  040000          TTINCH::BIT     R2,#040000      ;;DATA O
VERRUN?
     21         004636'                 ..KBPR  ==      .-2     ;**PATCH** MAKE
050000 TO LOG INPUT PARITY ERRORS
     22 004640  001401                          BEQ     10$             ;;NO
     23 004642  000000G                         LOG$KB                  ;;YES, S
O LOG AN ERROR
     24 004644                          10$:
     25
     26                                 .IF     NE      KB2741
     27                                         TSTB    DDFLAG(R1)      ;;IS THI
S A 2741 ??
     28                                         BMI     TTIN07          ;;YEP
     29                                 .ASSUME TT2741  EQ      200
     30                                 .ENDC   ;KB2741
     31
     32 004644  030227  020000                  BIT     R2,#020000      ;;FRAMIN
G ERROR?
     33 004650  001410                          BEQ     20$             ;;NOPE
     34 004652  105702                          TSTB    R2              ;;REALLY
?
     35 004654  001143                          BNE     TTIN4X          ;;NOPE,
IGNORE IT
     36 004656  132761  000001  000032          BITB    #TTBIN,TTMODE(R1) ;;YEP,
 IN BINARY INPUT MODE?
     37 004664  001002                          BNE     20$             ;;KEEP B
REAK IF SO
     38 004666  012702  000003                  MOV     #'C-100,R2      ;;ELSE T
URN BREAK INTO A CTRL/C
     39 004672  005761  000010          20$:    TST     DDFLAG(R1)      ;;STALLE
D FOR PAGING?
     40 004676  100012                          BPL     TTIN09          ;;NO
     41 004700                          .ASSUME TTSTOP  EQ      100000
     42 004700  032761  000004  000034          BIT     #TTXANY,TTCHAR(R1) ;;YES
, DO "XON" ON ANY CHARACTER??
     43 004706  001406                          BEQ     TTIN09          ;;NOPE,
ONLY ON 'XON' AND/OR 'CONTROL/C'
     44 004710  132761  000040  000032          BITB    #TTPCOL,TTMODE(R1) ;;IN
INCOMING XON/XOFF PROTOCOL MODE?
     45 004716  001002                          BNE     TTIN09          ;;NO AUT
OMATIC XON'S IF SO
     46 004720                                  CALL    DOXON           ;;YEP, S
O RE-ENABLE OUTPUT NOW
        004720  004767  004362                   JSR    PC,DOXON
     47 004724  132761  000001  000002  TTIN09::BITB    #1,DDJBNO(R1)   ;;IS LIN
E REALLY DISABLED?
     48 004732  001334                          BNE     TTINXX          ;;YES, S
O FORGET IT ALREADY
     49
     50                                 .IF     NE      PK11 ! DC11 ! DL11E ! DM
11BB ! DZ11AB
     51 004734  032761  140000  000000G         BIT     #TTDSBL!TTWRC,MODCLK(R1)
 ;;NO, IS LINE ALL MESSED UP?
     52 004742  001330                          BNE     TTINXX          ;;SKIP I
F MESSED UP...
     53 004744                          GLOBAL  <MODCLK>
     54                                 .ENDC   ;PK11 ! DC11 ! DL11E ! DM11BB !
DZ11AB
     55
     56 004744                          GLOBAL  <LOG$KB>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 123
CHARACTER INPUT

      1                                 .IF     NE      JSTATS
      2
      3 004744  062767  000001  000000G         ADD     #1,JSTATK       ;;COUNT
INCOMING CHARACTERS
      4 004752  005567  000002G                 ADC     JSTATK+2        ;; (DOUB
LE PRECISION)
      5
      6 004756                          GLOBAL  <JSTATK>
      7
      8                                 .ENDC   ;JSTATS
      9
     10 004756  132761  000041  000032          BITB    #TTPCOL!TTBIN,TTMODE(R1)
 ;;XON/XOFF PROTOCOL AND/OR BINARY?
     11 004764  001422                          BEQ     20$             ;;NEITHE
R
     12 004766  132761  000040  000032          BITB    #TTPCOL,TTMODE(R1) ;;CHE
CK INCOMING XON/XOFF PROTOCOL??
     13 004774  001402                          BEQ     10$             ;;NOPE,
SO DON'T
     14 004776                                  CALL    CKPCOL          ;;YEP, S
O GO CHECK ALREADY
        004776  004767  004244                   JSR    PC,CKPCOL
     15 005002  132761  000001  000032  10$:    BITB    #TTBIN,TTMODE(R1) ;;BINA
RY INPUT MODE?
     16 005010  001465                          BEQ     TTIN4X          ;;NO, JU
ST IGNORE THE CHARACTER
     17 005012  116103  000033                  MOVB    TTPDLM(R1),R3   ;;YES, G
ET TERMINAL'S PRIVATE DELIMITER
     18 005016  001545                          BEQ     TTINDL          ;;NONE,
SO STORE AND SET JOB STATUS
     19 005020  120203                          CMPB    R2,R3           ;;ONE, I
S THE CHARACTER THE DELIMITER??
     20 005022  001543                          BEQ     TTINDL          ;;STORE
AND SET JOB STATUS IF A MATCH
     21 005024                                  CALL    STOREX          ;;ELSE J
UST STORE THAT 8-BIT CHARACTER
        005024  004767  000572                   JSR    PC,STOREX
     22 005030  000455                          BR      TTIN4X          ;; AND E
XIT
     23
     24 005032  042702  177600          20$:    BIC     #^C<177>,R2     ;;JUNK E
XTRANEOUS BITS
     25 005036  001452                          BEQ     TTIN4X          ;; AND I
GNORE NULLS
     26
     27                                 .IF     NE      EKOCTL
     28
     29 005040  132761  000010  000032          BITB    #TTECTL,TTMODE(R1) ;;TER
MINAL OPEN FOR ECHO CONTROL ?
     30 005046  001414                          BEQ     ECHOIN          ;;NO, SO
 PROCESS NORMALLY
     31 005050  032761  004000  000034          BIT     #TTSYNC,TTCHAR(R1) ;;SCO
PE STALL'S ALLOWED
     32 005056  001402                          BEQ     30$             ;;NO, TR
EAT XON/XOFF NORMALLY
     33 005060                                  CALL    CKPCOL          ;;YES, G
O CHECK FOR XON/XOFF
        005060  004767  004162                   JSR    PC,CKPCOL
     34 005064  005761  000000G         30$:    TST     EKOCTW(R1)      ;;ANY FI
ELD ACTIVE ?
     35 005070  100403                          BMI     ECHOIN          ;;YES, S
O PROCESS NOW
     36 005072                                  CALL    STOREY          ;;NONE A
CTIVE, SO BUFFER IN 3RD CHAIN
        005072  004767  000502                   JSR    PC,STOREY
     37 005076  000432                          BR      TTIN4X          ;; AND W
ORK ON IT LATER
     38
     39 005100                          ECHOIN::                        ;;PROCES
S THE INPUT CHARACTER
     40
     41 005100                          GLOBAL  <EKOCTW>
     42
     43                                 .ENDC   ;EKOCTL
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 124
CHARACTER INPUT

      1                                 .ENABL  LSB
      2
      3 005100  032761  010000  000010          BIT     #RUBOUT,DDFLAG(R1) ;;IN
RUBOUT MODE ?
      4 005106  001405                          BEQ     10$             ;;WE WER
EN'T, SO DON'T BOTHER CHECKING
      5 005110  020227  000177                  CMP     R2,#177         ;;WE WER
E, SHOULD WE REMAIN
      6 005114  001402                          BEQ     10$             ;;THIS I
S ANOTHER RUBOUT, SO WE SHOULD
      7 005116                                  CALL    ENDRUB          ;;END RU
BOUT MODE
        005116  004767  002100                   JSR    PC,ENDRUB
      8 005122  032761  000010  000010  10$:    BIT     #TTDDT,DDFLAG(R1) ;;IS U
SER CURRENTLY IN DDT SUB-MODE?
      9 005130  001402                          BEQ     20$             ;;NOPE--
SCHEDULE ON BASIS OF DELIMITER
     10 005132                                  CALL    TTIJSB          ;;CLEAR
CLOCK AND MAKE USER RUNNABLE
        005132  004767  001300                   JSR    PC,TTIJSB
     11 005136  120261  000033          20$:    CMPB    R2,TTPDLM(R1)   ;;IS THI
S THE PRIVATE DELIMITER?
     12 005142  001473                          BEQ     TTINDL          ;;YES
     13 005144  012703  012572'                 MOV     #TTICHL,R3      ;;GET SP
ECIAL INPUT CHAR LIST
     14 005150  005700                          TST     R0              ;;IS THI
S KB0:?
     15 005152  001005                          BNE     30$             ;;NOT KB
0:, SO NO ODT ENTRY CHECK
     16 005154  020267  000000G                 CMP     R2,ENTODT       ;;KB0:,
IS IT CONTROL/P FOR ODT??
     17 005160  001002                          BNE     30$             ;;NOT TH
IS TIME
     18 005162  000003                          BPT                     ;;YEP, E
NTER ODT RIGHT NOW...
     19 005164  000556                  TTIN4X::BR      TTIN04          ;;BUT IG
NORE THAT CONTROL/P
     20
     21 005166  020223                  30$:    CMP     R2,(R3)+        ;;MATCH?
?
     22 005170  101376                          BHI     30$             ;;NOPE,
BUT KEEP CHECKING
     23 005172  103403                          BLO     TTINST          ;;NOPE,
AND DON'T CHECK ANYMORE
     24 005174                                  CALL    @TTIDSP-<TTICHL+2>(R3) ;
;YEP, SO CALL SPECIAL ROUTINE
        005174  004773  000046                   JSR    PC,@TTIDSP-<TTICHL+2>(R3
)
     25 005200  000550                          BR      TTIN04          ;;NORMAL
 THING TO DO NOW IS NOTHING...
     26
     27                                 .DSABL  LSB
     28
     29 005202                          GLOBAL  <ENTODT>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 125
CHARACTER INPUT

      1                                 .ENABL  LSB
      2
      3 005202  120227  000040          TTINST::CMPB    R2,#40          ;;IS THI
S A CONTROL CHARACTER (0-37)?
      4
      5                                 .IF     EQ      EKOCTL
      6                                         BLO     80$             ;;YES, J
UST STORE IF NO ECHO CONTROL
      7                                 .IFF
      8 005206  103535                          BLO     90$             ;;YES, D
O FURTHER CHECKING FOR ECHO CONTROL
      9                                 .ENDC   ;EKOCTL
     10
     11                                 ;+
     12                                 ; THE IMPLEMENTED ESCAPE SEQUENCE GRAMMA
R IS:
     13                                 ;
     14                                 ;       1) <ESC> <Y> <TRAILER #1> <TRAIL
ER #2>
     15                                 ;       2) <ESC> <O> <TRAILER #1>
     16                                 ;       3) <ESC> <?> <TRAILER #1>
     17                                 ;       4) <ESC> <P> <TRAILER #1>
     18                                 ;       5) <ESC> <[> N*<CODES 040 THROUG
H 077> <CODES 100 THROUGH 176>
     19                                 ;       6) <ESC> N*<CODES 040 THROUGH 05
7> <CODES 060 THROUGH 176>
     20                                 ;
     21                                 ; THE TRAILER'D ESCAPE SEQUENCES ARE TAB
LE DRIVEN FROM "ESCLST".
     22                                 ;-
     23
     24 005210  105761  000031                  TSTB    TTESCC(R1)      ;;IS ESC
 SEQ COMING IN?
     25 005214  001454                          BEQ     60$             ;;NOPE
     26 005216                                  CALL    STOREX          ;;YES, S
O STORE THE INCOMING CHARACTER
        005216  004767  000400                   JSR    PC,STOREX
     27 005222  105361  000031                  DECB    TTESCC(R1)      ;;WHERE
ARE WE IN ESC SEQ PROCESSING?
     28 005226  001437                          BEQ     40$             ;;ALL DO
NE, SO FINISH UP
     29 005230  003134                          BGT     TTIN04          ;;PROCES
SING TRAILER(S), CONTINUE
     30 005232  102022                          BVC     20$             ;;PROCES
SING MIDDLE, CHECK MIDDLE
     31 005234  106361  000031                  ASLB    TTESCC(R1)      ;;FIRST
TIME, SET TO 376 (200-1=>177; *2=>376)
     32 005240  120227  000133                  CMPB    R2,#'[          ;;IS IT
"CSI" (<ESC><[>)?
     33 005244  001526                          BEQ     TTIN04          ;;YES, L
EAVE AS 376
     34 005246  105261  000031                  INCB    TTESCC(R1)      ;;NO, SE
T TO 377
     35 005252  120227  000060                  CMPB    R2,#'0          ;;AN INT
ERMEDIATE CHARACTER (040 TO 057)?
     36 005256  103521                          BLO     TTIN04          ;;YES, L
EAVE AS 377
     37 005260  012703  013014'                 MOV     #ESCLST,R3      ;;NO, A
FINAL, GET LIST FOR TRAILER(S)
     38 005264  112361  000031          10$:    MOVB    (R3)+,TTESCC(R1) ;;SET T
HE TRAILER COUNT
     39 005270  001416                          BEQ     40$             ;;END OF
 LIST, CALL IT QUITS
     40 005272  120223                          CMPB    R2,(R3)+        ;;ELSE C
HECK FOR A MATCH
     41 005274  001373                          BNE     10$             ;;NOT A
MATCH, CONTINUE CHECKING
     42 005276  000511                          BR      TTIN04          ;;A MATC
H, EXIT WITH TRAILER COUNT SET
     43
     44 005300  012703  000100          20$:    MOV     #'@,R3          ;;GUESS
AT "CSI" (>=100 ARE FINALS)
     45 005304  106261  000031                  ASRB    TTESCC(R1)      ;;"CSI"
(376-1=375) OR OTHER (377-1=376)?
     46 005310  103402                          BCS     30$             ;;IT IS
"CSI" (375 BECOMES 376 W/ C=1)
     47 005312  012703  000060                  MOV     #'0,R3          ;;IT IS
OTHER (376 BECOMES 377 W/ C=0)
     48 005316  120203                  30$:    CMPB    R2,R3           ;;IS IT
THE FINAL CHARACTER?
     49 005320  103500                          BLO     TTIN04          ;;NO, CO
NTINUE
     50 005322  105061  000031                  CLRB    TTESCC(R1)      ;;YES, C
LEAR THE ESC SEQ COUNTER
     51 005326  012702  000233          40$:    MOV     #233,R2         ;;SET TO
 STORE <233>
     52 005332                          TTINDL::CALL    TTISJS          ;;STORE,
 COUNT, ETC.
        005332  004767  000570                   JSR    PC,TTISJS
     53 005336  000471                          BR      TTIN04          ;; AND F
INALLY OUT
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 126
CHARACTER INPUT

      1                                 .IF     NE      EKOCTL
      2
      3 005340  012702  000014          50$:    MOV     #014,R2         ;;FORCE
A FORM FEED DELIMITER
      4 005344  000772                          BR      TTINDL          ;;DEACTI
VATE FIELD, STORE, COUNT, ETC.
      5
      6 005346  132761  000010  000032  60$:    BITB    #TTECTL,TTMODE(R1) ;;TER
MINAL OPEN FOR ECHO CONTROL ?
      7 005354  001411                          BEQ     70$             ;;NOPE,
NORMAL CHARACTER
      8 005356  032761  000177  000000G         BIT     #177,EKOCTW(R1) ;;HAS TH
IS FIELD EXPIRED ?
      9 005364  001452                          BEQ     100$            ;;YES, E
CHO BELL AND TOSS CHARACTER
     10 005366  105361  000000G                 DECB    EKOCTW(R1)      ;;COUNT
THIS CHARACTER AGAINST HIS FIELD
     11 005372  001002                          BNE     70$             ;;CONTIN
UE IF FIELD DID NOT EXPIRE
     12 005374  012746  005340'                 MOV     #50$,-(SP)      ;;FORCE
A FORM FEED DELIMETER AFTER
     13 005400                          70$:                            ;; PROCE
SSING THIS CHARACTER
     14
     15 005400                          GLOBAL  <EKOCTW>
     16
     17                                 .IFF
     18
     19                                 60$:
     20
     21                                 .ENDC   ;EKOCTL
     22
     23 005400  120227  000140                  CMPB    R2,#140         ;;POSSIB
LE LOWER CASE?
     24 005404  103410                          BLO     80$             ;;NOPE
     25 005406  120227  000176                  CMPB    R2,#176         ;;YEP, B
UT IS IT REAL LOWER CASE?
     26 005412  101005                          BHI     80$             ;;NO
     27 005414  005761  000034                  TST     TTCHAR(R1)      ;;SHOULD
 WE CONVERT LC INTO UC?
     28 005420  100402                          BMI     80$             ;;NO, NO
 CONVERSION DESIRED
     29 005422                          .ASSUME TTLCIN  EQ      100000
     30 005422  042702  000040                  BIC     #40,R2          ;;YES, S
O CONVERT IT ALREADY
     31 005426                          80$:    CALL    STOREX          ;;STORE
IN INPUT BUFFER
        005426  004767  000170                   JSR    PC,STOREX
     32 005432  020227  000177          TTINER::CMP     R2,#177         ;;RUBOUT
?
     33 005436  001431                          BEQ     TTIN04          ;;YES, N
EVER ECHO IT
     34 005440  032761  000360  000010          BIT     #LCLCPY!NOECHO!TAPE!TT27
41,DDFLAG(R1) ;;SHOULD WE ECHO THIS
     35 005446  001423                          BEQ     110$            ;;YES
     36 005450  032761  000300  000010          BIT     #LCLCPY!TT2741,DDFLAG(R1
) ;;NO, DID IT POSSIBLY ECHO ITSELF?
     37 005456  001421                          BEQ     TTIN04          ;;NO WAY
 IT COULD HAVE ECHOED
     38 005460  030227  000140                  BIT     R2,#140         ;;PRINTA
BLE CHARACTER?
     39 005464  001416                          BEQ     TTIN04          ;;NO, SO
 NO POSITION CORRECTION
     40 005466  105361  000020                  DECB    DDHORZ(R1)      ;;YES, S
O CORRECT POSITION
     41 005472  001013                          BNE     TTIN04          ;;POSITI
ON STILL O.K.
     42 005474  105261  000020                  INCB    DDHORZ(R1)      ;;KEEP P
OSITION AT LEAST REASONABLE...
     43 005500  000410                          BR      TTIN04          ;;THEN C
ONTINUE
     44
     45                                 .IF     NE      EKOCTL
     46
     47 005502  132761  000010  000032  90$:    BITB    #TTECTL,TTMODE(R1) ;;IN
ECHO CONTROL MODE?
     48 005510  001746                          BEQ     80$             ;;NO, GO
 STORE THE CHARACTER
     49 005512  012702  000007          100$:   MOV     #007,R2         ;;ECHO B
ELL IF CHARACTER TOSSED
     50
     51                                 .ENDC   ;EKOCTL
     52
     53 005516                          110$:   CALL    CHOUTE          ;;CHECK
AND ECHO THE CHARACTER
        005516  004767  001742                   JSR    PC,CHOUTE
     54
     55                                 .DSABL  LSB
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 127
CHARACTER INPUT

      1                                 .ENABL  LSB
      2
      3 005522  026727  000002G 000024  TTIN04::CMP     FREES+2,#20.    ;;IS BUF
FER POOL REALLY LOW?
      4 005530  103451                          BLO     30$             ;;YES, D
ON'T TURN ON READER EVER
      5
      6                                 .IF     NE      EKOCTL
      7
      8 005532  005761  000004G                 TST     TTINEC+BC(R1)   ;;3RD BU
FFER CHAIN QUOTA USED UP?
      9 005536  002446                          BLT     30$             ;;YES, T
RY TO STOP FURTHER INPUT
     10
     11 005540                          GLOBAL  <TTINEC>
     12
     13                                 .ENDC   ;EKOCTL
     14
     15 005540  005761  000026                  TST     TTINPT+BC(R1)   ;;IS THE
 INPUT QUOTA USED UP?
     16 005544  002443                          BLT     30$             ;;USED U
P AND OVER, STOP USER
     17 005546  001456                          BEQ     40$             ;;ONLY U
SED UP, SET JS.KB
     18 005550  032761  010000  000036  RDRRUN::BIT     #TTRDRN,TTINTF(R1) ;;SET
 READER RUN FOR THIS TERMINAL?
     19 005556  001407                          BEQ     10$             ;;NO
     20 005560  016003  000000G                 MOV     CSR.KB(R0),R3   ;;GET IN
PUT CSR ADDRESS
     21 005564  032713  004000                  BIT     #4000,(R3)      ;;ANOTHE
R CHARACTER COMING IN ALREADY?
     22 005570  001002                          BNE     10$             ;;YES, S
O DON'T KILL IT
     23 005572  052713  000001                  BIS     #1,(R3)         ;;NO,SO
TURN READER ON (NOP ON DL11B,D)
     24 005576                          10$:    RETURN                  ;;RETURN
        005576  000207                           RTS    PC
     25
     26                                 .IF     NE      EKOCTL
     27
     28                                 ;+
     29                                 ; STOREY - STORE A CHARACTER IN THE ECHO
 CONTROL BUFFER.
     30                                 ;
     31                                 ;       R0 =  KEYBOARD NUMBER TIMES 2
     32                                 ;       R1 -> DDB
     33                                 ;       R2 =  CHARACTER
     34                                 ;
     35                                 ;       ...
     36                                 ;
     37                                 ;       RETURN TO CALLER IF SUCCESSFUL
     38                                 ;       RETURN TO CALLER'S CALLER IF UNS
UCCESSFUL
     39                                 ;-
     40
     41 005600  026127  000004G 177776  STOREY::CMP     TTINEC+BC(R1),#-2. ;;LOT
S OF BUFFERS IN USE ?
     42 005606  003415                          BLE     20$             ;;YES, S
O DON'T LET STORE PASS
     43 005610                                  CALLX   STORE,R5,TTINEC+FP ;;STO
RE CHARACTER IN ECHO CHAIN
        005610  004537  000000G                  JSR    R5,@#STORE
        005614  000002G                           .WORD TTINEC+FP
     44 005616  103411                          BCS     20$             ;;IF FAI
LED EXIT RINGING BELL
     45 005620                                  RETURN                  ;; AND R
ETURN SMILING
        005620  000207                           RTS    PC
     46
     47 005622                          GLOBAL  <TTINEC>
     48
     49                                 .ENDC   ;EKOCTL
     50
     51 005622                          GLOBAL  <FREES,CSR.KB>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 128
CHARACTER INPUT

      1                                 ;+
      2                                 ; STOREX - STORE INCOMING CHARACTER.
      3                                 ;
      4                                 ;       R0 =  KEYBOARD NUMBER TIMES 2
      5                                 ;       R1 -> DDB
      6                                 ;       R2 =  CHARACTER
      7                                 ;
      8                                 ;       ...
      9                                 ;
     10                                 ;       RETURN TO CALLER IF SUCCESSFUL
     11                                 ;       RETURN TO CALLER'S CALLER IF UNS
UCCESSFUL
     12                                 ;-
     13
     14 005622  026127  000026  177776  STOREX::CMP     TTINPT+BC(R1),#-2. ;;ARE
 THERE A LOT OF BUFFERS IN USE?
     15 005630  003404                          BLE     20$             ;;YES, S
O DON'T LET THIS "STORE" PASS
     16 005632                                  CALLX   STORE,R5,TTINPT+FP ;;NOP
E, SO "STORE" MAKES IT
        005632  004537  000000G                  JSR    R5,@#STORE
        005636  000024                            .WORD TTINPT+FP
     17 005640  103356                          BCC     10$             ;;ALL O.
K.
     18 005642  005726                  20$:    TST     (SP)+           ;;DUMP T
HE CALLING RETURN ADDRESS
     19 005644  012702  000007                  MOV     #007,R2         ;; AND S
ETUP TO RING THE BELL (FAILURE)
     20 005650                                  CALL    CHOUTE          ;;  THEN
 SEND IT
        005650  004767  001610                   JSR    PC,CHOUTE
     21 005654  032761  010000  000034  30$:    BIT     #TTXON,TTCHAR(R1) ;;DOES
 THIS TERMINAL HAVE XOFF?
     22 005662  001410                          BEQ     40$             ;;NO
     23 005664  105761  000002                  TSTB    DDJBNO(R1)      ;;YES, B
UT IS THERE A JOB THERE?
     24 005670  001405                          BEQ     40$             ;;NO JOB
, SO DON'T TURN OFF THAT TERMINAL
     25 005672  052761  020000  000010          BIS     #TTSXOF,DDFLAG(R1) ;;ELS
E SET UP TO SEND XOFF
     26 005700                                  CALL    SRTLIN          ;;STARTU
P THIS LINE RIGHT NOW PLEASE
        005700  004767  003416                   JSR    PC,SRTLIN
     27 005704                          40$:    CALLR   TTIJSB          ;;EXIT A
WAKENING THE JOB
        005704  000167  000526                   JMP    TTIJSB
     28
     29                                 .DSABL  LSB
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 129
HANDLE SPECIAL INPUT CHARACTERS

      1                                 .SBTTL  HANDLE SPECIAL INPUT CHARACTERS
      2
      3                                 .SBTTL  TAB ON INPUT
      4
      5                                 ;+
      6                                 ; TI$TAB - TAB ON INPUT.
      7                                 ;-
      8
      9 005710  032761  000300  000010  TI$TAB::BIT     #TT2741!LCLCPY,DDFLAG(R1
) ;;SPECIAL TERMINAL?
     10 005716  001404                          BEQ     TTSAVE          ;;NO, SO
 NORMAL
     11 005720                                  CALLX   TABSET,R5,CORPOS ;;GOTO
NEXT TAB STOP
        005720  004537  000000G                  JSR    R5,@#TABSET
        005724  012172'                           .WORD CORPOS
     12 005726  000240                            NOP                   ;;SAVE <
TAB> ON COMPLETION
     13 005730  005726                  TTSAVE::TST     (SP)+           ;;DUMP T
HE "TTIN04" RETURN ADDRESS
     14 005732  000167  177244                  JMP     TTINST          ;; AND T
AKE THE NORMAL ROUTE
     15
     16                                 .SBTTL  ^O ROUTINE
     17
     18                                 ;+
     19                                 ; TI$CO - HANDLE ^O TYPED BY USER.
     20                                 ;-
     21
     22 005736                          TI$CO::
     23
     24                                 .IF     NE      EKOCTL
     25
     26 005736  132761  000010  000032          BITB    #TTECTL,TTMODE(R1) ;;TER
MINAL OPEN FOR ECHO CONTROL ?
     27 005744  001371                          BNE     TTSAVE          ;;YES, N
ORMAL CHARACTER
     28
     29                                 .ENDC   ;EKOCTL
     30
     31 005746  062711  100000                  ADD     #DDSTAT,(R1)    ;;TOGGLE
 THE ^O SWITCH
     32 005752  100002                          BPL     10$             ;;USER J
UST REENABLED OUTPUT
     33 005754                                  CALL    TTWIPE          ;;USER J
UST DISABLED OUTPUT
        005754  004767  176634                   JSR    PC,TTWIPE
     34 005760                          10$:    CALL    ASCOUE,R5,TTICOC ;;NOW E
CHO
        005760  004567  003414                   JSR    R5,ASCOUE
        005764  013045'                           .WORD TTICOC
     35 005766                                  RETURN                  ;; AND E
XIT
        005766  000207                           RTS    PC
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 130
^Z

      1                                 .SBTTL  ^Z
      2
      3                                 ;+
      4                                 ; TI$CZ - HANDLE ^Z ON INPUT.
      5                                 ;-
      6
      7 005770                          TI$CZ::
      8
      9                                 .IF     NE      EKOCTL
     10
     11 005770  132761  000010  000032          BITB    #TTECTL,TTMODE(R1) ;;TER
MINAL OPEN FOR ECHO CONTROL ?
     12 005776  001053                          BNE     TTISJS          ;;YES, T
REAT CTRL/Z AS DELIMITER
     13
     14                                 .ENDC   ;EKOCTL
     15
     16 006000                                  CALL    TECOCK          ;;CHECK
FOR SPECIAL MODE(S)
        006000  004767  003206                   JSR    PC,TECOCK
     17 006004                                  CALL    ASCOUE,R5,TTICZC ;;ECHO
<^><Z><CR><LF>
        006004  004567  003370                   JSR    R5,ASCOUE
        006010  013033'                           .WORD TTICZC
     18 006012  000445                          BR      TTISJS          ;;NOW SE
T KYBD FLAG
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 131
CARRIAGE RETURN ON INPUT

      1                                 .SBTTL  CARRIAGE RETURN ON INPUT
      2
      3                                 ;+
      4                                 ; TI$CR - HANDLE CR ON INPUT.
      5                                 ;-
      6
      7                                 .ENABL  LSB
      8
      9 006014                          TI$CR:: CALL    STOREX          ;;STORE
<CR><LF> DUE TO POPULAR REQUEST
        006014  004767  177602                   JSR    PC,STOREX
     10 006020  032761  000300  000010          BIT     #TT2741!LCLCPY,DDFLAG(R1
) ;;DID THE TERMINAL ECHO IT ITSELF?
     11 006026  001403                          BEQ     10$             ;;NO
     12 006030  116161  000021  000020          MOVB    DDHORC(R1),DDHORZ(R1) ;;
YES, SO CORRECT THE POSITION
     13 006036  032761  000020  000010  10$:    BIT     #TAPE,DDFLAG(R1) ;;TAPE
MODE?
     14 006044  001053                          BNE     40$             ;;YES, D
ON'T APPEND THE <LF> IF SO
     15
     16                                 ;+
     17                                 ; TTILFS - STORE LF AND ECHO CR LF.
     18                                 ;-
     19
     20 006046                          TTILFS::CALL    ASCOUF,R5,CR    ;;ECHO T
HE <CR>
        006046  004567  003316                   JSR    R5,ASCOUF
        006052  013064'                           .WORD CR
     21
     22                                 .IF     NE      EKOCTL
     23
     24 006054  132761  000010  000032          BITB    #TTECTL,TTMODE(R1) ;;TER
MINAL OPEN FOR ECHO CONTROL?
     25 006062  001017                          BNE     30$             ;;YES, S
O DON'T ECHO THE <LF>
     26
     27                                 .ENDC   ;NE EKOCTL
     28
     29 006064  032761  000260  000010          BIT     #TT2741!TAPE!NOECHO,DDFL
AG(R1) ;;SHOULD WE ECHO A <LF>?
     30 006072  001013                          BNE     30$             ;;NO, JU
ST STORE IT
     31 006074  032761  000404  000010          BIT     #TTRSX2!TTRSX1,DDFLAG(R1
) ;;IN ANY RSX MODE?
     32 006102  001004                          BNE     20$             ;;YEP, S
O DON'T ECHO A <LF>
     33
     34                                 ;+
     35                                 ; TTILF0 - STORE AND ECHO LF.
     36                                 ;-
     37
     38 006104                          TTILF0::CALL    ASCOUF,R5,LF    ;;ECHO T
HE <LF>
        006104  004567  003260                   JSR    R5,ASCOUF
        006110  013062'                           .WORD LF
     39 006112  000403                          BR      30$             ;; THEN
GO STORE A <LF>
     40
     41 006114  052761  000404  000010  20$:    BIS     #TTRSX2!TTRSX1,DDFLAG(R1
) ;;SET RSX MODE OF NEEDING <LF>
     42 006122  012702  000012          30$:    MOV     #012,R2         ;;NOW TH
E <LF>
     43 006126                                  .BR     TTISJS          ;;GO STO
RE, ETC.
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 132
CARRIAGE RETURN ON INPUT

      1                                 ;+
      2                                 ; TTISJS - STORE CHARACTER AND SET JOB S
TATUS (DELIMITER).
      3                                 ;-
      4
      5 006126                          TTISJS::CALL    STOREX          ;;STORE
IN THE INPUT BUFFER
        006126  004767  177470                   JSR    PC,STOREX
      6 006132  105261  000030                  INCB    TTDLMC(R1)      ;;COUNT
ALL THROUGH HERE AS DELIMITERS
      7
      8                                 .IF     NE      EKOCTL
      9
     10 006136  012761  020000  000000G         MOV     #40*400,EKOCTW(R1) ;;DEA
CTIVATE ANY ECHO CONTROL FIELD
     11
     12 006144                          GLOBAL  <EKOCTW>
     13
     14                                 .ENDC   ;EKOCTL
     15
     16 006144  116103  000002                  MOVB    DDJBNO(R1),R3   ;;GET JO
B #
     17 006150  001132                          BNE     TTIJSB          ;;IF JOB
 ISN'T DEFINED, DEFINE IT!
     18
     19                                 ;+
     20                                 ; NEWJOB - CREATE A JOB.
     21                                 ;
     22                                 ;       R0 =  KEYBOARD NUMBER TIMES 2
(OR 100001)
     23                                 ;       R1 -> DDB
(OR "KBDDDB")
     24                                 ;
     25                                 ;       CALL    NEWJOB
     26                                 ;
     27                                 ;       R3 =  NEW JOB NUMBER TIMES 2
     28                                 ;       R4 =  UNDEFINED
     29                                 ;
     30                                 ;       NORMAL RETURN IF A NEW JOB WAS C
REATED
     31                                 ;       CO-ROUTINE RETURN IF NO NEW JOB
CAN BE CREATED NOW
     32                                 ;-
     33
     34 006152                          NEWJOB::CALL    JOBCHK          ;;GO FIN
D A FREE JOB SLOT
        006152  004767  004022                   JSR    PC,JOBCHK
     35 006156  103425                          BCS     TTIJOB          ;;ALL O.
K., SETUP THE JOB
     36 006160                          TTIBAD::CALL    @(SP)+          ;;CALL T
HE ECHO PROCESSOR
        006160  004736                           JSR    PC,@(SP)+
     37 006162                                  CALL    CLRTIN          ;;CLEAR
INPUT/MODE(S)
        006162  004767  003310                   JSR    PC,CLRTIN
     38 006166                                  CALL    ASCOUT,R5,EXCDED ;;NO--T
ELL HIM TOUGH LUCK, BABY
        006166  004567  003216                   JSR    R5,ASCOUT
        006172  013072'                           .WORD EXCDED
     39 006174                          40$:    RETURN                  ;;RETURN
        006174  000207                           RTS    PC
     40
     41                                 .DSABL  LSB
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 133
LINE FEED ON INPUT

      1                                 .SBTTL  LINE FEED ON INPUT
      2
      3                                 ;+
      4                                 ; TI$LF - LINE FEED ON INPUT.
      5                                 ;-
      6
      7 006176                          TI$LF::
      8
      9                                 .IF     NE      KB2741
     10
     11                                         TSTB    DDFLAG(R1)      ;;2741 T
YPE?
     12                                         BPL     10$             ;;NO
     13                                 .ASSUME TT2741  EQ      200
     14                                         MOVB    DDHORC(R1),DDHORZ(R1) ;;
YES, CARRIAGE WAS RESTORED
     15                                 10$:
     16
     17                                 .ENDC   ;KB2741
     18
     19 006176  132761  000002  000032          BITB    #TTTECO,TTMODE(R1) ;;TEC
O MODE?
     20 006204  001720                          BEQ     TTILFS          ;;NO, ST
ORE <LF> AND ECHO <CR><LF>
     21 006206  000736                          BR      TTILF0          ;;YES, S
TORE <LF>, BUT ECHO <LF> ONLY
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 134
JOB SETUP

      1                                 .SBTTL  JOB SETUP
      2
      3                                 .ENABL LSB
      4
      5                                 ; JOB SETUP FAILED. RELEASE SMALL BUFFER
S OBTAINED SO FAR
      6
      7 006210  012604                  10$:    MOV     (SP)+,R4        ;;GET BU
FFER POINTER BACK HERE
      8 006212                                  BUFFER  RETSML          ;; AND R
ETURN THE OBTAINED BUFFER
        006212  000004  000040                   .WORD  IOT,RETSML
      9 006216  005202                          INC     R2              ;;COUNT
AS 1 MORE RETURNED
     10 006220  020227  000004          20$:    CMP     R2,#4           ;;ARE AL
L BUFFERS RETURNED?
     11 006224  001371                          BNE     10$             ;;NO, RE
TURN ANOTHER BUFFER
     12 006226  012602                          MOV     (SP)+,R2        ;;YES, R
ESTORE R2
     13 006230  000753                          BR      TTIBAD          ;; AND S
AY "NO LOGINS"
     14
     15                                 ;+
     16                                 ; TTIJOB - SET UP A JOB.
     17                                 ;
     18                                 ;       R0 =  KEYBOARD NUMBER TIMES 2
(OR 100001)
     19                                 ;       R1 -> DDB
(OR "KBDDDB")
     20                                 ;       R3 =  FREE ENTRY IN "JOBTBL" +2
     21                                 ;
     22                                 ;       JMP     TTIJOB
     23                                 ;
     24                                 ;       R3 =  NEW JOB NUMBER TIMES 2
     25                                 ;       R4 =  UNDEFINED
     26                                 ;
     27                                 ;       SIMPLE "RETURN" IF A JOB WAS CRE
ATED
     28                                 ;       JUMP BACK TO "TTIBAD" IF JOB SET
 UP FAILURE
     29                                 ;-
     30
     31 006232  010246                  TTIJOB::MOV     R2,-(SP)        ;;SAVE R
2
     32 006234  012702  000004                  MOV     #4,R2           ;;WE NEE
D 4 BUFFERS
     33 006240                          30$:    BUFFER  GETSML,,40.     ;;GET A
BUFFER LEAVING 40. IN THE POOL
        006240  000004  024360                   .WORD  IOT,GETSML-$$$$$$+<40.+0
&177*400>
     34 006244  102765                          BVS     20$             ;;SKIP I
F WE FAILED
     35 006246  010446                          MOV     R4,-(SP)        ;;SAVE T
HE POINTER
     36 006250  077205                          SOB     R2,30$          ;;LOOP T
ILL ALL DONE
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 135
JOB SETUP

      1 006252  012643                          MOV     (SP)+,-(R3)     ;;HAVE 4
 BLOCKS--LINK TO JOBTBL
      2 006254  012614                          MOV     (SP)+,(R4)      ;; AND L
INK I/O BLOCK TO DATA BLOCK
      3 006256  010134                          MOV     R1,@(R4)+       ;;LINK T
ERMINAL DDB TO IO BLOCK
      4 006260  012724  110003                  MOV     #JFSPCL!JFNOPR!JFIOKY!JF
POST,(R4)+ ;;SET 1ST TIME, NOT LOG, UPDATE KEY, POST
      5 006264  012724                          MOV     (PC)+,(R4)+     ;;SET:
      6 006266     000     014                   .BYTE  0,UUOFQ         ;; NO ER
ROR AND POST AS "UUOFQ"
      7 006270  012624                          MOV     (SP)+,(R4)+     ;;LINK T
O WORK BLOCK
      8 006272  012624                          MOV     (SP)+,(R4)+     ;;LINK T
O JODATABLK 2
      9 006274  010346                          MOV     R3,-(SP)        ;;SAVE J
OBTBL POINTER
     10 006276  005204                          INC     R4              ;;POINT
TO MINIMUM SIZE BYTE
     11 006300  016703  000000G                 MOV     RTSLST,R3       ;; AND G
ET DEFAULT RTS
     12 006304  116324  000035                  MOVB    R.MSIZ(R3),(R4)+ ;;SET M
INIMUM SIZE IN K INITIALLY
     13 006310  010314                          MOV     R3,(R4)         ;; AND S
ET RTS POINTER
     14 006312  005263  000032                  INC     R.CNT(R3)       ;;1 MORE
 USER FOR THE RTS
     15 006316  016403  177774                  MOV     JDJDB2-JDRTS(R4),R3 ;;GE
T POINTER TO JDBDB2
     16 006322  011463  000020                  MOV     (R4),J2DRTS(R3) ;;SET DE
FAULT RTS TO SYS DEFAULT
     17 006326  116764  000000G 000022          MOVB    SWPMAX,JDSIZM-JDRTS(R4)
;;SET NO LIMIT ON MEMORY SIZE FIRST
     18 006334  112764  000006  000021          MOVB    #6,JDBRST-JDRTS(R4) ;;SE
T STANDARD RUN BURST
     19 006342  112764  000002  000013          MOVB    #OUT,M.CTRL+JDMCTL-JDRTS
(R4) ;;SET NON RESIDENT
     20 006350  012603                          MOV     (SP)+,R3        ;;RESTOR
E JOB INDEX
     21 006352  162703  000000G                 SUB     #JOBTBL,R3      ;; AND M
AKE IT JOB TIMES TWO
     22 006356  012763  000002  000000G         MOV     #JS.KB,JBWAIT(R3) ;;SET
WAIT TO KEYBOARD INPUT WAIT
     23 006364  012763  000002  000000G         MOV     #JS.KB,JBSTAT(R3) ;; BUT
 SAY THE WAIT IS SATISFIED
     24 006372  105267  000000G                 INCB    JOBCNT          ;;ONE MO
RE JOB...
     25 006376  012602                          MOV     (SP)+,R2        ;;RESTOR
E R2
     26 006400  020027  100001                  CMP     R0,#100001      ;;IS THI
S THE SPECIAL CASE??
     27 006404  001421                          BEQ     40$             ;;YES, J
UST EXIT (NO REAL KB DDB...)
     28 006406  110361  000002                  MOVB    R3,DDJBNO(R1)   ;;NOW ST
ORE JOB NUMBER IN TERMINAL DDB
     29 006412  016761  001002  000004          MOV     TIME,DDTIME(R1) ;;SET TI
ME ASSIGNED
     30 006420  012761  020001  000006          MOV     #DDCONS+1,DDCNT(R1) ;;MA
KE TERMINAL CONSOLE+INIT
     31 006426  005061  000032                  CLR     TTMODE(R1)      ;;NO SPE
CIAL MODE OR DELIMITER
     32
     33                                 .IF     NE      PK11
     34
     35 006432                                  CALL    SETPKW          ;;TELL C
ONTROLLING JOB ABOUT THE NEW JOB
        006432  004767  174566                   JSR    PC,SETPKW
     36
     37                                 .ENDC   ;PK11
     38
     39                                 ;+
     40                                 ; TTIJSB - CLEAR THE TIME CLOCK AND MAKE
 THE USER RUNNABLE.
     41                                 ;-
     42
     43 006436                          TTIJSB::CALLX   IOFINI,R5,JS.KB ;;WAKE U
P THIS GUY
        006436  004537  000000G                  JSR    R5,@#IOFINI
        006442  000002                            .WORD JS.KB
     44 006444  005060  000000G         TTICC2::CLR     TIM.KB(R0)      ;;CLEAR
CLOCK SINCE DELIMITER FOUND
     45 006450                          40$:    RETURN                  ;;RETURN
        006450  000207                           RTS    PC
     46
     47                                 .DSABL  LSB
     48
     49 006452                          GLOBAL  <RTSLST,SWPMAX,JOBTBL,JBWAIT,JBS
TAT,JOBCNT,TIM.KB>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 136
^C HANDLER

      1                                 .SBTTL  ^C HANDLER
      2
      3                                 ;+
      4                                 ; TI$CC - HANDLE ^C TYPED BY USER.
      5                                 ;-
      6
      7 006452                          TI$CC::
      8
      9                                 .IF     NE      EKOCTL
     10
     11 006452  132761  000010  000032          BITB    #TTECTL,TTMODE(R1) ;;TER
MINAL OPEN FOR ECHO CONTROL ?
     12 006460  001064                          BNE     80$             ;;YES, T
REAT CTRL/C AS DELIMETER
     13
     14                                 .ENDC   ;EKOCTL
     15
     16                                 .IF     GT      KBCORR+KBEBCD+KBBCD+KBC3
60-1. ;IF MORE THAN ONE CODE
     17
     18                                 .SBTTL  2741 CODE SHIFTER
     19
     20                                         CLR     -(SP)           ;;FLAG I
F CODES ARE CHANGED
     21                                         TSTB    DDFLAG(R1)      ;;2741 L
INE ?
     22                                         BPL     20$             ;;NO, NO
 NEVER A CODE SHIFT
     23                                 .ASSUME TT2741  EQ      200
     24                                         BIC     #TTOCVL,ST2741(R1) ;;OUT
PUT CASE INVALID
     25                                         CALL    TTGET           ;;GET LA
ST CHARACTER TYPED
     26                                         BCS     20$             ;;NONE T
O BE HAD, FORGET CODE CHANGE
     27                                         CMP     R2,#'1          ;;IS IT
A ONE ?
     28                                         BNE     20$             ;;NOPE,
HANG IT UP
     29                                         CALL    TTGET           ;;GET AN
OTHER TO BE SURE
     30                                         BCC     20$             ;;IF MOR
E THAN ONE THERE, NO CHANGE
     31                                         MOV     ST2741(R1),R2   ;;GET 27
41 STATUS
     32                                         BIC     #^C<TTCODE>,R2  ;;ONLY C
ODE INDEX BITS
     33                                         BIC     R2,ST2741(R1)   ;;RESET
TO DEFAULT CODE
     34                                 10$:    TST     (R2)+           ;;BUMP T
O NEXT CODE
     35                                         BIC     #^C<TTCODE>,R2  ;;MOD 8
     36                                         TST     XL2741(R2)      ;;IF THA
T CODE EXISTS,
     37                                         BEQ     10$             ;; CONTI
NUE ELSE LOOP FOR NEXT CODE
     38                                         BIS     R2,ST2741(R1)   ;;SET NE
W CODE OR RETAIN DEFAULT
     39                                         MOV     CD2741(R2),(SP) ;;GET PT
R TO IDENT TEXT STRING
     40                                 20$:
     41
     42                                 GLOBAL  <ST2741>
     43
     44                                 .ENDC   ;KBCORR+KBEBCD+KBBCD+KBC360-1.
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 137
^C HANDLER

      1 006462                                  CALL    CLRTTI          ;;CLEAR
INPUT BUFFER
        006462  004767  003040                   JSR    PC,CLRTTI
      2 006466  042761  016073  000010          BIC     #RUBOUT!TTMSG!TTDFIL!NOE
CHO!TAPE!TTDDT!TTNBIN!TTLFRC,DDFLAG(R1)
      3 006474  052711  100000                  BIS     #DDSTAT,(R1)    ;;NO MOD
ES AND PUT INTO NO OUTPUT MODE
      4 006500                                  CALL    TTWIPE          ;; WIPIN
G THE OUTPUT BUFFER(S)
        006500  004767  176110                   JSR    PC,TTWIPE
      5 006504                                  CALL    DOXON           ;;ALWAYS
 DO AN "XON" ON CONTROL/C'S
        006504  004767  002576                   JSR    PC,DOXON
      6 006510                                  CALL    XONINP          ;; AND A
LWAYS ASK FOR MORE INPUT
        006510  004767  003562                   JSR    PC,XONINP
      7 006514                                  CALLX   IOFINI,R5,JSALL ;;TRY VE
RY HARD TO START JOB
        006514  004537  000000G                  JSR    R5,@#IOFINI
        006520  000000G                           .WORD JSALL
      8 006522  016403  000000G                 MOV     JOBTBL(R4),R3   ;;GET JO
B DATA ADDRESS
      9 006526  001422                          BEQ     50$             ;;IF NOT
 A JOB, FORGET ^C
     10 006530  105761  000006                  TSTB    DDCNT(R1)       ;;JUST A
SSIGNED?
     11 006534  001417                          BEQ     50$             ;;YES, D
ON'T ABORT JOB THEN
     12 006536  132761  000020  000032          BITB    #TTGARD,TTMODE(R1) ;;GUA
RDED TERMINAL MODE?
     13 006544  001013                          BNE     50$             ;;YES, C
ONTROL/C DOESN'T ABORT JOB
     14 006546  005723                          TST     (R3)+           ;;POINT
TO JDFLG IN JOB DATA
     15
     16                                 .IF     NE      KB2741
     17                                         TSTB    DDFLAG(R1)      ;;2741 ?
     18                                         BMI     30$             ;;YEP, S
O CTRL/C IS 2 CTRL/C'S
     19                                 .ASSUME TT2741  EQ      200
     20                                 .ENDC   ;KB2741
     21
     22 006550  032713  000010                  BIT     #JFCC,(R3)      ;;ALREAD
Y PENDING ON CONTROL/C?
     23 006554  001402                          BEQ     40$             ;;NOPE
     24 006556  052713  000020          30$:    BIS     #JF2CC,(R3)     ;;IF SO,
 THEN NOTE WE HAVE 2 ^C 'S
     25 006562  052713  000110          40$:    BIS     #JFCC!JFGO,(R3) ;;SET CO
NTROL/C AND FORCED GO
     26 006566  152763  000003  000032          BISB    #3,JDPRI-JDFLG(R3) ;;RAI
SE PRIORITY IF CTRL/C
     27 006574                          50$:    CALL    ASCOUT,R5,TTICCC ;;NOW T
YPE THE <^C,CR,LF>
        006574  004567  002610                   JSR    R5,ASCOUT
        006600  013052'                           .WORD TTICCC
     28
     29                                 .IF     GT      KBCORR+KBEBCD+KBBCD+KBC3
60-1. ;MORE THAN ONE CODE
     30
     31                                         MOV     (SP)+,R2        ;;CHECK
FOR A CODE SHIFT
     32                                         BEQ     60$             ;;IF NO
CODE SHIFT, THEN NO CONFIRMATION
     33                                         CALL    ASCPTR,R5       ;;PRINT
CODE IDENTIFIER
     34                                 60$:
     35
     36                                 .ENDC   ;KBCORR+KBEBCD+KBBCD+KBC360-1.
     37
     38 006602  105761  000002                  TSTB    DDJBNO(R1)      ;;TERMIN
AL OWNED?
     39 006606  001716                          BEQ     TTICC2          ;;NOPE,
NORMAL CONTROL/C
     40 006610  132761  000020  000032          BITB    #TTGARD,TTMODE(R1) ;;GUA
RDED TERMINAL MODE?
     41 006616  001003                          BNE     70$             ;;YEP
     42 006620  105761  000006                  TSTB    DDCNT(R1)       ;;JUST A
SSIGNED?
     43 006624  001307                          BNE     TTICC2          ;;NOPE,
SO JUST EXIT
     44 006626  012702  000003          70$:    MOV     #'C-100,R2      ;;YEP, S
ET CHAR=3 (CTRL/C)
     45 006632                          80$:    CALLR   TTISJS          ;;THEN S
TORE IT AND EXIT
        006632  000167  177270                   JMP    TTISJS
     46
     47 006636                          GLOBAL  <JSALL,JOBTBL>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 138
GET MOST RECENTLY STORED CHARACTER FROM INPUT BUFFER

      1                                 .SBTTL  GET MOST RECENTLY STORED CHARACT
ER FROM INPUT BUFFER
      2
      3 006636  012746  100000          TTGET:: MOV     #100000,-(SP)   ;;PRESET
 TO SET CARRY -> NO REMOVAL
      4 006642  010103                          MOV     R1,R3           ;;COPY T
HE DDB POINTER
      5 006644  062703  000022                  ADD     #TTINPT+EP,R3   ;; AND P
OINT TO THE EMPTY POINTER
      6 006650  022313                          CMP     (R3)+,(R3)      ;;ANY CH
ARACTERS?
      7 006652  001453                          BEQ     60$             ;;NO
      8 006654  011302                          MOV     (R3),R2         ;;GET FI
LL POINTER FROM DDB
      9 006656  114216                          MOVB    -(R2),(SP)      ;;GET TH
E STORED CHARACTER AND SAVE IT
     10 006660  001410                          BEQ     20$             ;;ALWAYS
 REMOVE A NULL CHARACTER
     11 006662  121661  000033                  CMPB    (SP),TTPDLM(R1) ;;IS IT
THE KB'S PRIVATE DELIMITER?
     12 006666  001445                          BEQ     60$             ;;YES, D
ON'T REMOVE IT THEN
     13 006670  012704  013002'                 MOV     #TTDLIM,R4      ;;GET IL
LEGAL-TO-RUBOUT CHARACTER LIST
     14 006674  121624                  10$:    CMPB    (SP),(R4)+      ;;DOES C
HARACTER MATCH THE LIST?
     15 006676  103776                          BLO     10$             ;;NO, AN
D KEEP CHECKING
     16 006700  001440                          BEQ     60$             ;;YES, D
ON'T REMOVE IT THEN
     17 006702  005313                  20$:    DEC     (R3)            ;;CORREC
T FILL POINTER FOR REMOVED CHARACTER
     18
     19                                 .IF     NE      EKOCTL
     20
     21 006704  132761  000010  000032          BITB    #TTECTL,TTMODE(R1) ;;TER
MINAL OPEN FOR ECHO CONTROL ?
     22 006712  001402                          BEQ     30$             ;;NO, SO
 DON'T BUMP COUNT
     23 006714  105261  000000G                 INCB    EKOCTW(R1)      ;;ADJUST
 FOR CHARACTER REMOVED
     24 006720                          30$:
     25
     26 006720                          GLOBAL  <EKOCTW>
     27
     28                                 .ENDC   ;EKOCTL
     29
     30 006720  105066  000001                  CLRB    1(SP)           ;;SET ST
ACK TO CLEAR CARRY BIT
     31 006724  032702  000035                  BIT     #35,R2          ;;ARE WE
 POINTING TO THE START OF THE BUFFER?
     32 006730  001024                          BNE     60$             ;;NO. NO
THING MORE TO DO
     33 006732  014302                          MOV     -(R3),R2        ;;GET TH
E EMPTY POINTER
     34 006734  022313                          CMP     (R3)+,(R3)      ;;ARE TH
E TWO POINTERS THE SAME
     35 006736  001421                          BEQ     60$             ;;YES. T
HERE ARE NO MORE CHARACTERS
     36 006740  005302                          DEC     R2              ;;MAKE S
URE EMPTY POINTER IS IN BUFFER
     37 006742  042702  000037                  BIC     #37,R2          ;;POINT
TO START OF THE BUFFER
     38 006746  005722                          TST     (R2)+           ;;MAKE I
T THE FIRST CHARACTER
     39 006750  000401                          BR      50$             ;;GO SEA
RCH THE BUFFER CHAIN
     40
     41 006752  011202                  40$:    MOV     (R2),R2         ;;POINT
TO THE SECOND WORD OF THE NEXT BUFFER IN THE CHAIN
     42 006754  024213                  50$:    CMP     -(R2),(R3)      ;;IS THI
S THE LAST BUFFER?
     43 006756  001375                          BNE     40$             ;;NO. LO
OP
     44 006760  011204                          MOV     (R2),R4         ;;YES. G
ET THE POINTER INTO A REGISTER
     45 006762  005744                          TST     -(R4)           ;;POINT
TO THE START OF THE BUFFER
     46 006764                                  BUFFER  RETSML          ;; AND R
ELEASE IT
        006764  000004  000040                   .WORD  IOT,RETSML
     47 006770  005012                          CLR     (R2)            ;;FLAG T
HAT THIS IS THE LAST BUFFER IN THE CHAIN
     48 006772  062702  000040                  ADD     #40,R2          ;;POINT
TO THE END OF THE BUFFER
     49 006776  010223                          MOV     R2,(R3)+        ;;SET TH
E NEW FILL POINTER
     50 007000  005213                          INC     (R3)            ;;BUMP T
HE "NEGATIVE" BUFFER COUNT
     51 007002  111602                  60$:    MOVB    (SP),R2         ;;RESTOR
E THE CHARACTER
     52 007004  006326                          ASL     (SP)+           ;;POP TH
E STACK AND SET OR CLEAR THE C-BIT
     53 007006                                  RETURN                  ;;ALL DO
NE
        007006  000207                           RTS    PC
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 139
"SLEEP" CHECKING

      1                                 .SBTTL  "SLEEP" CHECKING
      2
      3                                 ;+
      4                                 ; SLP$KB - "SLEEP" CHECKING ENTRY POINT.
      5                                 ;
      6                                 ;       R0 =  UNIT NUMBER TIMES 2
      7                                 ;       R1 -> DDB
      8                                 ;       R4 -> JOB'S IOB @ CH# +2
      9                                 ;
     10                                 ;       ...
     11                                 ;
     12                                 ;       R0 =  RANDOM
     13                                 ;       R1 =  RANDOM
     14                                 ;       R4 =  RANDOM
     15                                 ;
     16                                 ;       IF C=1 THEN DON'T LET THE JOB "S
LEEP"
     17                                 ;       IF C=0 THEN LET THE JOB "SLEEP"
     18                                 ;
     19                                 ;       RETURN
     20                                 ;-
     21
     22                                 .ENABL  LSB
     23
     24 007010                                  TMPORG  SLPTBL,2
     25
     26 000002  007010'                         .WORD   SLP$KB
     27
     28 000004                                  UNORG
     29
     30 007010  126761  001006  000002  SLP$KB::CMPB    JOB,DDJBNO(R1)  ;REALLY
OWN THIS TERMINAL?
     31 007016  001023                          BNE     40$             ;NO, GO
EXIT C=0
     32
     33                                 .IF     NE      MULTTY
     34
     35 007020  005744                          TST     -(R4)           ;FIND IO
B POINTER FOR THIS CHANNEL
     36 007022  042704  177740                  BIC     #^C<40-1>,R4    ; THEN F
IND THE CHANNEL # TIMES 2
     37 007026  001405                          BEQ     10$             ;SKIP MU
LTI-TERMINAL CHECK IF CH #0
     38 007030  010104                          MOV     R1,R4           ;SET THE
 MASTER TERMINAL DDB POINTER
     39 007032                                  CALL    MULTTS,R5       ;CHECK F
OR MULTI-TERMINAL PENDING INPUT
        007032  004567  172334                   JSR    R5,MULTTS
     40 007036  000414                            BR    50$             ;ONE FOU
ND, GO EXIT C=1
     41 007040  010401                          MOV     R4,R1           ;NONE FO
UND, RESTORE REAL DDB POINTER
     42 007042                          10$:                            ;GO DO N
ORMAL CHECKING
     43
     44                                 .ENDC   ;MULTTY
     45
     46 007042                                  .BR     CHKINP          ;ELSE CH
ECK FOR NORMAL TERMINAL INPUT
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 140
CHECK FOR INPUT AVAILABLE FROM TERMINAL

      1                                 .SBTTL  CHECK FOR INPUT AVAILABLE FROM T
ERMINAL
      2
      3                                 ;+
      4                                 ; CHKINP - CHECK FOR INPUT AVALABLE FROM
 TERMINAL.
      5                                 ;
      6                                 ;       R1 -> DDB
      7                                 ;
      8                                 ;       CALL    CHKINP
      9                                 ;
     10                                 ;       IF C=1 THEN INPUT AVAILABLE
     11                                 ;       IF C=0 THEN NO INPUT AVAILABLE
     12                                 ;-
     13
     14 007042                          CHKINP::CALL    TTISGL          ;SPECIAL
 MODE(S)?
        007042  004767  174222                   JSR    PC,TTISGL
     15 007046  001404                          BEQ     20$             ;NO SPEC
IAL MODE(S)
     16 007050  026161  000022  000024          CMP     TTINPT+EP(R1),TTINPT+FP(
R1) ;SPECIAL(S), ANY INPUT AT ALL?
     17 007056  000402                          BR      30$             ;GO CHEC
K THE RESULT
     18
     19 007060  105761  000030          20$:    TSTB    TTDLMC(R1)      ;UP TO A
 DELIMITER?
     20 007064  001001                  30$:    BNE     50$             ;INPUT A
VAILABLE
     21 007066  005727                  40$:    TST     (PC)+           ;NO INPU
T AVAILABLE, SET C=0 (AND SKIP 'SEC')
     22 007070  000261                  50$:    SEC                     ;INPUT A
VAILABLE, SET C=1
     23 007072                                  RETURN                  ;NOW EXI
T
        007072  000207                           RTS    PC
     24
     25                                 .DSABL  LSB
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 141
^U HANDLER

      1                                 .SBTTL  ^U HANDLER
      2
      3                                 ;+
      4                                 ; TI$CU - ^U HANDLER.
      5                                 ;-
      6
      7 007074  105761  000031          TI$CU:: TSTB    TTESCC(R1)      ;;ARE WE
 IN AN ESCAPE SEQUENCE ?
      8 007100  001024                          BNE     30$             ;;YES, S
O IGNORE THE CONTROL/U
      9 007102                                  CALL    TECOCS          ;;CHECK
FOR SPECIAL MODE(S)
        007102  004767  002076                   JSR    PC,TECOCS
     10
     11                                 .IF     NE      EKOCTL
     12
     13 007106  132761  000010  000032          BITB    #TTECTL,TTMODE(R1) ;;TER
MINAL OPEN FOR ECHO CONTROL ?
     14 007114  001410                          BEQ     20$             ;;NO, NO
RMAL CONTROL/U'S
     15 007116  016146  000000G         10$:    MOV     EKOCTW(R1),-(SP) ;;SAVE
CURRENT FIELD DESCRIPTOR
     16 007122                                  CALL    TI$RO           ;; AND D
O A RUBOUT
        007122  004767  000112                   JSR    PC,TI$RO
     17 007126  026126  000000G                 CMP     EKOCTW(R1),(SP)+ ;;DID W
E DELETE ANYTHING ?
     18 007132  001371                          BNE     10$             ;;YES, S
O LOOP FOR MORE
     19 007134                                  RETURN                  ;;TOSS T
HE CONTROL/U
        007134  000207                           RTS    PC
     20
     21 007136                          GLOBAL  <EKOCTW>
     22
     23                                 .ENDC   ;EKOCTL
     24
     25 007136                          20$:    CALL    TTGET           ;;GET MO
ST RECENT CHARACTER
        007136  004767  177474                   JSR    PC,TTGET
     26 007142  103375                          BCC     20$             ;; UNTIL
 WE CAN'T REMOVE ANYTHING
     27 007144                                  CALL    ASCOUU,R5,TTICUC ;;NOW E
CHO <^U,CR,LF>
        007144  004567  002220                   JSR    R5,ASCOUU
        007150  013040'                           .WORD TTICUC
     28 007152                          30$:    RETURN                  ;;EXIT
        007152  000207                           RTS    PC
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 142
BACKSPACE ON INPUT

      1                                 .SBTTL  BACKSPACE ON INPUT
      2
      3                                 .ENABL  LSB
      4
      5                                 ;+
      6                                 ; TI$BS - BACKSPACE.
      7                                 ;-
      8
      9 007154  012746  005730'         TI$BS:: MOV     #TTSAVE,-(SP)   ;;SET UP
 RETURN TO KEEP BACKSPACE
     10 007160  032761  000300  000010          BIT     #LCLCPY!TT2741,DDFLAG(R1
) ;;ARE WE ECHOING ?
     11 007166  001406                          BEQ     10$             ;;YES, S
O CORRECTION IS ON ECHO
     12
     13                                 ;+
     14                                 ; TTCKBS - CORRECT FOR BACKSPACE.
     15                                 ;-
     16
     17 007170  126161  000020  000021  TTCKBS::CMPB    DDHORZ(R1),DDHORC(R1) ;;
CAN WE BACK UP ?
     18 007176  103002                          BHIS    10$             ;;NO, SO
 DON'T BOTHER
     19 007200  105261  000020                  INCB    DDHORZ(R1)      ;;BACKUP
 HORIZONTAL POSITION
     20 007204                          10$:    RETURN                  ;;RETURN
        007204  000207                           RTS    PC
     21
     22                                 .DSABL  LSB
     23
     24                                 .SBTTL  RUBOUT MODE ROUTINES
     25
     26                                 .ENABL  LSB
     27
     28                                 ;+
     29                                 ; NOCHAR - NO MORE CHARACTERS TO RUB OUT
.
     30                                 ;-
     31
     32 007206  012746  010346'         NOCHAR::MOV     #GOCRLF,-(SP)   ;;RETURN
 ADDRESS IS FOR <CR>/<LF>
     33 007212  032761  010000  000010          BIT     #RUBOUT,DDFLAG(R1) ;;IN
RUBOUT MODE NOW?
     34 007220  001406                          BEQ     10$             ;;NOPE,
SO JUST DO <CR>/<LF>
     35
     36                                 ;+
     37                                 ; ENDRUB - END RUBOUT MODE.
     38                                 ;-
     39
     40 007222  042761  010000  000010  ENDRUB::BIC     #RUBOUT,DDFLAG(R1) ;;END
 THE RUBOUT MODE
     41 007230                                  CALL    ASCOUE,R5,TTBACK ;; AND
SIGNAL IT WITH A <\>
        007230  004567  002144                   JSR    R5,ASCOUE
        007234  013066'                           .WORD TTBACK
     42 007236                          10$:    RETURN                  ;;NOW EX
IT
        007236  000207                           RTS    PC
     43
     44                                 .DSABL  LSB
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 143
RUBOUTS

      1                                 .SBTTL  RUBOUTS
      2
      3                                 ;+
      4                                 ; TI$RO - RUBOUTS.
      5                                 ;-
      6
      7 007240  032761  000020  000010  TI$RO:: BIT     #TAPE,DDFLAG(R1) ;;TAPE
MODE?
      8 007246  001064                          BNE     60$             ;;YES, I
GNORE RUBOUT
      9 007250  105761  000031                  TSTB    TTESCC(R1)      ;;INTO A
N ESCAPE SEQUENCE?
     10 007254  001061                          BNE     60$             ;;YES, I
GNORE A RUBOUT
     11 007256                                  CALL    TECOCX          ;;CHECK
FOR DDT SUB-MODE
        007256  004767  001740                   JSR    PC,TECOCX
     12 007262  032761  000240  000010          BIT     #TT2741!NOECHO,DDFLAG(R1
) ;;2741 AND/OR CONFIDENTIAL MATERIAL?
     13 007270  001070                          BNE     80$             ;;YEP, H
ANDLE SPECIAL
     14 007272                                  CALL    TTGET           ;;REMOVE
 THE PREVIOUS CHARACTER (C=1 IF NONE)
        007272  004767  177340                   JSR    PC,TTGET
     15 007276  032761  000040  000034          BIT     #TTSCOP,TTCHAR(R1) ;;SCO
PE TYPE TERMINAL?
     16 007304  001004                          BNE     10$             ;;A SCOP
E IT IS
     17 007306  132761  000202  000032          BITB    #TTTECS!TTTECO,TTMODE(R1
) ;;TECO MODE(S)?
     18 007314  001442                          BEQ     70$             ;;NOPE,
NEITHER, DO ASR STYLE...
     19 007316  103434                  10$:    BCS     50$             ;;NOTHIN
G TO REMOVE
     20 007320  132761  000202  000032          BITB    #TTTECS!TTTECO,TTMODE(R1
) ;;TECO OR TECO SCOPE MODE(S)?
     21 007326  003056                          BGT     CHOUTE          ;;NORMAL
 TECO, ECHO DELETED CHARACTER
     22 007330                          .ASSUME TTTECS  EQ      200
     23 007330  020227  000040                  CMP     R2,#40          ;;NORMAL
 GRAPHIC CHARACTER?
     24 007334  103010                          BHIS    20$             ;;YES, <
BS><PAINT><BS> WILL DO IT
     25 007336  105761  000032                  TSTB    TTMODE(R1)      ;;TECO S
COPE MODE?
     26 007342  100420                          BMI     40$             ;;YES, L
ET TECO HANDLE THE 'ECHO'
     27 007344                          .ASSUME TTTECS  EQ      200
     28 007344  032761  002000  000034          BIT     #TTUPAR,TTCHAR(R1) ;;UPA
RROW FOR CONTROLS MODE?
     29 007352  001422                          BEQ     60$             ;;NO, JU
ST PUNT
     30 007354  010746                          MOV     PC,-(SP)        ;;YES, D
O SEQUENCE TWICE
     31 007356                          20$:    CALL    30$             ;;GO OUT
PUT A <BACKSPACE>
        007356  004767  000014                   JSR    PC,30$
     32
     33                                 .IF     EQ      EKOCTL
     34
     35                                         MOV     #040,R2         ;;<PAINT
> IS <SPACE>
     36
     37                                 .IFF
     38
     39 007362  116102  000000G                 MOVB    EKOPNT(R1),R2   ;;GET <P
AINT> FROM DDB
     40 007366  042702  177600                  BIC     #^C<177>,R2     ;; AND T
RIM OFF ANY PARITY
     41
     42 007372                          GLOBAL  <EKOPNT>
     43
     44                                 .ENDC   ;EKOCTL
     45
     46 007372                                  CALL    CHOUTE          ;;NOW OU
TPUT <PAINT> CHARACTER
        007372  004767  000066                   JSR    PC,CHOUTE
     47 007376  012702  000010          30$:    MOV     #010,R2         ;;GET <B
ACKSPACE>
     48 007402  000430                          BR      CHOUTE          ;; AND O
UTPUT IT
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 144
RUBOUTS

      1 007404                          40$:    CALL    STOREX          ;;(RE-)S
TORE THE CHARACTER WE REMOVED
        007404  004767  176212                   JSR    PC,STOREX
      2 007410  012702  000177          50$:    MOV     #177,R2         ;;RESTOR
E CHARACTER AS <RUBOUT>
      3 007414                                  CALL    TECOCS          ;;CHECK 
FOR SPECIAL MODE(S)
        007414  004767  001564                   JSR    PC,TECOCS
      4 007420                          60$:    RETURN                  ;;EXIT (
KEEP THIS INSTRUCTION!!!)
        007420  000207                           RTS    PC
      5
      6 007422  103671                  70$:    BCS     NOCHAR          ;;NOTHIN
G, SO END RUBOUT MODE
      7 007424  032761  010000  000010          BIT     #RUBOUT,DDFLAG(R1) ;;SOM
ETHING, IN RUBOUT MODE NOW??
      8 007432  001014                          BNE     CHOUTE          ;;YEP, S
O JUST ECHO RUB'D CHARACTER
      9 007434  052761  010000  000010          BIS     #RUBOUT,DDFLAG(R1) ;;NOP
E, BUT ENTER RUBOUT MODE NOW
     10 007442                                  CALL    ASCOUE,R5,TTBACK ;; AND
ANNOUNCE IT WITH A <\>
        007442  004567  001732                   JSR    R5,ASCOUE
        007446  013066'                           .WORD TTBACK
     11 007450  000405                          BR      CHOUTE          ;; THEN
ECHO CHARACTER DELETED
     12
     13 007452                          80$:    CALL    TECOCS          ;;CHECK
FOR SPECIAL MODE(S)
        007452  004767  001526                   JSR    PC,TECOCS
     14 007456                                  CALL    TTGET           ;;REMOVE
 THE PREVIOUS CHARACTER (C=1 IF NONE)
        007456  004767  177154                   JSR    PC,TTGET
     15
     16                                 .IF     NE      KB2741
     17
     18                                         BIT     #TT2741,DDFLAG(R1) ;;274
1 TYPE TERMINAL? (Z-BIT=0 IF SO)
     19                                         BHI     TTCKBS          ;;DO <BS
> CORRECTION (C=Z=0 => RUBBED 2741)
     20
     21                                 .ENDC   ;KB2741
     22
     23 007462                                  RETURN                  ;;ELSE J
UST EXIT
        007462  000207                           RTS    PC
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 145
CHARACTER OUTPUT

      1                                 .SBTTL  CHARACTER OUTPUT
      2
      3                                 ;+
      4                                 ; CHOUTE - CHARACTER ECHO ROUTINE (CHECK
 BUFFER AVAILABILITY).
      5                                 ; CHOUT  - CHARACTER OUTPUT ROUTINE (DON
'T CHECK BUFFER AVAILABILITY).
      6                                 ;
      7                                 ;       R1 -> DDB
      8                                 ;       R2 =  CHARACTER
      9                                 ;-
     10
     11 007464                          CHOUTE::CALL    CHKFRE          ;;CHECK
FOR FREE BUFFERS
        007464  004767  000426                   JSR    PC,CHKFRE
     12 007470  103005                          BCC     CHOUT           ;;SOME E
XIST
     13 007472  026127  000016  177776          CMP     DDBUFC+BC(R1),#-2. ;;HOW
 FAR OVER QUOTA ARE WE?
     14 007500  000261                          SEC                     ;; (PRES
ET C=1 FOR A FAILURE)
     15 007502  002521                          BLT     CHORTS          ;;TOO FA
R OVER QUOTA, EXIT C=1
     16 007504                          CHOUT:: CALL    CHKDLF          ;;CHECK
FOR NEEDING A <LF>
        007504  004767  000644                   JSR    PC,CHKDLF
     17 007510  032761  002002  000010          BIT     #TTDFIL!TTNBIN,DDFLAG(R1
) ;;NEED SPECIAL HANDLING HERE?
     18 007516  001114                          BNE     CHOBIN          ;;YES, S
END IT AS IS
     19 007520  020227  000033                  CMP     R2,#033         ;;IS THE
 CHARACTER <ESCAPE>?
     20 007524  001415                          BEQ     20$             ;;YES, T
HAT ALWAYS OUTPUTS AS '$'
     21 007526  012703  012712'                 MOV     #TTOCHL,R3      ;;NO, GE
T LIST OF SPECIALS
     22 007532  132761  000002  000032          BITB    #TTTECO,TTMODE(R1) ;;TEC
O MODE?
     23 007540  001402                          BEQ     10$             ;;NOPE
     24 007542  012703  012726'                 MOV     #TTXCHL,R3      ;;YEP, C
HANGE LIST OF SPECIALS
     25 007546  020223                  10$:    CMP     R2,(R3)+        ;;A MATC
H?
     26 007550  002776                          BLT     10$             ;;NO, AN
D KEEP CHECKING
     27 007552  003004                          BGT     SNDCHR          ;;NO, BU
T DON'T KEEP CHECKING
     28 007554  000173  000032                  JMP     @TTODSP-<TTOCHL+2>(R3) ;
;YES, SO GO TO CORRECT ROUTINE
     29
     30 007560  012702  000044          20$:    MOV     #'$,R2          ;;MAKE <
ESC> INTO '$'
     31 007564                                  .BR     SNDCHR          ;; AND S
END IT OUT
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 146
CHARACTER OUTPUT

      1                                 ;+
      2                                 ; SNDCHR - SEND A CHARACTER.
      3                                 ;
      4                                 ;       R1 -> DDB
      5                                 ;       R2 =  CHARACTER
      6                                 ;-
      7
      8 007564  020227  000040          SNDCHR::CMP     R2,#040         ;;WOULD
IT NEED AN UPARROW?
      9 007570  103026                          BHIS    30$             ;;NOPE
     10 007572  132761  000002  000032          BITB    #TTTECO,TTMODE(R1) ;;TEC
O MODE?
     11 007600  001004                          BNE     10$             ;;YES, A
LWAYS AN UPARROW THEN
     12 007602  032761  002000  000034          BIT     #TTUPAR,TTCHAR(R1) ;;NO,
 UPARROW MODE?
     13 007610  001416                          BEQ     30$             ;;NOT UP
ARROW MODE
     14 007612  010246                  10$:    MOV     R2,-(SP)        ;;SAVE T
HE CHARACTER
     15 007614  001413                          BEQ     20$             ;;DO NUL
LS AS NULLS
     16 007616  162702  000016                  SUB     #015+1,R2       ;;IS THE
 CHARACTER WITHIN THE RANGE
     17 007622  062702  000007                  ADD     #015-007+1,R2   ;; OF 7<
=CHAR<=15 ???
     18 007626  103406                          BCS     20$             ;;IF CAR
RY=1 THEN YES, NO UPARROW
     19 007630  012702  000136                  MOV     #'^,R2          ;;THIS I
S THAT UPARROW WE TOLD YOU ABOUT
     20 007634                                  CALL    40$             ;;SO SEN
D IT ALREADY
        007634  004767  000050                   JSR    PC,40$
     21 007640  052716  000100                  BIS     #100,(SP)       ;;MAKE C
HARACTER PRINTING NOW
     22 007644  012602                  20$:    MOV     (SP)+,R2        ;;PRINT
THIS CHARACTER
     23 007646  020227  000177          30$:    CMP     R2,#177         ;;RUBOUT
?
     24 007652  001445                          BEQ     CHROUT          ;;YES. I
T DOESN'T PRINT
     25 007654  030227  000140                  BIT     R2,#140         ;;PRINTA
BLE?
     26 007660  001442                          BEQ     CHROUT          ;;NOPE,
SO DON'T COUNT IT
     27 007662  020227  000140                  CMP     R2,#140         ;;POSSIB
LE LOWER CASE CHARACTER ?
     28 007666  103410                          BLO     40$             ;;NOPE
     29 007670  020227  000176                  CMP     R2,#176         ;;WELL I
S IT ?
     30 007674  101005                          BHI     40$             ;;NOPE
     31 007676  105761  000034                  TSTB    TTCHAR(R1)      ;;ARE WE
 CONVERTING FOR HIM ?
     32 007702  100402                          BMI     40$             ;;NO, SO
 SEND LOWER CASE
     33 007704                          .ASSUME TTLCOU  EQ      200
     34 007704  042702  000040                  BIC     #40,R2          ;;YES, S
O CONVERT LOWER TO UPPER
     35 007710  105361  000020          40$:    DECB    DDHORZ(R1)      ;;YES, W
ILL IT FIT?
     36 007714  001024                          BNE     CHROUT          ;;IF SO,
 THEN O.K.
     37 007716  105261  000020                  INCB    DDHORZ(R1)      ;;ELSE F
UDGE POSITION BACK
     38 007722  105261  000020                  INCB    DDHORZ(R1)      ;; TO AL
MOST AT RIGHT MARGIN
     39 007726  010246                          MOV     R2,-(SP)        ;;SAVE C
HARACTER
     40 007730                                  CALL    CKCRLF          ;;TRY TO
 DO A CR/LF
        007730  004767  000402                   JSR    PC,CKCRLF
     41 007734  012602                          MOV     (SP)+,R2        ;;NOW RE
STORE CHARACTER
     42 007736  000764                          BR      40$             ;; AND T
RY AGAIN
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 147
CHARACTER OUTPUT

      1                                 .ENABL  LSB
      2
      3                                 .IF     NE      SL2741
      4
      5                                 10$:    BIS     #100,(R3)       ;;ENSURE
 INTERRUPT ENABLE FOR 2741
      6
      7                                 .ENDC   ;SL2741
      8
      9 007740                          20$:    CALLX   STORE,R5,DDBUFC+FP ;;STO
RE THE CHARACTER IN OUTPUT SIDE
        007740  004537  000000G                  JSR    R5,@#STORE
        007744  000014                            .WORD DDBUFC+FP
     10
     11                                 .IF     NE      KB2741
     12
     13                                         MOV     (SP)+,R2        ;;POP BA
CK ASCII CHARACTER
     14
     15                                 .ENDC   ;KB2741
     16
     17 007746                          CHORTS::RETURN                  ;;RETURN
        007746  000207                           RTS    PC
     18
     19 007750  032761  002000  000010  CHOBIN::BIT     #TTDFIL,DDFLAG(R1) ;;FIL
L AFTER THIS CHARACTER?
     20 007756  001114                          BNE     SENDF1          ;;YES, S
O SEND IT AND FILL
     21 007760  042761  000002  000010          BIC     #TTNBIN,DDFLAG(R1) ;;NO,
 SEND IT AS BINARY THIS TIME
     22
     23                                 ;+
     24                                 ; CHROUT - OUTPUT CHARACTER AS IS (BINAR
Y).
     25                                 ;
     26                                 ;       R0 = LINE NUMBER TIME 2
     27                                 ;       R1 -> DDB
     28                                 ;       R2 =  CHARACTER
     29                                 ;-
     30
     31 007766                          CHROUT::CALL    CHKDLF          ;;CHECK
FOR NEEDING A <LF>
        007766  004767  000362                   JSR    PC,CHKDLF
     32
     33                                 .IF     NE      JSTATS
     34
     35 007772  062767  000001  000004G         ADD     #1,JSTATK+4     ;;COUNT
OUTGOING CHARACTERS
     36 010000  005567  000006G                 ADC     JSTATK+6        ;; (DOUB
LE PERCISION)
     37
     38 010004                          GLOBAL  <JSTATK>
     39
     40                                 .ENDC   ;JSTATS
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 148
CHARACTER OUTPUT

      1                                 .IF     NE      KB2741
      2
      3                                         MOV     R2,-(SP)        ;;SAVE A
SCII CHARACTER
      4                                         TSTB    DDFLAG(R1)      ;;IS THI
S A 2741 ?
      5                                         BPL     50$             ;;NOPE
      6                                 .ASSUME TT2741  EQ      200
      7                                         CALL    MAPPED,R5,CVASCD ;;CONVE
RT ASCII TO 2741 CODE (USING PAR6 CODE)
      8
      9                                 .IF     EQ      DC11
     10
     11                                         BR      60$             ;;HARDWA
RE WILL COMPUTE ODD PARITY
     12
     13                                 .IFF
     14
     15                                         CMPB    #TTDC11,TTINTF(R1) ;;DC1
1 TYPE 2741?
     16                                         BNE     60$             ;;NOPE,
HARDWARE COMPUTES ODD PARITY
     17                                         MOV     R2,R3           ;;YEP, S
O SAVE THE CHARACTER
     18                                 30$:    ADD     #100,R2         ;;ADD IN
 ANOTHER BIT FOR PARITY
     19                                 40$:    ASR     R3              ;;MORE B
ITS IN ORIGINAL CHARACTER?
     20                                         BCS     30$             ;;YES, A
ND THIS ONE IS ON (ADD AGAIN)
     21                                         BNE     40$             ;;YES, B
UT THIS ONE IS OFF
     22
     23                                 .ENDC   ;DC11
     24
     25                                 50$:
     26
     27                                 .ENDC   ;KB2741
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 149
CHARACTER OUTPUT

      1 010004  032761  020000  000036          BIT     #TTHPRT,TTINTF(R1) ;;DOE
S THE HARDWARE DO PARITY?
      2 010012  001020                          BNE     60$             ;;YES, S
O LET IT DO IT...
      3 010014  016103  000034                  MOV     TTCHAR(R1),R3   ;;NO, GE
T THE PARITY FLAGS
      4 010020  042703  176377                  BIC     #^C<TTPRTY!TTPODD>,R3 ;;
 AND ISOLATE THEM
      5 010024  001413                          BEQ     60$             ;;NO PAR
ITY, PASS 8-BIT CHARACTER
      6 010026  006203                          ASR     R3              ;;SHIFT
ODD-PARITY FLAG TO 200 IN LOW BYTE
      7 010030                          .ASSUME TTPODD/2        EQ      200
      8 010030                          .ASSUME TTPRTY/2&377    EQ      0
      9 010030  042702  177600                  BIC     #^C<177>,R2     ;;STRIP
THE CHARACTER TO BE 7-BIT
     10 010034  050203                          BIS     R2,R3           ;;MAKE T
HE CHARACTER HAVE THE SOUGHT PARITY
     11 010036  072327  177774                  ASH     #-4,R3          ;;SHIFT
FOUR BITS DOWN
     12 010042  074203                          XOR     R2,R3           ;; AND P
UT FOUR BITS TOGETHER FOR TABLE INDEX
     13 010044  042703  177760                  BIC     #^C<17>,R3      ;;ISOLAT
E TABLE INDEX
     14 010050  156302  000000G                 BISB    PTABLE(R3),R2   ;;TURN O
N 200 BIT IF PARITY SAYS SO
     15 010054                          60$:
     16
     17                                 .IF     NE      DH11 ! DJ11 ! DZ11
     18
     19 010054  005761  000036                  TST     TTINTF(R1)      ;;IS THI
S A MULTIPLEX LINE
     20 010060  100727                          BMI     20$             ;;YES. J
UST BUFFER THE CHARACTER
     21
     22                                 .ENDC   ;DH11 ! DJ11 ! DZ11
     23
     24 010062  016003  000000G                 MOV     CSR.KB(R0),R3   ;;GET CS
R ADDRESS
     25 010066  062703  000004                  ADD     #4,R3           ;;POINT
TO OUTPUT REGISTER
     26
     27                                 .IF     NE      SL2741
     28
     29                                         TSTB    DDFLAG(R1)      ;;2741 L
INE?
     30                                         BMI     10$             ;;YES, S
O ALWAYS JUST BUFFER CHARACTER
     31                                 .ASSUME TT2741  EQ      200
     32
     33                                 .ENDC   ;SL2741
     34
     35 010072  032327  000100                  BIT     (R3)+,#100      ;;ACTIVE
?
     36 010076  001320                          BNE     20$             ;;IF SO,
 THEN WE MUST BUFFER CHARACTER
     37 010100  005761  000010                  TST     DDFLAG(R1)      ;;STALLE
D FOR PAGING?
     38 010104  100715                          BMI     20$             ;;YES, J
UST BUFFER CHARACTER
     39 010106                          .ASSUME TTSTOP  EQ      100000
     40 010106  010213                          MOV     R2,(R3)         ;;OUTPUT
 THE CHARACTER
     41 010110  052743  000100                  BIS     #100,-(R3)      ;;ENABLE
 THE INTERRUPT
     42
     43                                 .IF     NE      KB2741
     44
     45                                         MOV     (SP)+,R2        ;;POP OR
IGINAL ASCII CHARACTER
     46
     47                                 .ENDC   ;KB2741
     48
     49 010114                                  RETURN                  ;;RETURN
        010114  000207                           RTS    PC
     50
     51                                 .DSABL  LSB
     52
     53 010116                          GLOBAL  <PTABLE,CSR.KB>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 150
CHECK FOR OUTPUT BUFFER AVAILABILITY

      1                                 .SBTTL  CHECK FOR OUTPUT BUFFER AVAILABI
LITY
      2
      3                                 ;+
      4                                 ; CHKFRE - CHECK FOR OUTPUT BUFFER AVAIL
ABILITY.
      5                                 ;
      6                                 ;       CALL    CHKFRE
      7                                 ;-
      8
      9 010116                          CHKFRE::CALLX   FREBUF,R5,BFQ.KB ;;CHECK
 FOR BUFFER SPACE
        010116  004537  000000G                  JSR    R5,@#FREBUF
        010122  000000G                           .WORD BFQ.KB
     10 010124  103407                          BCS     10$             ;;NONE,
EXIT C=1
     11 010126  005761  000010                  TST     DDFLAG(R1)      ;;SOME,
STALLED FOR PAGING?
     12 010132  100004                          BPL     10$             ;;NOPE,
EXIT C=0 (FROM 'TST')
     13 010134                          .ASSUME TTSTOP  EQ      100000
     14 010134  005761  000016                  TST     DDBUFC+BC(R1)   ;;STALLE
D, UP TO QUOTA YET?
     15 010140  003001                          BGT     10$             ;;EXIT C
=0 (FROM 'TST') IF NOT AT QUOTA
     16 010142  000261                          SEC                     ;;SET C=
1 IF AT OR OVER QUOTA
     17 010144                          10$:    RETURN                  ;;EXIT
        010144  000207                           RTS    PC
     18
     19                                 .SBTTL  FORM FEEDS AND VERTICAL TABS ON
INPUT
     20
     21                                 .ENABL  LSB
     22
     23                                 ;+
     24                                 ; TO$FF - FORM FEED.
     25                                 ;-
     26
     27 010146  012746  000011          TO$FF:: MOV     #9.,-(SP)       ;;FILL F
ACTOR = 9.
     28 010152  000402                          BR      20$             ;;NOW JO
IN COMMON CODE
     29
     30 010154  012746  000005          10$:    MOV     #5.,-(SP)       ;;FILL F
ACTOR = 5.
     31 010160  032761  020000  000034  20$:    BIT     #TTFORM,TTCHAR(R1) ;;HAR
DWARE ?
     32 010166  001015                          BNE     SENDFN          ;;YES, S
END AND FILL
     33 010170                                  CALL    ASCOUT,R5,LINES4 ;;NO, S
END FOUR <LF>'S
        010170  004567  001214                   JSR    R5,ASCOUT
        010174  013057'                           .WORD LINES4
     34 010176  000432                          BR      TTSTSP          ;;THEN E
XIT
     35
     36                                 ;+
     37                                 ; TO$VT - VERTIVAL TAB.
     38                                 ;-
     39
     40 010200  132761  000040  000034  TO$VT:: BITB    #TTSCOP,TTCHAR(R1) ;;SCO
PE ?
     41 010206  001762                          BEQ     10$             ;;NO, RE
AL <VT>
     42 010210                                  .BR     SENDF1          ;;YES, C
URSOR CONTROL
     43
     44                                 .DSABL  LSB
     45
     46 010210                          GLOBAL  <BFQ.KB>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 151
FILL ROUTINES

      1                                 .SBTTL  FILL ROUTINES
      2
      3                                 ;+
      4                                 ; SENDF1 - SEND FILL, FACTOR = 1.
      5                                 ;
      6                                 ;       R1 -> DDB
      7                                 ;-
      8
      9 010210  012746  000001          SENDF1::MOV     #1,-(SP)        ;;SET FI
LL FACTOR = 1
     10 010214  042761  002000  000010          BIC     #TTDFIL,DDFLAG(R1) ;; AN
D SAY FILLING DONE
     11
     12                                 ;+
     13                                 ; SENDFN - SEND FILL.
     14                                 ;
     15                                 ;       R1 -> DDB
     16                                 ;       (SP) = FILL FACTOR
     17                                 ;-
     18
     19 010222                          SENDFN::CALL    CHROUT          ;;IF FIL
LING SEND CHARACTER
        010222  004767  177540                   JSR    PC,CHROUT
     20 010226  116102  000000G                 MOVB    TTFCNT(R1),R2   ;; AND G
ET THE FILL COUNT
     21 010232  100407                          BMI     FTIMER          ;;PRETEN
D THE FACTOR IS ONE IF SERIAL LA30
     22 010234                          .ASSUME TTLA30  EQ      200
     23 010234  042702  177770                  BIC     #^C<TTFILL>,R2  ;;CLEAR
OFF THE EXTRA BITS
     24 010240  001411                          BEQ     TTSTSP          ;;IF FIL
L=0 THEN EXIT NOW
     25 010242  005302                  10$:    DEC     R2              ;;COUNT
DOWN
     26 010244  001402                          BEQ     FTIMER          ;;DONE (
COUNT IS ON STACK)
     27 010246  006316                          ASL     (SP)            ;;INCREA
SE FILL COUNT
     28 010250  000774                          BR      10$             ;; AND L
OOP...
     29
     30 010252  005002                  FTIMER::CLR     R2              ;;FILL C
HARACTER IS A NULL
     31 010254                                  CALL    CHROUT          ;;SEND O
NE
        010254  004767  177506                   JSR    PC,CHROUT
     32 010260  005316                          DEC     (SP)            ;;MORE T
O SEND?
     33 010262  003373                          BGT     FTIMER          ;;YES, S
O SEND THEM
     34 010264  005726                  TTSTSP::TST     (SP)+           ;;DUMP T
HE STACK ITEM
     35 010266                                  RETURN                  ;; AND E
XIT
        010266  000207                           RTS    PC
     36
     37 010270                          GLOBAL  <TTFCNT>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 152
TABS ON OUTPUT

      1                                 .SBTTL  TABS ON OUTPUT
      2
      3                                 ;+
      4                                 ; TO$TAB - OUTPUT A TAB.
      5                                 ;-
      6
      7                                 .ENABL  LSB
      8
      9 010270  032761  040000  000034  TO$TAB::BIT     #TTTAB,TTCHAR(R1) ;;HARW
ARE TAB ?
     10 010276  001007                          BNE     20$             ;;YES
     11 010300  012702  000040                  MOV     #040,R2         ;;NO, US
E <SPACE>'S
     12 010304                                  CALLX   TABSET,R5,CHOUT ;;SET IT
 UP
        010304  004537  000000G                  JSR    R5,@#TABSET
        010310  007504'                           .WORD CHOUT
     13 010312                          10$:      RETURN                ;;EXIT I
F NOT NOW AT LINE'S END
        010312  000207                           RTS    PC
     14 010314  000410                          BR      CKCRLF          ;;RESTOR
E CARRIAGE IF AT LINE END
     15
     16 010316                          20$:    CALLX   TABSET,R5,CORPOS ;;SET I
T UP
        010316  004537  000000G                  JSR    R5,@#TABSET
        010322  012172'                           .WORD CORPOS
     17 010324  000731                            BR    SENDF1          ;;SEND A
ND FILL (FACTOR=1)
     18 010326  132761  000004  000032          BITB    #TTCRLF,TTMODE(R1) ;;ARE
 WE WATCHING LINE WIDTH TO DO CRLF?
     19 010334  001325                          BNE     SENDF1          ;; IF NO
T, OUTPUT THE TAB ANYWAY
     20 010336                                  .BR     CKCRLF          ;;OTHERW
ISE  OUTPUT A CRLF.
     21
     22                                 ;+
     23                                 ; CKCRLF - SEND A CR/LF IF ALLOWED.
     24                                 ;-
     25
     26 010336  132761  000014  000032  CKCRLF::BITB    #TTECTL!TTCRLF,TTMODE(R1
) ;;CAN WE OUTPUT A CR/LF?
     27 010344  001362                          BNE     10$             ;;NO, SO
 DON'T
     28 010346                                  .BR     GOCRLF          ;;YES, S
O DO
     29
     30                                 .DSABL  LSB
     31
     32                                 ;+
     33                                 ; GOCRLF - SEND A CR/LF.
     34                                 ;-
     35
     36 010346                          GOCRLF::CALL    ASCOUT,R5,CRLF.0 ;;OUTPU
T <CR><LF>
        010346  004567  001036                   JSR    R5,ASCOUT
        010352  013054'                           .WORD CRLF.0
     37
     38                                 ;+
     39                                 ; CHKDLF - OUTPUT A LF IF NEEDED.
     40                                 ;-
     41
     42 010354  012746  000404          CHKDLF::MOV     #TTRSX2!TTRSX1,-(SP) ;;S
TACK THE <LF> NEEDED RSX MODE
     43 010360  046126  000010                  BIC     DDFLAG(R1),(SP)+ ;;DO WE
 NEED A <LF>?
     44 010364  001006                          BNE     10$             ;;NO
     45 010366  042761  000004  000010          BIC     #TTRSX1,DDFLAG(R1) ;;YES
, BUT INDICATE THAT WE SENT A <LF>
     46 010374                                  CALL    RSXCHR,R5,012   ;;GO OUT
PUT THAT REQUESTED <LF>
        010374  004567  001766                   JSR    R5,RSXCHR
        010400  000012                            .WORD 012
     47 010402                          10$:    RETURN                  ;;EXIT
        010402  000207                           RTS    PC
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 153
OUTPUT CARRIAGE RETURN

      1                                 .SBTTL  OUTPUT CARRIAGE RETURN
      2
      3                                 ;+
      4                                 ; TO$CR - OUTPUT A CARRIAGE RETURN.
      5                                 ;-
      6
      7                                 .ENABL  LSB
      8
      9 010404                          TO$CR::
     10
     11                                 .IF     NE      KB2741
     12
     13                                         BIS     #TTCRO,ST2741(R1) ;;SAY
A <CR> WAS SENT
     14                                         TSTB    DDFLAG(R1)      ;;IS THI
S A 2741 ?
     15                                         BMI     10$             ;;YEP, S
O COMPUTE FILL
     16                                 .ASSUME TT2741  EQ      200
     17
     18                                 GLOBAL  <ST2741>
     19
     20                                 .ENDC   ;KB2741
     21
     22 010404  105761  000000G                 TSTB    TTFCNT(R1)      ;;IS THI
S A LA30 SERIAL?
     23 010410  100042                          BPL     80$             ;;NOPE
     24 010412                          .ASSUME TTLA30  EQ      200
     25 010412  116102  000021          10$:    MOVB    DDHORC(R1),R2   ;;YES, G
ET LINE WIDTH
     26 010416  166102  000020                  SUB     DDHORZ(R1),R2   ;; AND F
IND THE CURRENT POSITION
     27 010422  042702  177400                  BIC     #^C<377>,R2     ;;HIGH B
YTE IS JUNK
     28 010426  012746  000002                  MOV     #2.,-(SP)       ;;GUESS
AT WITHIN 1ST 11. COLUMNS
     29
     30                                 .IF     NE      KB2741
     31
     32                                         TSTB    DDFLAG(R1)      ;;2741 ?
     33                                         BMI     20$             ;;IF SO,
 FILL == (POS/10.)+1.
     34                                 .ASSUME TT2741  EQ      200
     35
     36                                 .ENDC   ;KB2741
     37
     38 010432                          GLOBAL  <TTFCNT>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 154
OUTPUT CARRIAGE RETURN

      1 010432  020227  000014                  CMP     R2,#12.         ;;GOOD G
UESS?
      2 010436  103414                          BLO     40$             ;;YES, F
ILL=2.+(POSITION/2.)
      3 010440  162702  000045                  SUB     #37.,R2         ;;NO, WI
THIN 1ST 36. COLUMNS?
      4 010444  002407                          BLT     30$             ;;IF SO,
 FILL=8. (=2.+(12./2.))
      5 010446  012716  000011                  MOV     #9.,(SP)        ;;IF NOT
, FILL=9.+(POSITION/10.)
      6
      7 010452  162702  000012          20$:    SUB     #10.,R2         ;;SO DIV
IDE BY
      8 010456  003406                          BLE     50$             ;; 10. A
ND COUNT
      9 010460  005216                          INC     (SP)            ;;  NUMB
ER OF TIMES WE DID...
     10 010462  000773                          BR      20$             ;;THIS S
HOULD END SOON
     11
     12 010464  012702  000014          30$:    MOV     #8.-2.*2,R2     ;;FUDGE
FOR FILL=8.
     13 010470  006202                  40$:    ASR     R2              ;;FIND P
OSITION/2
     14 010472  060216                          ADD     R2,(SP)         ;; AND A
DD INTO TOTAL COUNT
     15 010474  012702  000015          50$:    MOV     #015,R2         ;;<CR> I
S STILL CHARACTER TO PRINT
     16 010500  012746  010252'                 MOV     #FTIMER,-(SP)   ;;SET A
RETURN ADDRESS
     17 010504  116161  000021  000020  60$:    MOVB    DDHORC(R1),DDHORZ(R1) ;;
RESET CURRENT POSITION
     18 010512                          70$:    CALLR   CHROUT          ;; AND S
END THE CHARACTER AND EXIT
        010512  000167  177250                   JMP    CHROUT
     19
     20 010516  132761  000040  000034  80$:    BITB    #TTSCOP,TTCHAR(R1) ;;SCO
PE TYPE TERMINAL?
     21 010524  001367                          BNE     60$             ;;YES, S
O NO FILL EVER
     22 010526  116161  000021  000020  90$:    MOVB    DDHORC(R1),DDHORZ(R1) ;;
RESET CURRENT POSITION
     23 010534  000625                  100$:   BR      SENDF1          ;;NOPE,
SEND THEN CHECK FOR FILL
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 155
LINE FEED ON OUTPUT

      1                                 .SBTTL  LINE FEED ON OUTPUT
      2
      3                                 ;+
      4                                 ; TO$LF - LINE FEED ON OUTPUT.
      5                                 ;-
      6
      7 010536                          TO$LF::
      8
      9                                 .IF     NE      KB2741
     10
     11                                         TSTB    DDFLAG(R1)      ;;2741 ?
     12                                         BPL     110$            ;;NOPE
     13                                 .ASSUME TT2741  EQ      200
     14                                         BIT     #TTCRO,ST2741(R1) ;;WAS
CR = <CRLF> SENT
     15                                         BEQ     SENDF1          ;;NO, SE
ND AND FILL 2 (FACTOR=1)
     16                                         BIC     #TTCRO,ST2741(R1) ;;CLEA
R CR FLAG
     17                                         RETURN                  ;; AND I
GNORE THE <LF>
     18
     19                                 110$:
     20
     21                                 GLOBAL  <ST2741>
     22
     23                                 .ENDC   ;KB2741
     24
     25 010536  132761  000040  000034          BITB    #TTSCOP,TTCHAR(R1) ;;SCO
PE TYPE TERMINAL?
     26 010544  001373                          BNE     100$            ;;IF SO,
 THEN SEND AND FILL FACTOR = 1
     27 010546  000167  177012          TTKEEP::JMP     SNDCHR          ;;ELSE J
UST NORMALLY SEND THE CHARACTER
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 156
OUTPUT SCOPE CONTROL

      1                                 .SBTTL  OUTPUT SCOPE CONTROL
      2
      3                                 ;+
      4                                 ; TO$CUR - OUTPUT SCOPE CONTROL.
      5                                 ;-
      6
      7 010552  132761  000040  000034  TO$CUR::BITB    #TTSCOP,TTCHAR(R1) ;;IS
THIS A SCOPE?
      8 010560  001772                          BEQ     TTKEEP          ;;IF NOT
, TAKE NORMAL RETURN
      9 010562  120227  000035                  CMPB    R2,#35          ;;SCOPE
GOING TO HOME ?
     10 010566  001362                          BNE     100$            ;;NO, JU
ST NULL FILL
     11 010570  000756                          BR      90$             ;;YES, R
ESET POSITION AND NULL FILL
     12
     13                                 ;+
     14                                 ; TO$DCA - OUTPUT FOR DIRECT CURSOR ADDR
ESSING.
     15                                 ;-
     16
     17 010572  132761  000040  000034  TO$DCA::BITB    #TTSCOP,TTCHAR(R1) ;;IS
THIS A SCOPE?
     18 010600  001762                          BEQ     TTKEEP          ;;NO, JU
ST NORMAL
     19 010602  120227  000016                  CMPB    R2,#16          ;;REALLY
 DIRECT CURSOR ADDRESSING?
     20 010606  001341                          BNE     70$             ;;NO, SO
 JUST SEND IT
     21 010610  052761  002000  000010          BIS     #TTDFIL,DDFLAG(R1) ;;YES
, INDICATE DELAYED FILL
     22
     23                                 ;+
     24                                 ; TO$ESC - OUTPUT FOR ESCAPE SEQUENCES.
     25                                 ;-
     26
     27 010616  052761  000002  000010  TO$ESC::BIS     #TTNBIN,DDFLAG(R1) ;;SIG
NAL NEXT AS BINARY OUTPUT
     28 010624  000727                          BR      60$             ;; AND S
END THIS RIGHT NOW
     29
     30                                 .DSABL  LSB
     31
     32                                 .SBTTL  BACKSPACE ON OUTPUT
     33
     34                                 ;+
     35                                 ; TO$BS - BACKSPACE ON OUTPUT.
     36                                 ;-
     37
     38 010626                          TO$BS:: CALL    TTCKBS          ;;BACKUP
 IF POSSIBLE
        010626  004767  176336                   JSR    PC,TTCKBS
     39 010632  000745                          BR      TTKEEP          ;;BUT KE
EP THE BACKSPACE
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 157
^R AND ^T HANDLERS

      1                                 .SBTTL  ^R AND ^T HANDLERS
      2
      3                                 ;+
      4                                 ; TI$CRR - ^R HANDLER.
      5                                 ; TI$CTT - ^T HANDLER.
      6                                 ;-
      7
      8 010634                          TI$CRR::                        ;;HANDLE
 CONTROL/R (RETYPE)
      9 010634                          TI$CTT::                        ;;HANDLE
 CONTROL/T (SYSTAT)
     10
     11                                 .IF     NE      EKOCTL
     12 010634  132761  000010  000032          BITB    #TTECTL,TTMODE(R1) ;;ECH
O CONTROL MODE?
     13 010642  001102                          BNE     TTNORM          ;;YES, M
AKE A NORMAL CHARACTER
     14                                 .ENDC   ;EKOCTL
     15
     16 010644                                  CALL    TTISGL          ;;CHECK
FOR SPECIAL MODE(S)
        010644  004767  172420                   JSR    PC,TTISGL
     17 010650  001077                          BNE     TTNORM          ;;MAKE N
ORMAL CHARACTER IF ANY
     18 010652  032761  000010  000034          BIT     #TTFUNC,TTCHAR(R1) ;;ALL
OWING SPECIAL FUNCTION CHARACTERS?
     19 010660  001073                          BNE     TTNORM          ;;NOPE,
MAKE A NORMAL CHARACTER
     20 010662  020227  000022                  CMP     R2,#'R-100      ;;IS IT
CONTROL/R?
     21 010666  001032                          BNE     40$             ;;NOPE,
IT IS CONTROL/T
     22 010670                                  CALL    ASCOUE,R5,TTICRC ;;ANNOU
NCE WITH "^R"<CR><LF>
        010670  004567  000504                   JSR    R5,ASCOUE
        010674  013026'                           .WORD TTICRC
     23 010676  010546                          MOV     R5,-(SP)        ;;SAVE R
5
     24 010700  016105  000022                  MOV     TTINPT+EP(R1),R5 ;;GET T
HE CURRENT EMPTY POINTER
     25 010704  032761  000260  000010          BIT     #TT2741!TAPE!NOECHO,DDFL
AG(R1) ;;SHOULD WE DO THIS?
     26 010712  001404                          BEQ     30$             ;;YES
     27 010714  012605                  10$:    MOV     (SP)+,R5        ;;RESTOR
E R5
     28 010716                                  RETURN                  ;;EXIT
        010716  000207                           RTS    PC
     29
     30 010720  016505  177740          20$:    MOV     -40(R5),R5      ;;GET NE
XT BUFFER IN CHAIN
     31 010724  020561  000024          30$:    CMP     R5,TTINPT+FP(R1) ;;MORE
CHARACTERS?
     32 010730  001771                          BEQ     10$             ;;NO, DO
NE
     33 010732  030527  000037                  BIT     R5,#40-1        ;;YES, M
ORE ROOM IN THIS BUFFER?
     34 010736  001770                          BEQ     20$             ;;OUT OF
 ROOM, GO TO NEXT BUFFER
     35 010740  112502                          MOVB    (R5)+,R2        ;;ROOM,
GET THE CHARACTER
     36 010742  042702  177600                  BIC     #^C<177>,R2     ;;TRIM O
FF ANY JUNK
     37 010746                                  CALL    CHOUTE          ;; AND O
UTPUT IT
        010746  004767  176512                   JSR    PC,CHOUTE
     38 010752  000764                          BR      30$             ;;  THEN
 LOOP
     39
     40 010754                          40$:    CALL    MAPPED,R5,TTSYST ;;GO TR
Y FOR A MINI SYSTEM (USING PAR6 CODE)
        010754  004567  001546                   JSR    R5,MAPPED
        010760  000000'                           .WORD TTSYST
     41 010762  103432                          BCS     TTNORM          ;;NOT LE
GAL NOW, MAKE A NORMAL CHARACTER
     42 010764                                  RETURN                  ;;DONE,
JUST RETURN
        010764  000207                           RTS    PC
     43
     44 010766                                  TMPORG  TTSYST
     45 000000  000261                  TTSYST: SEC                     ;;SAY MI
NI SYSTAT NOT LEGAL (UNLESS OVERLAID)
     46 000002                                  RETURN                  ;; AND E
XIT
        000002  000207                           RTS    PC
     47 000004                                  UNORG
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 158
CONTROL/G ON INPUT

      1                                 .SBTTL  CONTROL/G ON INPUT
      2
      3                                 ;+
      4                                 ; TI$CCG - ^G INPUT.
      5                                 ;-
      6
      7 010766                          TI$CCG::
      8
      9                                 .IF     NE      EKOCTL
     10
     11 010766  132761  000010  000032          BITB    #TTECTL,TTMODE(R1) ;;IN
ECHO CONTROL MODE?
     12 010774  001025                          BNE     TTNORM          ;;YES, S
KIP IT
     13
     14                                 .ENDC   ;EKOCTL
     15
     16 010776  105361  000030                  DECB    TTDLMC(R1)      ;;NOT RE
ALLY A DELIMITER...
     17 011002                                  CALL    TECOCK          ;;CHECK
FOR SPECIAL MODE(S)
        011002  004767  000204                   JSR    PC,TECOCK
     18 011006  105261  000030                  INCB    TTDLMC(R1)      ;;RE-COR
RECT DELIMITER COUNT
     19 011012  000416                          BR      TTNORM          ;; AND C
ALL IT A NORMAL CHARACTER
     20
     21                                 .SBTTL  CONTROL/B ON INPUT
     22
     23                                 ;+
     24                                 ; TI$CB - ^B ON INPUT.
     25                                 ;-
     26
     27 011014                          TI$CB:: CALL    CHKESC,R5       ;;ARE ME
SSAGES ALLOWED?
        011014  004567  001232                   JSR    R5,CHKESC
     28 011020  000413                            BR    TTNORM          ;;NOPE
     29 011022  032761  000040  000010          BIT     #NOECHO,DDFLAG(R1) ;;YEP
, IS ECHO ALREADY OFF?
     30 011030  001007                          BNE     TTNORM          ;;YES, L
EAVE IT OFF
     31
     32                                 .IF     NE      EKOCTL
     33
     34 011032  132761  000010  000032          BITB    #TTECTL,TTMODE(R1) ;;IN
ECHO CONTROL MODE?
     35 011040  001003                          BNE     TTNORM          ;;YES, S
KIP IT
     36
     37                                 .ENDC   ;EKOCTL
     38
     39 011042  052761  004040  000010          BIS     #TTMSG!NOECHO,DDFLAG(R1)
 ;;ECHO OFF AND INTO A MESSAGE
     40 011050  000167  174654          TTNORM::JMP     TTSAVE          ;;CALL I
T NORMAL INPUT
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 159
EOT ON INPUT

      1                                 .SBTTL  EOT ON INPUT
      2
      3                                 ;+
      4                                 ; TI$EOT - EOT ON INPUT.
      5                                 ;-
      6
      7                                 .ENABL  LSB
      8
      9 011054  012746  004040          TI$EOT::MOV     #TTMSG!NOECHO,-(SP) ;;CH
ECK FOR BOTH OF THESE
     10 011060  046126  000010                  BIC     DDFLAG(R1),(SP)+ ;; BEIN
G ON
     11 011064  001004                          BNE     10$             ;;ONE OR
 MORE OFF
     12 011066  042761  004040  000010          BIC     #TTMSG!NOECHO,DDFLAG(R1)
 ;;BOTH ON, BOTH OFF NOW
     13 011074  000441                          BR      60$             ;; AND S
TORE, COUNT, BUT NO ECHO
     14
     15 011076  042761  004000  000010  10$:    BIC     #TTMSG,DDFLAG(R1) ;;TURN
 MSG'S OFF IN ALL CASES
     16 011104  000427                          BR      50$             ;; AND C
ALL IT A DELIMITER
     17
     18                                 .SBTTL  ALTMODES (ESCAPES)
     19
     20                                 ;+
     21                                 ; TI$ALT - ALTMODES ON INPUT.
     22                                 ;-
     23
     24 011106                          TI$ALT::CALL    CHKESC,R5       ;;ALLOWE
D INCOMING ESC SEQ'S?
        011106  004567  001140                   JSR    R5,CHKESC
     25 011112  000413                            BR    30$             ;;NOPE
     26 011114  112702  000200                  MOVB    #200,R2         ;;YEP, S
IGNAL START OF ESC SEQ
     27 011120                                  CALL    STOREX          ;;STORE
LEADING SIGNAL IN INPUT BUFFER
        011120  004767  174476                   JSR    PC,STOREX
     28 011124  110261  000031                  MOVB    R2,TTESCC(R1)   ;;SET UP
 THE STARTING FLAG
     29 011130                          20$:    RETURN                  ;; AND T
HEN QUIT
        011130  000207                           RTS    PC
     30
     31                                 ;+
     32                                 ; TI$AL1 - ALTERNATE ALTMODES (175,176).
     33                                 ;-
     34
     35 011132  132761  000020  000034  TI$AL1::BITB    #TTESC,TTCHAR(R1) ;;ALLO
WING 175,176 AS ESCAPE?
     36 011140  001343                          BNE     TTNORM          ;;NO, CA
LL 175,176 NORMAL CHARACTERS
     37 011142  032761  000100  000010  30$:    BIT     #LCLCPY,DDFLAG(R1) ;;LOC
AL COPY ?
     38 011150  001403                          BEQ     40$             ;;NO
     39 011152                                  CALL    ASCOUE,R5,DOLLAR ;;YES,
ECHO THE "$"
        011152  004567  000222                   JSR    R5,ASCOUE
        011156  013070'                           .WORD DOLLAR
     40 011160  012702  000033          40$:    MOV     #033,R2         ;;ALL AL
TMODES ARE REALLY ESCAPE (033)
     41 011164                                  .BR     50$             ;;CALL A
LTMODES DELIMITERS
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 160
FORM FEED ON INPUT

      1                                 .SBTTL  FORM FEED ON INPUT
      2
      3                                 ;+
      4                                 ; TI$FF - FORM FEED ON INPUT.
      5                                 ;-
      6
      7 011164                          TI$FF::
      8
      9 011164                          50$:
     10
     11                                 .IF     NE      EKOCTL
     12
     13 011164  132761  000010  000032          BITB    #TTECTL,TTMODE(R1) ;;TER
MINAL OPEN FOR ECHO CONTROL ?
     14 011172  001002                          BNE     60$             ;;YES, S
O NO ECHOING OF DELIMITERS
     15
     16                                 .ENDC   ;EKOCTL
     17
     18 011174  012716  005432'                 MOV     #TTINER,(SP)    ;;CHANGE
 RETURN ADDR TO TAKE ECHO ROUTE
     19 011200                          60$:    CALLR   TTISJS          ;;STORE
AND SET THE STATUS BIT
        011200  000167  174722                   JMP    TTISJS
     20
     21                                 .SBTTL  SPECIAL INPUT MODE CHARACTERS
     22
     23                                 ;+
     24                                 ; TECOCS - CHECK FOR TECO SCOPE, TECO AN
D DDT MODES ON INPUT.
     25                                 ;-
     26
     27 011204  105761  000032          TECOCS::TSTB    TTMODE(R1)      ;;TECO S
COPE MODE?
     28 011210  100410                          BMI     70$             ;;YES
     29 011212                          .ASSUME TTTECS  EQ      200
     30
     31                                 ;+
     32                                 ; TECOCK - CHECK FOR TECO AND DDT MODES
ON INPUT.
     33                                 ;-
     34
     35 011212  132761  000002  000032  TECOCK::BITB    #TTTECO,TTMODE(R1) ;;TEC
O MODE?
     36 011220  001004                          BNE     70$             ;;YES
     37
     38                                 ;+
     39                                 ; TECOCX - CHECK FOR DDT MODE ON INPUT.
     40                                 ;-
     41
     42 011222  032761  000010  000010  TECOCX::BIT     #TTDDT,DDFLAG(R1) ;;DDT
SUBMODE?
     43 011230  001737                          BEQ     20$             ;;NO, NO
THING
     44 011232  005726                  70$:    TST     (SP)+           ;;DUMP T
HE RETURN ADDRESS
     45 011234  000753                          BR      50$             ;; AND C
ALL IT A DELIMITER
     46
     47                                 .DSABL  LSB
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 161
XON/XOFF ON INPUT

      1                                 .SBTTL  XON/XOFF ON INPUT
      2
      3                                 ;+
      4                                 ; TI$CCQ - XON INPUT.
      5                                 ; TI$CCS - XOFF INPUT.
      6                                 ;-
      7
      8 011236                          TI$CCQ::                        ;;PROCES
S XON
      9 011236  032761  004000  000034  TI$CCS::BIT     #TTSYNC,TTCHAR(R1) ;;ACC
EPTS XON/XOFF?
     10 011244  001701                          BEQ     TTNORM          ;;NOPE
     11
     12                                 ;+
     13                                 ; CKPCOL - CHECK FOR INCOMING XON/XOFF.
     14                                 ;-
     15
     16 011246  006302                  CKPCOL::ASL     R2              ;;DOUBLE
 CHARACTER TO DUMP PARITY BIT
     17 011250  120227  000042                  CMPB    R2,#<'Q-100>*2  ;;IS IT
XON (CTRL/Q)?
     18 011254  001412                          BEQ     30$             ;;YES, E
NABLE OUTPUT
     19 011256  120227  000046                  CMPB    R2,#<'S-100>*2  ;;IS IT
XOFF (CTRL/S)?
     20 011262  001005                          BNE     20$             ;;NOPE,
RETURN TO CALLER
     21 011264  052761  100000  000010          BIS     #TTSTOP,DDFLAG(R1) ;;YES
, STALL FOR PAGING
     22
     23                                 .IF     NE      DH11
     24
     25                                         CMPB    #TTDH11,TTINTF(R1) ;;IS
THIS A DH LINE?
     26                                         BNE     10$             ;;NO
     27                                         MOV     CSR.KB(R0),R3   ;;GET DH
11 CSR ADDRESS
     28                                         CALL    DHSEL           ;; AND S
ELECT THAT SUBLINE
     29                                         BIC     BITWRD(R2),12(R3) ;;SUSP
END DH11 TRANSMISSION
     30                                 10$:
     31
     32                                 GLOBAL  <CSR.KB,BITWRD>
     33
     34                                 .ENDC   ;DH11
     35
     36 011272  012716  005522'                 MOV     #TTIN04,(SP)    ;;CHANGE
 RETURN ADDRESS TO IGNORE CHARACTER
     37 011276  006202                  20$:    ASR     R2              ;;CORREC
T THE CHARACTER
     38 011300                                  RETURN                  ;; AND E
XIT
        011300  000207                           RTS    PC
     39
     40 011302  012716  005522'         30$:    MOV     #TTIN04,(SP)    ;;CHANGE
 RETURN ADDRESS TO IGNORE CHARACTER
     41 011306                                  .BR     DOXON           ;;GO DO
THE XON OUTPUT ENABLE
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 162
CHECK AND START UP A LINE ROUTINES

      1                                 .SBTTL  CHECK AND START UP A LINE ROUTIN
ES
      2
      3                                 ;+
      4                                 ; DOXON - (RE-)ENABLE OUTPUT AND START U
P A LINE.
      5                                 ;
      6                                 ;       R0 =  LINE NUMBER TIMES 2
      7                                 ;       R1 -> DDB
      8                                 ;
      9                                 ;       CALL    DOXON
     10                                 ;
     11                                 ;       R3 -> CSR
     12                                 ;-
     13
     14 011306  042761  100000  000010  DOXON:: BIC     #TTSTOP,DDFLAG(R1) ;;SAY
 OUTPUT IS NOW ENABLED
     15
     16                                 ;+
     17                                 ; CHKLIN - CHECK AND START UP LINE.
     18                                 ;
     19                                 ;       R0 =  LINE NUMBER TIMES 2
     20                                 ;       R1 -> DDB
     21                                 ;
     22                                 ;       CALL    CHKLIN
     23                                 ;
     24                                 ;       R3 -> CSR
     25                                 ;-
     26
     27                                 .ENABL  LSB
     28
     29 011314  005761  000010          CHKLIN::TST     DDFLAG(R1)      ;;IS LIN
E STALLED FOR PAGING?
     30 011320  100420                          BMI     40$             ;;YES, D
ON'T TRY TO START IT THEN
     31 011322                          .ASSUME TTSTOP  EQ      100000
     32
     33                                 ;+
     34                                 ; SRTLIN - START UP A LINE.
     35                                 ;
     36                                 ;       R0 =  LINE NUMBER TIMES 2
     37                                 ;       R1 -> DDB
     38                                 ;
     39                                 ;       CALL    SRTLIN
     40                                 ;
     41                                 ;       R3 -> CSR
     42                                 ;-
     43
     44 011322  016003  000000G         SRTLIN::MOV     CSR.KB(R0),R3   ;;UNCOND
ITIONAL LINE STARTUP
     45
     46 011326                          GLOBAL  <CSR.KB>
     47
     48                                 .IF     NE      DH11 ! DJ11 ! DZ11
     49
     50 011326  005761  000036                  TST     TTINTF(R1)      ;;IS THI
S A MULTIPLEXED LINE?
     51 011332  100010                          BPL     30$             ;;NO, SO
 SIMPLE STARTUP
     52 011334                          .ASSUME TTMUX   EQ      100000
     53 011334  010246                          MOV     R2,-(SP)        ;;YES, S
AVE R2
     54 011336                                  CALL    SUBLIN          ;;GET TH
E SUBLINE NUMBER *2
        011336  004767  172770                   JSR    PC,SUBLIN
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 163
CHECK AND START UP A LINE ROUTINES

      1                                 .IF     NE      DJ11 ! DZ11
      2
      3                                 .IF     NE      DH11
      4
      5                                         CMPB    #TTDH11,TTINTF(R1) ;;A D
H11 LINE?
      6                                         BEQ     10$             ;;YES
      7
      8                                 .IFTF
      9
     10 011342  056263  000000G 000004          BIS     BITWRD(R2),4(R3) ;;NOW S
ET THE DJ11 OR DZ11 BAR BIT
     11
     12                                 .IFT
     13
     14                                         BR      20$             ;; AND O
UT
     15
     16                                 10$:
     17
     18                                 .ENDC   ;DH11
     19
     20                                 .ENDC   ;DJ11 ! DZ11
     21
     22                                 .IF     NE      DH11
     23
     24                                         BIT     BITWRD(R2),12(R3) ;;IS D
H11 LINE ACTIVE NOW?
     25                                         BNE     20$             ;;YES, D
O NOTHING MORE
     26                                         BIS     #130100,(R3)    ;;NO, RE
QUEST AN XMIT INTERRUPT
     27
     28                                 .ENDC   ;DH11
     29
     30 011350  012602                  20$:    MOV     (SP)+,R2        ;;RESTOR
E R2
     31 011352  000403                          BR      40$             ;; AND O
UT
     32
     33 011354                          GLOBAL  <BITWRD>
     34
     35                                 .ENDC   ;DH11 ! DJ11 ! DZ11
     36
     37 011354  052763  000100  000004  30$:    BIS     #100,4(R3)      ;;ENABLE
 XMIT ON SINGLE LINE INTERFACE
     38 011362  016003  000000G         40$:    MOV     CSR.KB(R0),R3   ;;ENSURE
 RETURNED CSR POINTER
     39 011366                                  RETURN                  ;; AND E
XIT
        011366  000207                           RTS    PC
     40
     41                                 .DSABL  LSB
     42
     43 011370                          GLOBAL  <CSR.KB>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 164
ASCII STRING SENDER

      1                                 .SBTTL  ASCII STRING SENDER
      2
      3                                 ;+
      4                                 ; OUTPUT AN ASCII STRING, TERMINATED BY
A 0 BYTE.
      5                                 ;
      6                                 ;       CALL    ASCOUT,R5
      7                                 ;       +       STRING ADDRESS
      8                                 ;       ...     RETURN
      9                                 ;
     10                                 ;       R2 =    ASCIZ STRING ADDRESS
     11                                 ;       CALL    ASCPTR,R5
     12                                 ;       ...     RETURN
     13                                 ;-
     14
     15                                 .ENABL  LSB
     16
     17                                 .IF     GT      KBCORR+KBEBCD+KBBCD+KBC3
60-1.
     18
     19                                 ASCPTR::CMP     -(R5),-(SP)     ;;DUMMY
STACK ITEM AND RETURN ADDRESS CORRECTION
     20                                         BR      10$             ;;BUT SK
IP PICKUP OF STRING POINTER
     21
     22                                 .ENDC   ;KBCORR+KBEBCD+KBBCD+KBC360-1.
     23
     24 011370                          ASCOUU::
     25
     26                                 .IF     NE      KB2741
     27
     28                                         TSTB    DDFLAG(R1)      ;;2741?
     29                                         BMI     ASCOUT          ;;YES, S
O ALWAYS DO IT
     30                                 .ASSUME TT2741  EQ      200
     31
     32                                 .ENDC   ;KB2741
     33
     34 011370                          ASCOUF::
     35
     36                                 .IF     NE      EKOCTL
     37
     38 011370  132761  000010  000032          BITB    #TTECTL,TTMODE(R1) ;;TER
MINAL OPEN FOR ECHO CONTROL ?
     39 011376  001032                          BNE     50$             ;;YES, S
O SKIP ARGUMENT AND EXIT
     40
     41                                 .ENDC   ;EKOCTL
     42
     43 011400                                  .BR     ASCOUE          ;;CONTIN
UE WITH THE CHECKING
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 165
ASCII STRING SENDER

      1 011400  032761  000260  000010  ASCOUE::BIT     #TT2741!TAPE!NOECHO,DDFL
AG(R1) ;;SHOULD WE DO THIS?
      2 011406  001026                          BNE     50$             ;;NOPE
      3 011410  010246                  ASCOUT::MOV     R2,-(SP)        ;;SAVE T
HE OLD CHAR ON THE STACK
      4 011412  011502                          MOV     (R5),R2         ;;GET ST
RING POINTER
      5 011414  010546                  10$:    MOV     R5,-(SP)        ;;SAVE R
ETURN ADDRESS
      6 011416  010205                          MOV     R2,R5           ;;NOW GE
T BYTE POINTER
      7 011420  112502                  20$:    MOVB    (R5)+,R2        ;;NEXT C
HARACTER
      8 011422  003403                          BLE     30$             ;;END OF
 STRING
      9 011424                                  CALL    CHOUTE          ;;OUTPUT
 A CHARACTER
        011424  004767  176034                   JSR    PC,CHOUTE
     10 011430  000773                          BR      20$             ;;CONTIN
UE
     11
     12 011432  001412                  30$:    BEQ     40$             ;;NOT TH
E SPECIAL END
     13 011434  032761  000404  000010          BIT     #TTRSX2!TTRSX1,DDFLAG(R1
) ;;IN AN RSX MODE?
     14 011442  001406                          BEQ     40$             ;;NOPE
     15 011444  052761  000404  000010          BIS     #TTRSX2!TTRSX1,DDFLAG(R1
) ;;YEP, GO INTO
     16 011452  042761  000004  000010          BIC     #TTRSX1,DDFLAG(R1) ;; RS
X EXTRA <LF> MODE
     17 011460  012605                  40$:    MOV     (SP)+,R5        ;;RESTOR
E RETURN ADDRESS
     18 011462  012602                          MOV     (SP)+,R2        ;;RESTOR
E OLD CHAR
     19 011464  005725                  50$:    TST     (R5)+           ;;SKIP A
RGUMENT
     20 011466                                  RETURN  R5              ;; AND R
ETURN
        011466  000205                           RTS    R5
     21
     22                                 .DSABL  LSB
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 166
DEVICE ASSIGNMENT SERVICE

      1                                 .SBTTL  DEVICE ASSIGNMENT SERVICE
      2
      3                                 ;+
      4                                 ; ASN$KB - DEVICE ASSIGNMENT SERVICE FOR
 TERMINALS.
      5                                 ;
      6                                 ;       R0 =  JOB NUMBER OF ASSIGNER TIM
ES 2
      7                                 ;       R1 -> DDB
      8                                 ;
      9                                 ;       ...
     10                                 ;
     11                                 ;       RETURN          (WITH ALL REGIST
ERS PRESERVED)
     12                                 ;-
     13
     14 011470                                  TMPORG  ASNTBL,2
     15
     16 000002  011470'                         .WORD   ASN$KB
     17
     18 000004                                  UNORG
     19
     20 011470                          ASN$KB::                        ;SAME AS
 DEASSIGN
     21
     22                                 .SBTTL  DEVICE DEASSIGNMENT SERVICE
     23
     24                                 ;+
     25                                 ; DEA$KB - DEVICE DEASSIGNMENT SERVICE F
OR TERMINALS.
     26                                 ;
     27                                 ;       R1 -> DDB
     28                                 ;
     29                                 ;       ...
     30                                 ;
     31                                 ;       RETURN          (WITH ALL REGIST
ERS PRESERVED)
     32                                 ;-
     33
     34 011470                                  TMPORG  DEATBL,2
     35
     36 000002  011470'                         .WORD   DEA$KB
     37
     38 000004                                  UNORG
     39
     40 011470  042761  000070  000010  DEA$KB::BIC     #NOECHO!TAPE!TTDDT,DDFLA
G(R1) ;ENSURE NO SPECIAL FLAGS
     41 011476                                  .BR     CLRTIN          ;NOW CLE
AR OUT THE TERMINAL AND EXIT
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 167
CLEAR TERMINAL BUFFER CHAIN(S)/MODE(S)

      1                                 .SBTTL  CLEAR TERMINAL BUFFER CHAIN(S)/M
ODE(S)
      2
      3                                 ;+
      4                                 ; CLRTIN - CLEAR TERMINAL INPUT/MODE(S).
      5                                 ;
      6                                 ;       R1 -> DDB
      7                                 ;
      8                                 ;       CALL    CLRTIN
      9                                 ;-
     10
     11                                 .ENABL  LSB
     12
     13 011476                                  TMPORG  TERDSP,6
     14 000006  011476'                         .WORD   CLRTIN
     15 000010                                  UNORG
     16
     17 011476                          CLRTIN: REGSCR                  ;SAVE AL
L REGISTERS
        011476  004537  000000G                  JSR    R5,@#REGSCR
     18 011502  005061  000032          10$:    CLR     TTMODE(R1)      ;CLEAR M
ODE/PRIV DELIMITER
     19 011506  000411                          BR      20$             ;GO CLEA
R INPUT AND EXIT
     20
     21                                 ;+
     22                                 ; BINEND - CANCEL BINARY INPUT MODE.
     23                                 ;
     24                                 ;       R1 -> DDB
     25                                 ;
     26                                 ;       CALL    BINEND
     27                                 ;-
     28
     29 011510  132761  000001  000032  BINEND::BITB    #TTBIN,TTMODE(R1) ;IS BI
NARY INPUT MODE ON NOW?
     30 011516  001420                          BEQ     30$             ;NO, SIM
PLE EXIT
     31 011520  142761  000001  000032          BICB    #TTBIN,TTMODE(R1) ;YES,
TURN IT OFF
     32 011526                                  .BR     CLRTTI          ;CLEAR I
NPUT AND EXIT
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 168
CLEAR TERMINAL BUFFER CHAIN(S)/MODE(S)

      1                                 ;+
      2                                 ; CLRTTI - CLEAR TERMINAL INPUT.
      3                                 ;
      4                                 ;       R1 -> DDB
      5                                 ;
      6                                 ;       CALL    CLRTTI
      7                                 ;-
      8
      9 011526                          CLRTTI::REGSCR                  ;KEEP RE
GISTERS THE SAME
        011526  004537  000000G                  JSR    R5,@#REGSCR
     10 011532  005061  000030          20$:    CLR     TTDLMC(R1)      ;NO DELI
MITERS AND NO ESCAPE SEQ'S
     11
     12                                 .IF     NE      EKOCTL
     13
     14 011536  012761  020000  000000G         MOV     #40*400,EKOCTW(R1) ;RESE
T ACTIVE FIELD AND PAINT CHARACTER
     15 011544                                  CALLX   CLRBUF,R5,TTINEC+EP ;CLE
AR THE ECHO BUFFER CHAIN
        011544  004537  000000G                  JSR    R5,@#CLRBUF
        011550  000000G                           .WORD TTINEC+EP
     16
     17 011552                          GLOBAL  <EKOCTW,TTINEC>
     18
     19                                 .ENDC   ;EKOCTL
     20
     21 011552                                  CALLX   CLRBUF,R5,TTINPT+EP ;CLE
AR INPUT BUFFER CHAIN
        011552  004537  000000G                  JSR    R5,@#CLRBUF
        011556  000022                            .WORD TTINPT+EP
     22 011560                          30$:    RETURN                  ;NOW EXI
T
        011560  000207                           RTS    PC
     23
     24                                 ;+
     25                                 ; CLRTER - CLEAR OUT THE WHOLE TERMINAL.
     26                                 ;
     27                                 ;       R1 -> DDB
     28                                 ;
     29                                 ;       CALL    CLRTER
     30                                 ;-
     31
     32 011562                                  TMPORG  TERDSP,4
     33 000004  011562'                         .WORD   CLRTER
     34 000006                                  UNORG
     35
     36 011562                          CLRTER: REGSCR                  ;SAVE AL
L REGISTERS
        011562  004537  000000G                  JSR    R5,@#REGSCR
     37 011566                                  CALLX   CLRBUF,R5,DDBUFC+EP ;CLE
AR THE OUTPUT BUFFER CHAIN
        011566  004537  000000G                  JSR    R5,@#CLRBUF
        011572  000012                            .WORD DDBUFC+EP
     38 011574  000742                          BR      10$             ;NOW GO
DO MODE(S) AND INPUT CLEAR
     39
     40                                 .DSABL  LSB
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 169
SPECIAL FUNCTION SERVICE

      1                                 .SBTTL  SPECIAL FUNCTION SERVICE
      2
      3                                 .ENABL  LSB
      4
      5 011576  126167  000002  001006  10$:    CMPB    DDJBNO(R1),JOB  ;IS THE
TERMINAL ATTACHED TO THIS JOB?
      6 011604  001750                          BEQ     CLRTTI          ;YES, CL
EAR ALL INPUT AND EXIT
      7 011606                          20$:    ERROR   DETKEY          ;SAY DET
ACHED, SORRY
        011606  104400G                          .WORD  TRAP+DETKEY
      8
      9                                 ; PROCESS SIMPLE CODES (0, 1, 2, 3, 4, 7
)
     10
     11 011610                          30$:
     12
     13                                 .IF     NE      MULTTY
     14
     15 011610  010104                          MOV     R1,R4           ;SAVE TH
E DDB ADDRESS
     16 011612  011300                          MOV     (R3),R0         ;GET KB
# TO ALTER
     17 011614  001405                          BEQ     40$             ;NONE, U
SE CALLING KB #
     18 011616  006300                          ASL     R0              ;ONE, MA
KE TIMES 2
     19 011620                                  CALL    MULTTC,R5       ; AND CH
ECK IT OUT
        011620  004567  167450                   JSR    R5,MULTTC
     20 011624  000431                            BR    80$             ;ERROR
     21
     22                                 .IF     NE      PK11 ! DC11 ! DL11E ! DM
11BB ! DZ11AB
     23
     24 011626  100767                          BMI     20$             ;ERROR I
F LINE HUNG UP
     25
     26                                 .ENDC   ;PK11 ! DC11 ! DL11E ! DM11BB !
DZ11AB
     27
     28 011630                          40$:
     29
     30                                 .ENDC   ;MULTTY
     31
     32 011630  020227  000007                  CMP     R2,#7           ;IS FUNC
TION CLEAR TYPE AHEAD?
     33 011634  001760                          BEQ     10$             ;YES
     34 011636  006302                          ASL     R2              ;OTHER,
MAKE CODE TIMES 2
     35 011640  001002                          BNE     50$             ;NON-ZER
O (2, 4, 6, 10)
     36 011642  012702  000012                  MOV     #5*2,R2         ;MAKE ZE
RO INTO REAL CANCEL ^O CODE
     37 011646  005742                  50$:    TST     -(R2)           ;CORRECT
 CODE (0, 2, 4, 6, 10)
     38 011650  010200                          MOV     R2,R0           ;MATCH C
ONVENTIONS
     39 011652  000403                          BR      60$             ; AND GO
 DO IT
     40
     41 011654  162700  000016          TTEMT:: SUB     #.TTAPE&377,R0  ;MAKE A
CODE (0, 2, 4, 6, 10)
     42 011660  015101                          MOV     @-(R1),R1       ;GET POI
NTER TO CH #0 DDB
     43 011662  126167  000002  001006  60$:    CMPB    DDJBNO(R1),JOB  ;IS THIS
 TERMINAL ATTACHED TO THIS JOB
     44 011670  001346                          BNE     20$             ;NO, ERR
OR
     45 011672  006300                          ASL     R0              ;YES, SO
 FORM THE
     46 011674  062700  012146'                 ADD     #140$,R0        ; TABLE
POINTER
     47 011700  062001                          ADD     (R0)+,R1        ;INDEX T
O BYTE IN THE DDB
     48 011702  142011                          BICB    (R0)+,(R1)      ;CLEAR S
PECIFIED BIT(S) AND
     49 011704  152011                          BISB    (R0)+,(R1)      ; SET SP
ECIFIED BIT(S)
     50 011706                          70$:    RETURN                  ;NOW EXI
T (TO "RTI3")
        011706  000207                           RTS    PC
     51
     52 011710                          80$:    ERROR   PRVIOL          ;SPECIAL
 FUNCTION ERROR
        011710  104400G                          .WORD  TRAP+PRVIOL
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 170
SPECIAL FUNCTION SERVICE

      1                                 ;+
      2                                 ; SPC$KB - SPECIAL FUNCTION SERVICE FOR
TERMINALS.
      3                                 ;
      4                                 ;       R0 =  UNIT NUMBER TIMES TWO
      5                                 ;       R1 -> DDB/FCB
      6                                 ;       R2 =  SPECIAL FUNCTION CODE
      7                                 ;       R3 -> XRB
      8                                 ;       R4 =  CALLING JOB NUMBER TIMES 2
      9                                 ;       R5 -> (MAPPED) XRB
     10                                 ;
     11                                 ;       ...
     12                                 ;
     13                                 ;       JMP     RTI3
     14                                 ;
     15                                 ;       -OR-
     16                                 ;
     17                                 ;       ERROR   CODE
     18                                 ;
     19                                 ; LEGAL FUNCTIONS ARE:
     20                                 ;
     21                                 ;       0       CANCEL ^O
     22                                 ;       1       SET TAPE
     23                                 ;       2       CLEAR NOECHO AND TAPE
     24                                 ;       3       SET NOECHO
     25                                 ;       4       SET DDT MODE
     26                                 ;       5       FORCE TO KEYBOARD
     27                                 ;       6       BROADCAST TO KEYBOARD
     28                                 ;       7       CLEAR INPUT
     29                                 ;-
     30
     31 011712                                  TMPORG  SPCTBL,2
     32
     33 000002  011712'                         .WORD   SPC$KB
     34
     35 000004                                  UNORG
     36
     37 011712  012746  000000G         SPC$KB::MOV     #RTI3,-(SP)     ;SET OUR
 RETURN ADDRESS
     38 011716  005723                          TST     (R3)+           ;ADVANCE
 TO XRBC IN XRB
     39 011720  020227  000004                  CMP     R2,#4           ;IS FUNC
TION A SIMPLE FUNCTION?
     40 011724  101731                          BLOS    30$             ;YES, CO
DES 0, 1, 2, 3, 4
     41 011726  020227  000007                  CMP     R2,#7           ;MIGHT B
E...
     42 011732  101366                          BHI     80$             ;NO, ERR
OR, FUNCTION CODE > 7
     43 011734  001725                          BEQ     30$             ;YES, SI
MPLE, CODE IS 7
     44                                         ;BLO                    ;YES, CO
MPLEX, CODES 5 AND 6
     45
     46 011736                          GLOBAL  <RTI3>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 171
SPECIAL FUNCTION SERVICE

      1 011736  032777  016000  001012          BIT     #JFPRIV!JFSYS!JFNOPR,@JO
BF ;IS JOB PRIV'D?
      2 011744  001761                          BEQ     80$             ;NO, ERR
OR
      3 011746  116300  000006                  MOVB    XRBLK-XRBC(R3),R0 ;GET K
B LINE #
      4 011752  020027  000104                  CMP     R0,#CNT.KB      ;CHECK F
OR VALIDITY
      5 011756  103354                          BHIS    80$             ;NO GOOD
      6 011760  006300                          ASL     R0              ;NOW IS
LINE # TIMES 2
      7 011762  016001  000000G                 MOV     DEV.KB(R0),R1   ;PICK UP
 THE DDB ADDRESS
      8 011766  132761  000001  000002          BITB    #1,DDJBNO(R1)   ;DISABLE
D?
      9 011774  001344                          BNE     70$             ;YES, CA
LL IT A NOP
     10
     11                                 .IF     NE      PK11 ! DC11 ! DL11E ! DM
11BB ! DZ11AB
     12
     13 011776  005761  000000G                 TST     MODCLK(R1)      ;LINE DI
SABLED?
     14 012002  100741                          BMI     70$             ;A NOP I
F SO...
     15
     16 012004                          GLOBAL  <MODCLK>
     17
     18                                 .ENDC   ;PK11 ! DC11 ! DL11E ! DM11BB !
DZ11AB
     19
     20 012004  011343                          MOV     (R3),-(R3)      ;MOVE BY
TE COUNT TO BUF LENGTH
     21                                         ;CLC                    ;C=0 FRO
M 'ASL' OR 'TST'
     22 012006                                  CALLX   CHKXRB          ;CHECK T
HE PARAMETERS
        012006  004737  000000G                  JSR    PC,@#CHKXRB
     23 012012  052777  000001  001012          BIS     #JFPOST,@JOBF   ;POSTING
 REMAINING COUNT TO USER
     24 012020                                  CALLX   SCRUMX          ;MAP USE
R'S ADDRESS THROUGH KISAR6
        012020  004737  000000G                  JSR    PC,@#SCRUMX
     25 012024  012763  012112' 000020          MOV     #110$,XRBUSE(R3) ;GUESS
THAT IT'S BROADCAST
     26 012032  020227  000006                  CMP     R2,#6           ;GOOD GU
ESS?
     27 012036  001403                          BEQ     90$             ;YES
     28 012040  012763  004724' 000020          MOV     #TTIN09,XRBUSE(R3) ;NO,
IT'S FORCE
     29 012046  005723                  90$:    TST     (R3)+           ;POINT T
O XRBC
     30
     31 012050                          GLOBAL  <DEV.KB>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 172
SPECIAL FUNCTION SERVICE

      1 012050  005723                  100$:   TST     (R3)+           ;ANY MOR
E TO DO?
      2 012052  001426                          BEQ     120$            ;NOPE
      3 012054  010346                          MOV     R3,-(SP)        ;SAVE XR
B POINTER
      4 012056                                  SPLC    5               ;;GO TO
LEVEL 5
        012056  012737  034240  177776           MOV    #PR5,@#PS
      5 012064                                  GETUSR                  ;;GET A
CHARACTER
        012064  111502                           MOVB   (R5),R2
        012066  005205                           INC    R5
      6 012070                                  CALL    @XRBUSE-XRLOC(R3) ;; AND
 DO OUR THING WITH IT
        012070  004773  000014                   JSR    PC,@XRBUSE-XRLOC(R3)
      7 012074                                  SPLC    3               ;;BACK T
O LEVEL 3 NOW
        012074  012737  034140  177776           MOV    #PR3,@#PS
      8 012102  012603                          MOV     (SP)+,R3        ;RESTORE
 XRB POINTER
      9 012104  005213                          INC     (R3)            ;BUMP XR
LOC
     10 012106  005343                          DEC     -(R3)           ; AND ON
E LESS BYTE IN XRBC
     11 012110  000757                          BR      100$            ;THEN AR
OUND AGAIN...
     12
     13 012112                          110$:   CALL    CHKFRE          ;;CHECK
FOR FREE BUFFERS
        012112  004767  176000                   JSR    PC,CHKFRE
     14 012116  103011                          BCC     130$            ;;O.K.,
SO DO IT
     15 012120                                  SPLC    3               ;;NO GO,
 DROP TO LEVEL 3
        012120  012737  034140  177776           MOV    #PR3,@#PS
     16 012126  022626                          CMP     (SP)+,(SP)+     ;POP RET
URN ADDRESS AND XRB POINTER
     17 012130  052761  000001  000010  120$:   BIS     #TTLFRC,DDFLAG(R1) ;INDI
CATE LAST WAS FORCE/BROADCAST
     18 012136                                  CALLR   CHKLIN          ;EXIT CH
ECKING FOR STARTING A LINE
        012136  000167  177152                   JMP    CHKLIN
     19
     20 012142                          130$:   CALLR   CHOUT           ;;DO THE
 BROADCAST
        012142  000167  175336                   JMP    CHOUT
     21
     22                                 ; TABLE FOR SIMPLE SPECIAL FUNCTIONS
     23
     24 012146  000010                  140$:   .WORD   DDFLAG          ;0 - SET
 TAPE MODE
     25 012150     000     020                  .BYTE   0,TAPE          ;
CLEAR NOTHING; SET TAPE MODE
     26 012152                          .ASSUME <.TTAPE&377>    EQ      <<.TTAPE
&377>+<0*2>>
     27
     28 012152  000010                          .WORD   DDFLAG          ;1 - ENA
BLE ECHO, CANCEL TAPE MODE
     29 012154     060     000                  .BYTE   NOECHO!TAPE,0   ;
CLEAR NO ECHO, TAPE; SET NOTHING
     30 012156                          .ASSUME <.TTECH&377>    EQ      <<.TTAPE
&377>+<1*2>>
     31
     32 012156  000010                          .WORD   DDFLAG          ;2 - DIS
ABLE ECHO
     33 012160     000     040                  .BYTE   0,NOECHO        ;
CLEAR NOTHING; SET NO ECHO
     34 012162                          .ASSUME <.TTNCH&377>    EQ      <<.TTAPE
&377>+<2*2>>
     35
     36 012162  000010                          .WORD   DDFLAG          ;3 - PRE
SET DDT-SUBMODE
     37 012164     000     010                  .BYTE   0,TTDDT         ;
CLEAR NOTHING; SET DDT-SUBMODE
     38 012166                          .ASSUME <.TTDDT&377>    EQ      <<.TTAPE
&377>+<3*2>>
     39
     40 012166  000001                          .WORD   DDSTS           ;4 - CAN
CEL CONTROL/O
     41 012170     200     000                  .BYTE   DDSTAT/400,0    ;
CLEAR NO OUTPUT; SET NOTHING
     42 012172                          .ASSUME <.TTRST&377>    EQ      <<.TTAPE
&377>+<4*2>>
     43
     44                                 .DSABL  LSB
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 173
SPECIAL FUNCTION SERVICE

      1                                 ;+
      2                                 ; CORPOS - CORRECT HORIZONTAL POSITION F
OR TABS.
      3                                 ;-
      4
      5 012172  105361  000020          CORPOS::DECB    DDHORZ(R1)      ;;CORREC
T HORIZONTAL POSITION
      6 012176                                  RETURN                  ;; AND E
XIT
        012176  000207                           RTS    PC
      7
      8                                 .SBTTL  CHECK FOR ALLOWING ANOTHER JOB
      9
     10                                 ;+
     11                                 ; JOBCHK - CHECK IF ANOTHER JOB IS ALLOW
ED.
     12                                 ;
     13                                 ;       R0 =  KEYBOARD NUMBER TIMES 2
(OR 100001)
     14                                 ;
     15                                 ;       CALL    JOBCHK
     16                                 ;
     17                                 ;       R3 -> FREE SLOT IN "JOBTBL" +2
     18                                 ;
     19                                 ;       IF C=1 THEN A SLOT WAS FOUND
     20                                 ;       IF C=0 THEN NO SLOT OR NEW JOBS
NOT ALLOWED
     21                                 ;-
     22
     23 012200  012703  000002G         JOBCHK::MOV     #JOBTBL+2,R3    ;;LOOK F
OR A JOB NUMBER
     24 012204  021327  177777          10$:    CMP     (R3),#-1        ;;END OF
 JOBTBL (-1) ?
     25 012210  001417                          BEQ     30$             ;;YES, S
AY SORRY... (C=0 SINCE BEQ=>BHIS=BCC)
     26 012212  005723                          TST     (R3)+           ;;NO, IS
 THIS SLOT FREE?
     27 012214  001373                          BNE     10$             ;;CONTIN
UE LOOKING FOR A FREE SLOT
     28 012216  020027  000000                  CMP     R0,#0*2         ;;IS THI
S THE "CONSOLE TERMINAL"?
     29         012220'                 ..CTZ.  ==      .-2     ;**PATCH** 0 IF
KB0: CAN ALWAYS LOG IN, -1 IF NOT
     30 012222  001407                          BEQ     20$             ;;IT IS
CONSOLE, SKIP NEXT CHECK
     31 012224  020027  177777                  CMP     R0,#-1          ;;IS THI
S THE TERMINAL THAT CAN ALWAYS LOG IN?
     32         012226'                 ..CTY.  ==      .-2     ;**PATCH** ALWAY
S LOG-IN KB # * 2 (OR -1 FOR NONE)
     33 012230  001404                          BEQ     20$             ;;YES, S
KIP NEXT CHECK
     34 012232  126767  000000G 000000G         CMPB    JOBCNT,MAXJOB   ;;SHOULD
 WE ALLOW ANOTHER JOB?
     35 012240  103003                          BHIS    30$             ;;NO, AL
READY OVER # OF ALLOWED LOGINS
     36 012242  126767  000000G 000000G 20$:    CMPB    JOBCNT,MAXCNT   ;;IS ANO
THER JOB POSSIBLE?
     37                                         ;BHIS   30$             ;;NO, NE
VER ALLOW MORE THAN 'MAXCNT'
     38                                         ;BLO    30$             ;;YES, I
T IS ALLOWABLE
     39 012250                          30$:    RETURN                  ;;EXIT,
C=1 MEANS ALLOW THIS JOB
        012250  000207                           RTS    PC
     40
     41                                 .SBTTL  CHECK FOR ALLOWED INCOMING ESCAP
E SEQUENCES
     42
     43                                 ;+
     44                                 ; CHKESC - CHECK FOR ALLOWED INCOMING ES
CAPE SEQUENCE.
     45                                 ;-
     46
     47 012252  032761  000100  000034  CHKESC::BIT     #TTESCI,TTCHAR(R1) ;;ARE
 THEY ALLOWED?
     48 012260  001405                          BEQ     10$             ;;NO, FI
RST EXIT
     49 012262  132761  000002  000032          BITB    #TTTECO,TTMODE(R1) ;;YEP
, BUT IS THIS TECO??
     50 012270  001001                          BNE     10$             ;;FIRST
EXIT IF TECO...
     51 012272  005725                          TST     (R5)+           ;;ELSE A
LLOWED, TAKE 2ND EXIT
     52 012274                          10$:    RETURN  R5              ;;EXIT
        012274  000205                           RTS    R5
     53
     54 012276                          GLOBAL  <JOBTBL,JOBCNT,MAXJOB,MAXCNT>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 174
RUN READER AND XON TERMINAL INPUT

      1                                 .SBTTL  RUN READER AND XON TERMINAL INPU
T
      2
      3                                 ;+
      4                                 ;       R0 =  LINE NUMBER TIMES 2
      5                                 ;       R1 -> DDB
      6                                 ;       PRIORITY IS PR5
      7                                 ;
      8                                 ;       CALL    XONINP          TO ALWAY
S ENABLE INPUT
      9                                 ;       CALL    ASKINP          TO CONDI
TIONALLY ENABLE INPUT
     10                                 ;
     11                                 ;       R3 =  UNDEFINED
     12                                 ;       R4 =  UNDEFINED
     13                                 ;-
     14
     15 012276  052761  040000  000010  XONINP::BIS     #TTXOFF,DDFLAG(R1) ;;SAY
 AN ENABLE IS DESIRED
     16 012304                          ASKINP::
     17
     18                                 .IF     NE      KB2741
     19
     20                                         TSTB    DDFLAG(R1)      ;;2741?
     21                                         BMI     10$             ;;YES, S
IMPLY ASK FOR AN INTERRUPT
     22                                 .ASSUME TT2741  EQ      200
     23
     24                                 .ENDC   ;KB2741
     25
     26 012304  032761  040000  000010          BIT     #TTXOFF,DDFLAG(R1) ;;WAS
 AN XOFF SENT (OR FORCED ENABLE)?
     27 012312  001414                          BEQ     30$             ;;NO, SO
 DO NOTHING
     28 012314  032761  010000  000034          BIT     #TTXON,TTCHAR(R1) ;;YES,
 IS FEATURE REALLY THERE (FORCE CASE)?
     29 012322  001405                          BEQ     20$             ;;NOPE,
JUST CLEAR THE BIT
     30 012324                                  CALL    RSXCHR,R5,221   ;;YEP, O
UTPUT A (PARITY) XON
        012324  004567  000036                   JSR    R5,RSXCHR
        012330  000221                            .WORD 221
     31 012332                          10$:    CALL    SRTLIN          ;;STARTU
P THIS LINE
        012332  004767  176764                   JSR    PC,SRTLIN
     32 012336  042761  040000  000010  20$:    BIC     #TTXOFF,DDFLAG(R1) ;;SAY
 WE CANCELED THE XOFF
     33 012344                          30$:    CALLR   RDRRUN          ;;EXIT T
RYING TO RUN THAT READER...
        012344  000167  173200                   JMP    RDRRUN
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 175
RSX ORIENTED CHARACTER ROUTINES

      1                                 .SBTTL  RSX ORIENTED CHARACTER ROUTINES
      2
      3                                 ;+
      4                                 ;       R0 =  LINE NUMBER TIMES 2
      5                                 ;       R1 -> DDB
      6                                 ;       PRIORITY IS PR5
      7                                 ;
      8                                 ;       CALL    RSXCR
      9                                 ;
     10                                 ;       R4 =  UNDEFINED
     11                                 ;-
     12
     13 012350                          RSXCR:: CALL    RSXCHR,R5,015   ;;OUTPUT
 A <CR>
        012350  004567  000012                   JSR    R5,RSXCHR
        012354  000015                            .WORD 015
     14 012356  052761  000404  000010          BIS     #TTRSX2!TTRSX1,DDFLAG(R1
) ;;SAY A <LF> IS NOW NEEDED
     15 012364                                  RETURN                  ;;EXIT
        012364  000207                           RTS    PC
     16
     17                                 ;+
     18                                 ;       R0 =  LINE NUMBER TIMES 2
     19                                 ;       R1 -> DDB
     20                                 ;       PRIORITY IS PR5
     21                                 ;
     22                                 ;       CALL    RSXCHR,R5,<CHARACTER>
     23                                 ;
     24                                 ;       R4 =  UNDEFINED
     25                                 ;-
     26
     27 012366  010246                  RSXCHR::MOV     R2,-(SP)        ;;SAVE R
2
     28 012370  010346                          MOV     R3,-(SP)        ;; AND R
3
     29 012372  012502                          MOV     (R5)+,R2        ;;GET CH
ARACTER TO OUTPUT
     30 012374                                  CALL    CHOUT           ;; AND G
O OUTPUT IT
        012374  004767  175104                   JSR    PC,CHOUT
     31 012400                                  CALL    CHKLIN          ;;  THEN
 TRY TO START LINE
        012400  004767  176710                   JSR    PC,CHKLIN
     32 012404  012603                          MOV     (SP)+,R3        ;;RESTOR
E R3
     33 012406  012602                          MOV     (SP)+,R2        ;; AND R
2
     34 012410                                  RETURN  R5              ;;  THEN
 EXIT
        012410  000205                           RTS    R5
     35
     36                                 ;+
     37                                 ;       CALL    RSXEAT,R4,<CHARACTER>
     38                                 ;-
     39
     40 012412  005713                  RSXEAT::TST     (R3)            ;;ANY LE
ADING CHARACTER TO CHECK?
     41 012414  001406                          BEQ     10$             ;;NO
     42 012416  121514                          CMPB    (R5),(R4)       ;;YES, I
S LEADING CHARACTER CORRECT?
     43 012420  001004                          BNE     10$             ;;NOPE,
DON'T EAT ANYTHING
     44 012422  005205                          INC     R5              ;;YEP, A
DVANCE POINTER BEYOND IT
     45 012424  005263  000002                  INC     XRLOC-XRBC(R3)  ;; AND A
DVANCE THE XRB POINTER
     46 012430  005313                          DEC     (R3)            ;;  AND
SAY ONE LESS CHARACTER TO DO
     47 012432  005724                  10$:    TST     (R4)+           ;;SKIP T
HE CALLING ARGUMENT
     48 012434                                  RETURN  R4              ;; AND E
XIT
        012434  000204                           RTS    R4
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 176
CHECK FOR RSX MODE DESIRED/CURRENT

      1                                 .SBTTL  CHECK FOR RSX MODE DESIRED/CURRE
NT
      2
      3                                 ;+
      4                                 ;       R0 =  LINE NUMBER TIMES 2
      5                                 ;       R1 -> DDB
      6                                 ;       R3 -> XRB @ XRBC
      7                                 ;
      8                                 ;       CALL    CHKRSX,R5
      9                                 ;         --NORMAL MODE--
     10                                 ;         --RSX MODE & ALREADY IN RSX MO
DE--
     11                                 ;         --RSX MODE & NOW INTO IT (ALSO
 PR5)--
     12                                 ;
     13                                 ;       R4 =  UNDEFINED
     14                                 ;-
     15
     16 012436                          CHKRSX::SPLC    5               ;;TO LEV
EL 5 FOR SAFETY
        012436  012737  034240  177776           MOV    #PR5,@#PS
     17 012444  032763  001000  000012          BIT     #TO.RSX,XRMOD-XRBC(R3) ;
;DESIRE RSX MODE?
     18 012452                          .ASSUME TI.RSX  EQ      TO.RSX
     19 012452  001014                          BNE     20$             ;;YES
     20 012454  042763  007000  000012          BIC     #TO.SUF!TO.PRE!TO.RSX,XR
MOD-XRBC(R3) ;;NO, CLEAR THOSE BITS
     21 012462                          .ASSUME TI.RX2  EQ      TO.SUF
     22 012462                          .ASSUME TI.ISB  EQ      TO.PRE
     23 012462                          .ASSUME TI.RSX  EQ      TO.RSX
     24 012462                                  CALL    CHKDLF          ;;CHECK
FOR NEEDING A <LF>
        012462  004767  175666                   JSR    PC,CHKDLF
     25 012466  042761  000404  000010          BIC     #TTRSX2!TTRSX1,DDFLAG(R1
) ;;GET OUT OF RSX MODE
     26 012474                          10$:    SPLC    3               ;;BACK T
O LEVEL 3 AGAIN
        012474  012737  034140  177776           MOV    #PR3,@#PS
     27 012502                                  RETURN  R5              ;EXIT
        012502  000205                           RTS    R5
     28
     29 012504  005725                  20$:    TST     (R5)+           ;;SAY RS
X MODE AT LEAST DESIRED
     30 012506  032761  000404  000010          BIT     #TTRSX2!TTRSX1,DDFLAG(R1
) ;;ALREADY IN RSX MODE?
     31 012514  001367                          BNE     10$             ;;YES, T
AKE 2ND EXIT
     32 012516  005725                          TST     (R5)+           ;;NO, WE
'LL TAKE THE 3RD EXIT
     33 012520  105261  000011                  INCB    DDFLAG+1(R1)    ;;GO INT
O RSX EXTRA <LF> MODE
     34 012524                          .ASSUME TTRSX2  EQ      400
     35 012524                                  RETURN  R5              ;;EXIT S
TAYING AT PR5
        012524  000205                           RTS    R5
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 177
CALL TERMINAL SERVICE PAR6 MAPPED SUBROUTINES

      1                                 .SBTTL  CALL TERMINAL SERVICE PAR6 MAPPE
D SUBROUTINES
      2
      3                                 ;+
      4                                 ;       CALL    MAPPED,R5,<SUBROUTINE>
      5                                 ;-
      6
      7 012526  013746  172354          MAPPED::MOV     @#KISAR6,-(SP)  ;;SAVE C
ALLING PAR6 VALUE
      8 012532  013737  172352  172354          MOV     @#KISAR5,@#KISAR6 ;;MOVE
 TERMINAL SERVICE PAR5 INTO PAR6
      9 012540  062737  000200  172354          ADD     #200,@#KISAR6   ;; AND M
AP REST OF TERMINAL SERVICE
     10 012546  012546                          MOV     (R5)+,-(SP)     ;;STACK
THE SUBROUTINE ADDRESS
     11 012550  016646  000004                  MOV     4(SP),-(SP)     ;;RE-SAV
E SAVED R5 (FROM 'JSR R5,')
     12 012554  010566  000006                  MOV     R5,6(SP)        ;;SET TH
E SUBROUTINE'S RETURN ADDRESS
     13 012560  012605                          MOV     (SP)+,R5        ;;RESTOR
E R5
     14 012562                                  CALL    @(SP)+          ;;CALL T
HAT SUBROUTINE
        012562  004736                           JSR    PC,@(SP)+
     15 012564  012637  172354                  MOV     (SP)+,@#KISAR6  ;;RESTOR
E CALLING PAR6 VALUE
     16 012570                                  RETURN                  ;; AND E
XIT
        012570  000207                           RTS    PC
     17
     18         000004                  MAPORA  =       4               ;OFFSET
TO RETURN ADDRESS FOR MAPPED CALL
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 178
CHARACTER LISTS AND DISPATCH TABLES

      1                                 .SBTTL  CHARACTER LISTS AND DISPATCH TAB
LES
      2
      3 012572  000002                  TTICHL::.WORD   'B-100          ;CONTROL
/B (START OF MESSAGE)
      4 012574  000003                          .WORD   'C-100          ;CONTROL
/C (PANIC)
      5 012576  000004                          .WORD   'D-100          ;CONTROL
/D (EOT)
      6 012600  000007                          .WORD   'G-100          ;CONTROL
/G (BELL)
      7 012602  000010                          .WORD   010             ;BACKSPA
CE
      8 012604  000011                          .WORD   011             ;TAB
      9 012606  000012                          .WORD   012             ;LINE FE
ED
     10 012610  000014                          .WORD   014             ;FORM FE
ED
     11 012612  000015                          .WORD   015             ;CARRIAG
E RETURN
     12 012614  000017                          .WORD   'O-100          ;CONTROL
/O (OUTPUT TOGGLE)
     13 012616  000021                          .WORD   'Q-100          ;CONTROL
/Q (XON)
     14 012620  000022                          .WORD   'R-100          ;CONTROL
/R (RETYPE)
     15 012622  000023                          .WORD   'S-100          ;CONTROL
/S (XOFF)
     16 012624  000024                          .WORD   'T-100          ;CONTROL
/T (SYSTAT)
     17 012626  000025                          .WORD   'U-100          ;CONTROL
/U (LINE DELETE)
     18 012630  000032                          .WORD   'Z-100          ;CONTROL
/Z (EOF)
     19 012632  000033                          .WORD   033             ;ALTMODE
 (ESCAPE)
     20 012634  000175                          .WORD   175             ;ALTERNA
TE ALTMODE
     21 012636  000176                          .WORD   176             ;ALTERNA
TE ALTMODE
     22 012640  000177                          .WORD   177             ;RUBOUT
     23
     24 012642  011014'                 TTIDSP::.WORD   TI$CB           ;CONTROL
/B
     25 012644  006452'                         .WORD   TI$CC           ;CONTROL
/C
     26 012646  011054'                         .WORD   TI$EOT          ;CONTROL
/D
     27 012650  010766'                         .WORD   TI$CCG          ;CONTROL
/G
     28 012652  007154'                         .WORD   TI$BS           ;BACKSPA
CE
     29 012654  005710'                         .WORD   TI$TAB          ;TAB
     30 012656  006176'                         .WORD   TI$LF           ;LINE FE
ED
     31 012660  011164'                         .WORD   TI$FF           ;FORM FE
ED
     32 012662  006014'                         .WORD   TI$CR           ;CARRIAG
E RETURN
     33 012664  005736'                         .WORD   TI$CO           ;CONTROL
/O
     34 012666  011236'                         .WORD   TI$CCQ          ;XON
     35 012670  010634'                         .WORD   TI$CRR          ;CONTROL
/R
     36 012672  011236'                         .WORD   TI$CCS          ;XOFF
     37 012674  010634'                         .WORD   TI$CTT          ;CONTROL
/T
     38 012676  007074'                         .WORD   TI$CU           ;CONTROL
/U
     39 012700  005770'                         .WORD   TI$CZ           ;CONTROL
/Z
     40 012702  011106'                         .WORD   TI$ALT          ;ALTMODE
 (ESCAPE)
     41 012704  011132'                         .WORD   TI$AL1          ;ALT ALT
     42 012706  011132'                         .WORD   TI$AL1          ;ALT ALT
     43 012710  007240'                         .WORD   TI$RO           ;RUBOUT
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 179
CHARACTER LISTS AND DISPATCH TABLES

      1 012712  000037                  TTOCHL::.WORD   037             ;ERASE A
LL (CRT)
      2 012714  000036                          .WORD   036             ;ERASE L
INE (CRT)
      3 012716  000035                          .WORD   035             ;HOME (C
RT)
      4 012720  000032                          .WORD   032             ;UP ONE
(CRT)
      5 012722  000030                          .WORD   030             ;CURSOR
RIGHT (CRT)
      6 012724  000016                          .WORD   016             ;DIRECT
CURSOR ADDRESS (CRT)
      7 012726  000015                  TTXCHL::.WORD   015             ;CARRIAG
E RETURN
      8 012730  000014                          .WORD   014             ;FORM FE
ED
      9 012732  000013                          .WORD   013             ;VERITCA
L TAB
     10 012734  000012                          .WORD   012             ;LINE FE
ED
     11 012736  000011                          .WORD   011             ;TAB
     12 012740  000010                          .WORD   010             ;BACKSPA
CE
     13 012742  177633                          .WORD   177633          ;ESCAPE
SEQUENCE
     14 012744  177600                          .WORD   177600          ; THE EN
D...
     15
     16 012746  010552'                 TTODSP::.WORD   TO$CUR          ;ERASE A
LL
     17 012750  010572'                         .WORD   TO$DCA          ;ERASE L
INE
     18 012752  010552'                         .WORD   TO$CUR          ;HOME
     19 012754  010552'                         .WORD   TO$CUR          ;UP ONE
     20 012756  010572'                         .WORD   TO$DCA          ;CURSOR
RIGHT
     21 012760  010572'                         .WORD   TO$DCA          ;DIRECT
ADDRESS
     22 012762  010404'                         .WORD   TO$CR           ;CR
     23 012764  010146'                         .WORD   TO$FF           ;FF
     24 012766  010200'                         .WORD   TO$VT           ;VT
     25 012770  010536'                         .WORD   TO$LF           ;LF
     26 012772  010270'                         .WORD   TO$TAB          ;TAB
     27 012774  010626'                         .WORD   TO$BS           ;BACKSPA
CE
     28 012776  010616'                         .WORD   TO$ESC          ;ESCAPE
SEQUENCE
     29 013000  007766'                         .WORD   CHROUT          ;PARITY
NULL
     30
     31 013002     233                  TTDLIM::.BYTE   233             ;ESCAPE
SEQUENCE
     32 013003     177                          .BYTE   177             ;RUBOUT
     33 013004     033                          .BYTE   033             ;ESCAPE
     34 013005     032                          .BYTE   032             ;CTRL/Z
     35 013006     025                          .BYTE   025             ;CTRL/U
     36 013007     014                          .BYTE   014             ;FORM FE
ED
     37 013010     012                          .BYTE   012             ;LINE FE
ED
     38 013011     004                          .BYTE   004             ;EOT
     39 013012     003                          .BYTE   003             ;CTRL/C
     40 013013     000                          .BYTE   000             ;END OF
LIST
     41
     42 013014     002     131          ESCLST::.BYTE   2,'Y            ;<ESC>Y<
Y-ADDR><X-ADDR>
     43 013016     001     117                  .BYTE   1,'O            ;<ESC>O<
CHAR>
     44 013020     001     077                  .BYTE   1,'?            ;<ESC>?<
CHAR>
     45 013022     001     120                  .BYTE   1,'P            ;<ESC>P<
CHAR>
     46         013022'                 ..ESCP  ==      .-2     ;**PATCH** 0 (BY
TE) TO DISABLE <ESC><P> GRAMMAR
     47 013024     000                          .BYTE   0
     48                                         .EVEN
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 180
CHARACTER LISTS AND DISPATCH TABLES

      1                                 .IF     NE      KB2741
      2
      3                                 .SBTTL  2741 CODE CONVERSION ROUTINES
      4
      5                                 ;+
      6                                 ; CVASCD - CONVERT ASCII TO 2741 CODE.
      7                                 ; CVCDAS - CONVERT 2741 CODE TO ASCII.
      8                                 ;
      9                                 ;       R1 -> DDB
     10                                 ;       R2 =  CHARACTER
     11                                 ;
     12                                 ;       CALL    MAPPED,R5,CVASCD
     13                                 ;       CALL    MAPPED,R5,CVCDAS
     14                                 ;
     15                                 ;       R3 =  RANDOM
     16                                 ;       R4 =  2741 STATUS
     17                                 ;-
     18
     19                                         TMPORG  TTMAPD
     20
     21                                 CVASCD::TST     (PC)+           ;;SET C=
0 AND SKIP THE 'SEC'
     22                                 CVCDAS::SEC                     ;;SET C=
1
     23                                         MOV     ST2741(R1),R3   ;;GET 27
41 STATUS WORD
     24                                         MOV     R3,R4           ;; AND A
NOTHER COPY
     25                                         BIC     #^C<TTCODE>,R3  ;;CLEAR
OUT ALL BUT CODE INDEX
     26                                         MOV     XL2741(R3),R3   ;;GET XL
ATE TABLE ADDRESS
     27                                         BCS     60$             ;;BRANCH
 IF 2741 --> ASCII
     28
     29                                 GLOBAL  <ST2741>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 181
CHARACTER LISTS AND DISPATCH TABLES

      1                                 .SBTTL  ASCII TO 2741 CODE CONVERTER
      2
      3                                 10$:    BIC     #^C<177>,R2     ;;ENSURE
 GOOD 7 BIT ASCII
      4                                         ADD     R2,R3           ;;OFFSET
 INTO TABLE BY ASCII CODE
      5                                         BIT     R4,#TTOCVL      ;;OUTPUT
 CASE VALID ?
      6                                         BNE     20$             ;;YES, S
O NO CASE SHIFT YET
      7                                         BIC     #TTUC.O,R4      ;;NO, SO
 FORCE LOWER CASE ON OUTPUT
      8                                         CALL    50$,R5,037+TTOCVL ;;SEND
 THE LOWER CASE SHIFT AND MAKE OUTPUT CASE VALID
      9                                 20$:    MOVB    128.(R3),-(SP)  ;;STACK
2741 CHARACTER
     10                                         BPL     40$             ;;IF CAS
E DOESN'T MATTER, QUIT NOW
     11                                         BIT     #100,(SP)       ;;UPPER
CASE REQUIRED ?
     12                                         BNE     30$             ;;YES, D
O UPPER CASE CHECKS
     13                                         BIT     R4,#TTUC.O      ;;IN LOW
ER CASE NOW (FOR OUTPUT) ?
     14                                         BEQ     40$             ;;YES, S
O NO CASE SHIFT REQUIRED
     15                                         CALL    50$,R5,037+TTUC.O ;;NO,
SO SEND THE LOWER CASE SHIFTER AND SET LOWER CASE
     16                                         BR      40$             ;;RETURN
 2741 CHARACTER
     17
     18                                 30$:    BIT     R4,#TTUC.O      ;;IN UPP
ER CASE FOR OUTPUT NOW ?
     19                                         BNE     40$             ;;YES, S
O NO FURTHER DIDDLING
     20                                         CALL    50$,R5,034+TTUC.O ;;NO,
SO SEND UPPER CASE SHIFTER AND NOTE UPPER CASE
     21                                 40$:    MOV     (SP)+,R2        ;;GET BA
CK THE 2741 CHARACTER
     22                                         BIC     #^C<77>,R2      ;;ENSURE
 6 BITS
     23                                         BR      110$            ;;CLEAN
UP AND QUIT
     24
     25                                 50$:    MOV     (R5)+,R2        ;;GET CA
SE SHIFTER AND FLAG TO FLOP
     26                                         MOV     R3,-(SP)        ;;STORE
WILL CLOBBER R3
     27                                         MOV     R4,-(SP)        ;; AND R
4
     28                                         CALLX   STORE,R5,DDBUFC+FP ;;STO
RE THE CASE SHIFT IN OUTPUT BUFFER
     29                                         MOV     (SP)+,R4        ;;GET BA
CK 2741 STATUS
     30                                         MOV     (SP)+,R3        ;; AND C
ONVERSION TABLE POINTER
     31                                         CLRB    R2              ;;LEAVE
ONLY THE FLAG TO FLOP
     32                                         XOR     R2,R4           ;; AND F
LOP IT
     33                                         RETURN  R5              ;;SO MUC
H FOR CASE SHIFTS
     34
     35                                 GLOBAL  <ST2741>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 182
CHARACTER LISTS AND DISPATCH TABLES

      1                                 .SBTTL  2741 CODE TO ASCII CONVERTER
      2
      3                                 60$:    BIC     #^C<77>,R2      ;;ENSURE
 6 BIT 2741 CODE
      4                                         BIT     R4,#TTUC.I      ;;IN UPP
ER CASE NOW ?
      5                                         BNE     70$             ;;YES, S
O WE HAVE CORRECT TABLE BASE
      6                                         ADD     #64.,R3         ;;BUMP T
O LOWER CASE TABLE
      7                                 70$:    ADD     R2,R3           ;;ADD 27
41 CHARACTER TO TABLE BASE
      8                                         MOVB    (R3),R2         ;;PICKUP
 ASCII CHARACTER
      9                                         BPL     110$            ;;IF NOT
HING SPECIAL, QUIT NOW
     10                                         BIC     #^C<177>,R2     ;;CLEAR
OUT THE SPECIAL FLAG
     11                                         ASR     R2              ;;CASE S
HIFT ?
     12                                         BCC     80$             ;;NOPE
     13                                         BIC     #TTUC.I,R4      ;;YES, G
UESS AT L.C. SHIFT
     14                                         ASR     R2              ;;MOVE C
ASE TO CARRY
     15                                         ADC     R4              ;; AND S
ET PROPER CASE
     16                                         ;CLR    R2              ;;R2 IS
ZERO BY NOW (RETURN NULL)
     17                                         BR      110$            ;;IMMEDI
ATELY IF NOT SOONER
     18
     19                                 80$:    BIC     #TTOCVL,R4      ;;NOTE O
UTPUT CASE INVALID
     20                                         CMP     R2,#015         ;;WERE I
T A CR = LC RETURN ?
     21                                         BEQ     90$             ;;TWER
     22                                         CMP     R2,#012         ;;HOW AB
OUT LF = UC RETURN
     23                                         BNE     100$            ;;NEITHE
R
     24                                 90$:    BIS     #TTCRIN,R4      ;;NOTE T
HAT WE'VE SEEN CR OR LF
     25                                         MOVB    DDHORC(R1),R3   ;;GET MA
X HORIZONTAL POSITION
     26                                         SUB     DDHORZ(R1),R3   ;;NOW FI
ND THE DIFFERENCE
     27                                         ADD     #TTSEQ1,R3      ;;ROUND
UP THE VALUE
     28                                         BIC     #^C<TTSEQC>,R3  ;; AND T
RIM THE VALUE
     29                                         BIS     R3,R4           ;;OR IN
THE FILL VALUE
     30                                         BR      110$            ;; AND P
ASS IT ALONG
     31
     32                                 100$:   BIS     #TTSTAT,R4      ;;SAY KB
 LOCKED & NOT <EOA> OR <EOT> YET
     33                                         BIT     #TTCRIN,R4      ;;HAVE W
E SEEN A CR
     34                                         BEQ     110$            ;;NO, SO
 HE HIT ATTENTION
     35                                         BIC     #TTCRIN,R4      ;;NORMAL
 CR,EOT SEQUENCE
     36                                         MOV     #SRTLIN,MAPORA(SP) ;;GET
 TRANSMIT INTERRUPT
     37
     38                                 110$:   MOV     R4,ST2741(R1)   ;;RESTOR
E UPDATED 2741 STATUS
     39                                         RETURN                  ;; AND R
ETURN SMILING
     40
     41                                         UNORG
     42
     43                                 GLOBAL  <ST2741>
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 183
CHARACTER LISTS AND DISPATCH TABLES

      1                                 .SBTTL  CHECK FOR UNLOCKING 2741 KEYBOAR
D
      2
      3                                 ;+
      4                                 ; CHKLCK - CHECK FOR UNLOCKING 2741 KEYB
OARD.
      5                                 ;
      6                                 ;       R1 -> DDB
      7                                 ;
      8                                 ;       CALL    CHKLCK,R5
      9                                 ;
     10                                 ;       R4 =  UNDEFINED
     11                                 ;
     12                                 ;       FIRST EXIT MEANS LOCKED STATE IS
 O.K.
     13                                 ;       SECOND EXIT MEANS KEYBOARD MUST
BE UNLOCKED
     14                                 ;-
     15
     16                                 CHKLCK::MOVB    DDJBNO(R1),R4   ;;GET TH
E JOB NUMBER IF ANY
     17                                         BIC     #1,R4           ;;ENSURE
 WE COVER THE DISABLED CASE...
     18                                         BEQ     10$             ;;IF NO
JOB THEN ALWAYS UNLOCK THE KB
     19                                         TSTB    DDCNT(R1)       ;;JUST A
SSIGNED?
     20                                         BEQ     10$             ;;IF SO,
 THEN TURN AROUND LINE
     21                                         BIT     JBSTAT(R4),JBWAIT(R4) ;;
IF A JOB, IS IT RUNNABLE?
     22                                         BNE     20$             ;;IF RUN
NABLE THEN LEAVE KB ALONE
     23                                         BIT     #JS.KB,JBWAIT(R4) ;;IF N
ON-RUNNABLE, WOULD AN UNLOCK HELP?
     24                                         BEQ     20$             ;;NOPE,
SO LEAVE KB ALONE
     25                                 10$:    TST     (R5)+           ;;SECOND
 EXIT, UNLOCK THE KEYBOARD
     26                                 20$:    RETURN  R5              ;;NOW EX
IT
     27
     28                                 GLOBAL  <JBSTAT,JBWAIT>
     29
     30                                 .ENDC   ;KB2741
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 184
CHARACTER LISTS AND DISPATCH TABLES

      1                                 .IF     NE      KBCORR
      2
      3                                 $$$$$$  =       .
      4                                         TMPORG  TTDVR,XL2741-TTDVR+<KBCO
RR-1*2>
      5                                         .WORD   CR2ASC
      6                                         TMPORG  TTDVR,CD2741-TTDVR+<KBCO
RR-1*2>
      7                                         .WORD   C029.0
      8                                         TMPORG  TTDVR,$$$$$$-TTDVR
      9
     10                                 C029.0::.ASCIZ  <15>"C029"<15><12>
     11
     12                                 .SBTTL
     13                                 .SBTTL  CORRESPONDENCE CODE TO ASCII CON
VERSION
     14                                 .SBTTL
     15                                 .SBTTL    IBM SELECTRIC CODE, 1167029 PR
INT ELEMENT AND KEYBOARD
     16                                 .SBTTL
     17                                 .SBTTL    UPPER CASE
     18
     19                                 ;                        CORR  2741
ASCII    CORR  2741     ASCII
     20                                 ;                        CODE  GRAPHIC
CHAR     CODE  GRAPHIC  CHAR
     21
     22                                         TMPORG  TTMAPD
     23
     24                                 CR2ASC::.BYTE   040,076 ;  0   SPACE
SPACE   ;  1   DEGREE   > .GT.
     25                                         .BYTE   124,112 ;  2   UC T
UC T    ;  3   UC J     UC J
     26                                         .BYTE   044,117 ;  4   $ DOLR
$ DOLR  ;  5   UC O     UC O
     27                                         .BYTE   114,077 ;  6   UC L
UC L    ;  7   ? MARK   ? MARK
     28                                         .BYTE   045,042 ; 10   % PRCNT
% PRCNT ; 11   " QUOTS  " QUOTS
     29                                         .BYTE   105,120 ; 12   UC E
UC E    ; 13   UC P     UC P
     30                                         .BYTE   000,000 ; 14   UNUSED
NULL    ; 15   UNUSED   NULL
     31                                         .BYTE   000,000 ; 16   UNUSED
NULL    ; 17   UNUSED   NULL
     32                                         .BYTE   100,134 ; 20   @ AT
@ AT    ; 21   PERIOD   BSLASH
     33                                         .BYTE   116,053 ; 22   UC N
UC N    ; 23   + PLUS   + PLUS
     34                                         .BYTE   132,000 ; 24   UC Z
UC Z    ; 25   UNUSED   NULL
     35                                         .BYTE   000,000 ; 26   UNUSED
NULL    ; 27   UNUSED   NULL
     36                                         .BYTE   136,111 ; 30   CENT
^ UPARO ; 31   UC I     UC I
     37                                         .BYTE   113,121 ; 32   UC K
UC K    ; 33   UC Q     UC Q
     38                                         .BYTE   203,010 ; 34   UC SHFT
SO      ; 35   BKSP     BKSP
     39                                         .BYTE   000,201 ; 36   UNUSED
NULL    ; 37   LC SHFT  SI
     40                                         .BYTE   074,115 ; 40   [ +-
< .LT.  ; 41   UC M     UC M
     41                                         .BYTE   130,107 ; 42   UC X
UC X    ; 43   UC G     UC G
     42                                         .BYTE   051,123 ; 44   ) RPARN
) RPARN ; 45   UC S     UC S
     43                                         .BYTE   110,131 ; 46   UC H
UC H    ; 47   UC Y     UC Y
     44                                         .BYTE   046,122 ; 50   & AMPR
& AMPR  ; 51   UC R     UC R
     45                                         .BYTE   104,072 ; 52   UC D
UC D    ; 53   : COLN   : COLN
     46                                         .BYTE   000,224 ; 54   UNUSED
NULL    ; 55   RETURN   LF
     47                                         .BYTE   000,011 ; 56   INDEX
NULL    ; 57   TAB      TAB
     48                                         .BYTE   043,126 ; 60   # LBSGN
# LBSGN ; 61   UC V     UC V
     49                                         .BYTE   125,106 ; 62   UC U
UC U    ; 63   UC F     UC F
     50                                         .BYTE   050,127 ; 64   ( LPARN
( LPARN ; 65   UC W     UC W
     51                                         .BYTE   102,137 ; 66   UC B
UC B    ; 67   UNDER    UNDER
     52                                         .BYTE   052,101 ; 70   * ASTER
* ASTER ; 71   UC A     UC A
     53                                         .BYTE   103,054 ; 72   UC C
UC C    ; 73   , COMMA   , COMMA
     54                                         .BYTE   206,000 ; 74   (EOT)
CTRL/C  ; 75   IDLE     NULL
     55                                         .BYTE   000,177 ; 76   UNUSED
NULL    ; 77   DATEL CD RUBOUT
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 185
CHARACTER LISTS AND DISPATCH TABLES

      1                                 .SBTTL    LOWER CASE
      2
      3                                 ;                        CORR  2741
ASCII    CORR  2741     ASCII
      4                                 ;                        CODE  GRAPHIC
CHAR     CODE  GRAPHIC  CHAR
      5
      6                                         .BYTE   040,041 ;  0   SPACE
SPACE   ;  1   ! 1/2    ! EXCLM
      7                                         .BYTE   164,152 ;  2   LC T
LC T    ;  3   LC J     LC J
      8                                         .BYTE   064,157 ;  4   4
4       ;  5   LC O     LC O
      9                                         .BYTE   154,057 ;  6   LC L
LC L    ;  7   / SLASH  / SLASH
     10                                         .BYTE   065,047 ; 10   5
5       ; 11   ' QUOTE  ' QUOTE
     11                                         .BYTE   145,160 ; 12   LC E
LC E    ; 13   LC P     LC P
     12                                         .BYTE   000,000 ; 14   UNUSED
NULL    ; 15   UNUSED   NULL
     13                                         .BYTE   000,000 ; 16   UNUSED
NULL    ; 17   UNUSED   NULL
     14                                         .BYTE   062,056 ; 20   2
2       ; 21   PERIOD   PERIOD
     15                                         .BYTE   156,075 ; 22   LC N
LC N    ; 23   = EQUAL  = EQUAL
     16                                         .BYTE   172,000 ; 24   LC Z
LC Z    ; 25   UNUSED   NULL
     17                                         .BYTE   000,000 ; 26   UNUSED
NULL    ; 27   UNUSED   NULL
     18                                         .BYTE   066,151 ; 30   6
6       ; 31   LC I     LC I
     19                                         .BYTE   153,161 ; 32   LC K
LC K    ; 33   LC Q     LC Q
     20                                         .BYTE   203,177 ; 34   UC SHFT
SO      ; 35   BKSP     RUBOUT
     21                                         .BYTE   000,201 ; 36   UNUSED
NULL    ; 37   LC SHFT  SI
     22                                         .BYTE   061,155 ; 40   ] 1
1       ; 41   LC M     LC M
     23                                         .BYTE   170,147 ; 42   LC X
LC X    ; 43   LC G     LC G
     24                                         .BYTE   060,163 ; 44   0
0       ; 45   LC S     LC S
     25                                         .BYTE   150,171 ; 46   LC H
LC H    ; 47   LC Y     LC Y
     26                                         .BYTE   067,162 ; 50   7
7       ; 51   LC R     LC R
     27                                         .BYTE   144,073 ; 52   LC D
LC D    ; 53   ; SEMI   ; SEMI
     28                                         .BYTE   000,232 ; 54   UNUSED
NULL    ; 55   RETURN   CR
     29                                         .BYTE   000,011 ; 56   INDEX
NULL    ; 57   TAB      TAB
     30                                         .BYTE   063,166 ; 60   3
3       ; 61   LC V     LC V
     31                                         .BYTE   165,146 ; 62   LC U
LC U    ; 63   LC F     LC F
     32                                         .BYTE   071,167 ; 64   9 (EOA)
9       ; 65   LC W     LC W
     33                                         .BYTE   142,055 ; 66   LC B
LC B    ; 67   - MINUS  - MINUS
     34                                         .BYTE   070,141 ; 70   8
8       ; 71   LC A     LC A
     35                                         .BYTE   143,054 ; 72   LC C
LC C    ; 73   , COMMA  , COMMA
     36                                         .BYTE   252,000 ; 74   (EOT)
CTRL/U  ; 75   IDLE     NULL
     37                                         .BYTE   000,177 ; 76   UNUSED
NULL    ; 77   DATEL CD RUBOUT
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 186
CHARACTER LISTS AND DISPATCH TABLES

      1                                 .SBTTL
      2                                 .SBTTL  ASCII TO CORRESPONDENCE CODE (ST
ANDARD SELECTRIC)
      3                                 .SBTTL
      4                                 .SBTTL    IBM SELECTRIC CODE, 1167029 PR
INT ELEMENT AND KEYBOARD
      5
      6                                 ;                        ASCII ASCII
2741     ASCII  ASCII   2741
      7                                 ;                        CODE  CHAR
GRAPHIC  CODE   CHAR    GRAPHIC
      8
      9                                 ASC2CR::.BYTE   075,075 ;  0   NULL
IDLE    ;  1   SOH      IDLE
     10                                         .BYTE   075,075 ;  2   STX,EOA
IDLE    ;  3   ETX      IDLE
     11                                         .BYTE   075,075 ;  4   EOT
IDLE    ;  5   ENQ      IDLE
     12                                         .BYTE   075,075 ;  6   ACK
IDLE    ;  7   BELL     IDLE
     13                                         .BYTE   035,057 ; 10   BKSP
BKSP    ; 11   TAB      TAB
     14                                         .BYTE   056,075 ; 12   LF
INDEX   ; 13   VT       IDLE
     15                                         .BYTE   075,255 ; 14   FF
IDLE    ; 15   CR       RETURN
     16                                         .BYTE   375,275 ; 16   SO
UC SHFT ; 17   SI       LC SHFT
     17                                         .BYTE   075,075 ; 20   DLE
IDLE    ; 21   XON      IDLE
     18                                         .BYTE   075,075 ; 22   AUX ON
IDLE    ; 23   XOFF     IDLE
     19                                         .BYTE   075,075 ; 24   AUX ON
IDLE    ; 25   NAK      IDLE
     20                                         .BYTE   075,075 ; 26   SYN
IDLE    ; 27   ETB      IDLE
     21                                         .BYTE   075,075 ; 30   CANCL
IDLE    ; 31   EOM      IDLE
     22                                         .BYTE   075,075 ; 32   SUB,^Z
IDLE    ; 33   ESCAPE   IDLE
     23                                         .BYTE   075,075 ; 34   FS
IDLE    ; 35   GS       IDLE
     24                                         .BYTE   075,075 ; 36   RS
IDLE    ; 37   US       IDLE
     25                                         .BYTE   000,201 ; 40   SPACE
SPACE   ; 41   ! EXCLM  ! EXCLM
     26                                         .BYTE   311,360 ; 42   " QUOTS
" QUOTS ; 43   # LBSGN  # LBSGN
     27                                         .BYTE   304,310 ; 44   $ DOLR
$ DOLR  ; 45   % PRCNT  % PRCNT
     28                                         .BYTE   350,211 ; 46   & AMPER
& AMPER ; 47   ' QUOTE  ' QUOTE
     29                                         .BYTE   364,344 ; 50   ( LPARN
( LPARN ; 51   ) RPARN  ) RPARN
     30                                         .BYTE   370,323 ; 52   * ASTER
* ASTER ; 53   + PLUS   + PLUS
     31                                         .BYTE   073,267 ; 54   , COMMA
, COMMA ; 55   - MINUS  - MINUS
     32                                         .BYTE   021,207 ; 56   PERIOD
PERIOD  ; 57   / SLASH  / SLASH
     33                                         .BYTE   244,240 ; 60   0
0       ; 61   1        1
     34                                         .BYTE   220,260 ; 62   2
2       ; 63   3        3
     35                                         .BYTE   204,210 ; 64   4
4       ; 65   5        5
     36                                         .BYTE   230,250 ; 66   6
6       ; 67   7        7
     37                                         .BYTE   270,264 ; 70   8
8       ; 71   9        9
     38                                         .BYTE   353,253 ; 72   : COLON
: COLON ; 73   ; SEMI   ; SEMI
     39                                         .BYTE   340,223 ; 74   < .LT.
+-      ; 75   = EQUAL  = EQUAL
     40                                         .BYTE   301,307 ; 76   > .GT.
DEGREE  ; 77   ? MARK   ? MARK
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 187
CHARACTER LISTS AND DISPATCH TABLES

      1                                 ;                        ASCII ASCII
2741     ASCII  ASCII   2741
      2                                 ;                        CODE  CHAR
GRAPHIC  CODE   CHAR    GRAPHIC
      3
      4                                         .BYTE   320,371 ;100   @ AT
@ AT    ;101   UC A     UC A
      5                                         .BYTE   366,372 ;102   UC B
UC B    ;103   UC C     UC C
      6                                         .BYTE   352,312 ;104   UC D
UC D    ;105   UC E     UC E
      7                                         .BYTE   363,343 ;106   UC F
UC F    ;107   UC G     UC G
      8                                         .BYTE   346,331 ;110   UC H
UC H    ;111   UC I     UC I
      9                                         .BYTE   303,332 ;112   UC J
UC J    ;113   UC K     UC K
     10                                         .BYTE   306,341 ;114   UC L
UC L    ;115   UC M     UC M
     11                                         .BYTE   322,305 ;116   UC N
UC N    ;117   UC O     UC O
     12                                         .BYTE   313,333 ;120   UC P
UC P    ;121   UC Q     UC Q
     13                                         .BYTE   351,345 ;122   UC R
UC R    ;123   UC S     UC S
     14                                         .BYTE   302,362 ;124   UC T
UC T    ;125   UC U     UC U
     15                                         .BYTE   361,365 ;126   UC V
UC V    ;127   UC W     UC W
     16                                         .BYTE   342,347 ;130   UC X
UC X    ;131   UC Y     UC Y
     17                                         .BYTE   324,364 ;132   UC Z
UC Z    ;133   [ LBRCK  ( LPARN
     18                                         .BYTE   307,344 ;134   BSLASH
? MARK  ;135   ] RBRCK  ) RPARN
     19                                         .BYTE   330,367 ;136   ^ UPARO
CENT    ;137   UNDER    UNDER
     20                                         .BYTE   211,271 ;140   GRAVE
' QUOT  ;141   LC A     LC A
     21                                         .BYTE   266,272 ;142   LC B
LC B    ;143   LC C     LC C
     22                                         .BYTE   252,212 ;144   LC D
LC D    ;145   LC E     LC E
     23                                         .BYTE   263,243 ;146   LC F
LC F    ;147   LC G     LC G
     24                                         .BYTE   246,231 ;150   LC H
LC H    ;151   LC I     LC I
     25                                         .BYTE   203,232 ;152   LC J
LC J    ;153   LC K     LC K
     26                                         .BYTE   206,241 ;154   LC L
LC L    ;155   LC M     LC M
     27                                         .BYTE   222,205 ;156   LC N
LC N    ;157   LC O     LC O
     28                                         .BYTE   213,233 ;160   LC P
LC P    ;161   LC Q     LC Q
     29                                         .BYTE   251,245 ;162   LC R
LC R    ;163   LC S     LC S
     30                                         .BYTE   202,262 ;164   LC T
LC T    ;165   LC U     LC U
     31                                         .BYTE   261,265 ;166   LC V
LC V    ;167   LC W     LC W
     32                                         .BYTE   242,247 ;170   LC X
LC X    ;171   LC Y     LC Y
     33                                         .BYTE   224,307 ;172   LC Z
LC Z    ;173   LBRCE    ? MARK
     34                                         .BYTE   307,307 ;174   VBAR
? MARK  ;175   RBRCE    ? MARK
     35                                         .BYTE   307,077 ;176   TLDE
? MARK  ;177   RUB      RUBOUT
     36
     37                                         UNORG
     38
     39                                 .ENDC   ;KBCORR
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 188
CHARACTER LISTS AND DISPATCH TABLES

      1                                 .IF     NE      KBEBCD
      2
      3                                 $$$$$$  =       .
      4                                         TMPORG  TTDVR,XL2741-TTDVR+<KBEB
CD-1*2>
      5                                         .WORD   EB2ASC
      6                                         TMPORG  TTDVR,CD2741-TTDVR+<KBEB
CD-1*2>
      7                                         .WORD   E963.0
      8                                         TMPORG  TTDVR,$$$$$$-TTDVR
      9
     10                                 E963.0::.ASCIZ  <15>"E963"<15><12>
     11
     12                                 .SBTTL
     13                                 .SBTTL  2741 EXTENDED BCD CODE TO ASCII
CONVERSION
     14                                 .SBTTL
     15                                 .SBTTL    IBM PTTC/EBCD CODE, 1167963 PR
INT ELEMENT AND KEYBOARD
     16                                 .SBTTL
     17                                 .SBTTL    UPPER CASE
     18
     19                                 ;                        EBCD  2741
ASCII    EBCD  2741     ASCII
     20                                 ;                        CODE  GRAPHIC
CHAR     CODE  GRAPHIC  CHAR
     21
     22                                         TMPORG  TTMAPD
     23
     24                                 EB2ASC::.BYTE   040,137 ;  0   SPACE
SPACE   ;  1   UNDER    UNDER
     25                                         .BYTE   136,053 ;  2   CENT
^ UPARO ;  3   + PLUS   + PLUS
     26                                         .BYTE   052,121 ;  4   * ASTER
* ASTER ;  5   UC Q     UC Q
     27                                         .BYTE   131,110 ;  6   UC Y
UC Y    ;  7   UC H     UC H
     28                                         .BYTE   072,115 ; 10   : COLON
: COLON ; 11   UC M     UC M
     29                                         .BYTE   125,104 ; 12   UC U
UC U    ; 13   UC D     UC D
     30                                         .BYTE   000,000 ; 14   UNUSED
NULL    ; 15   UNUSED   NULL
     31                                         .BYTE   000,000 ; 16   UNUSED
NULL    ; 17   UNUSED   NULL
     32                                         .BYTE   074,113 ; 20   < .LT.
< .LT.  ; 21   UC K     UC K
     33                                         .BYTE   123,102 ; 22   UC S
UC S    ; 23   UC B     UC B
     34                                         .BYTE   051,000 ; 24   ) RPARN
) RPARN ; 25   UNUSED   NULL
     35                                         .BYTE   000,000 ; 26   UNUSED
NULL    ; 27   UNUSED   NULL
     36                                         .BYTE   047,117 ; 30   ' QUOTE
' QUOTE ; 31   UC O     UC O
     37                                         .BYTE   127,106 ; 32   UC W
UC W    ; 33   UC F     UC F
     38                                         .BYTE   203,010 ; 34   UC SHFT
SO      ; 35   BKSP     BKSP
     39                                         .BYTE   000,201 ; 36   UNUSED
NULL    ; 37   LC SHFT  SI
     40                                         .BYTE   075,112 ; 40   = EQUAL
= EQUAL ; 41   UC J     UC J
     41                                         .BYTE   077,101 ; 42   ? MARK
? MARK  ; 43   UC A     UC A
     42                                         .BYTE   050,122 ; 44   ( LPARN
( LPARN ; 45   UC R     UC R
     43                                         .BYTE   132,111 ; 46   UC Z
UC Z    ; 47   UC I     UC I
     44                                         .BYTE   045,116 ; 50   % PRCNT
% PRCNT ; 51   UC N     UC N
     45                                         .BYTE   126,105 ; 52   UC V
UC V    ; 53   UC E     UC E
     46                                         .BYTE   000,224 ; 54   UNUSED
NULL    ; 55   RETURN   LF
     47                                         .BYTE   000,011 ; 56   INDEX
NULL    ; 57   TAB      TAB
     48                                         .BYTE   073,114 ; 60   ; SEMI
; SEMI  ; 61   UC L     UC L
     49                                         .BYTE   124,103 ; 62   UC T
UC T    ; 63   UC C     UC C
     50                                         .BYTE   042,041 ; 64   " QUOTS
" QUOTS ; 65   ! EXCLM  ! EXCLM
     51                                         .BYTE   174,134 ; 66   VBAR
VBAR    ; 67   NOT      BSLASH
     52                                         .BYTE   076,120 ; 70   > .GT.
> .GT.  ; 71   UC P     UC P
     53                                         .BYTE   130,107 ; 72   UC X
UC X    ; 73   UC G     UC G
     54                                         .BYTE   206,000 ; 74   (EOT)
CTRL/C  ; 75   IDLE     NULL
     55                                         .BYTE   000,177 ; 76   UNUSED
NULL    ; 77   DATEL CD RUBOUT
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 189
CHARACTER LISTS AND DISPATCH TABLES

      1                                 .SBTTL    LOWER CASE
      2
      3                                 ;                        EBCD  2741
ASCII    EBCD  2741     ASCII
      4                                 ;                        CODE  GRAPHIC
CHAR     CODE  GRAPHIC  CHAR
      5
      6                                         .BYTE   040,055 ;  0   SPACE
SPACE   ;  1   - MINUS  - MINUS
      7                                         .BYTE   100,046 ;  2   @ AT
@ AT    ;  3   & AMPER  & AMPER
      8                                         .BYTE   070,161 ;  4   8
8       ;  5   LC Q     LC Q
      9                                         .BYTE   171,150 ;  6   LC Y
LC Y    ;  7   LC H     LC H
     10                                         .BYTE   064,155 ; 10   4
4       ; 11   LC M     LC M
     11                                         .BYTE   165,144 ; 12   LC U
LC U    ; 13   LC D     LC D
     12                                         .BYTE   000,000 ; 14   UNUSED
NULL    ; 15   UNUSED   NULL
     13                                         .BYTE   000,000 ; 16   UNUSED
NULL    ; 17   UNUSED   NULL
     14                                         .BYTE   062,153 ; 20   2
2       ; 21   LC K     LC K
     15                                         .BYTE   163,142 ; 22   LC S
LC S    ; 23   LC B     LC B
     16                                         .BYTE   060,000 ; 24   0
0       ; 25   UNUSED   NULL
     17                                         .BYTE   000,000 ; 26   UNUSED
NULL    ; 27   UNUSED   NULL
     18                                         .BYTE   066,157 ; 30   6
6       ; 31   LC O     LC O
     19                                         .BYTE   167,146 ; 32   LC W
LC W    ; 33   LC F     LC F
     20                                         .BYTE   203,177 ; 34   UC SHFT
SO      ; 35   BKSP     RUBOUT
     21                                         .BYTE   000,201 ; 36   UNUSED
NULL    ; 37   LC SHFT  SI
     22                                         .BYTE   061,152 ; 40   1
1       ; 41   LC J     LC J
     23                                         .BYTE   057,141 ; 42   / SLASH
/ SLASH ; 43   LC A     LC A
     24                                         .BYTE   071,162 ; 44   9
9       ; 45   LC R     LC R
     25                                         .BYTE   172,151 ; 46   LC Z
LC Z    ; 47   LC I     LC I
     26                                         .BYTE   065,156 ; 50   5
5       ; 51   LC N     LC N
     27                                         .BYTE   166,145 ; 52   LC V
LC V    ; 53   LC E     LC E
     28                                         .BYTE   000,232 ; 54   UNUSED
NULL    ; 55   RETURN   CR
     29                                         .BYTE   000,011 ; 56   INDEX
NULL    ; 57   TAB      TAB
     30                                         .BYTE   063,154 ; 60   3
3       ; 61   LC L     LC L
     31                                         .BYTE   164,143 ; 62   LC T
LC T    ; 63   LC C     LC C
     32                                         .BYTE   043,044 ; 64   # LBSGN
# LBSGN ; 65   $ DOLR   $ DOLR
     33                                         .BYTE   054,056 ; 66   , COMMA
, COMMA ; 67   PERIOD   PERIOD
     34                                         .BYTE   067,160 ; 70   7
7       ; 71   LC P     LC P
     35                                         .BYTE   170,147 ; 72   LC X
LC X    ; 73   LC G     LC G
     36                                         .BYTE   252,000 ; 74   (EOT)
CTRL/U  ; 75   IDLE     NULL
     37                                         .BYTE   000,177 ; 76   UNUSED
NULL    ; 77   DATEL CD RUBOUT
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 190
CHARACTER LISTS AND DISPATCH TABLES

      1                                 .SBTTL
      2                                 .SBTTL  ASCII TO 2741 EBCD CODE
      3                                 .SBTTL
      4                                 .SBTTL    IBM PTTC/EBCD CODE, 1167963 PR
INT ELEMENT AND KEYBOARD
      5
      6                                 ;                        ASCII ASCII
2741     ASCII  ASCII   2741
      7                                 ;                        CODE  CHAR
GRAPHIC  CODE   CHAR    GRAPHIC
      8
      9                                 ASC2EB::.BYTE   075,075 ;  0   NULL
IDLE    ;  1   SOH      IDLE
     10                                         .BYTE   075,075 ;  2   STX,EOA
IDLE    ;  3   ETX      IDLE
     11                                         .BYTE   075,075 ;  4   EOT
IDLE    ;  5   ENQ      IDLE
     12                                         .BYTE   075,075 ;  6   ACK
IDLE    ;  7   BELL     IDLE
     13                                         .BYTE   035,057 ; 10   BKSP
BKSP    ; 11   TAB      TAB
     14                                         .BYTE   056,075 ; 12   LF
INDEX   ; 13   VT       IDLE
     15                                         .BYTE   075,255 ; 14   FF
IDLE    ; 15   CR       RETURN
     16                                         .BYTE   375,275 ; 16   SO
UC SHFT ; 17   SI       LC SHFT
     17                                         .BYTE   075,075 ; 20   DLE
IDLE    ; 21   XON      IDLE
     18                                         .BYTE   075,075 ; 22   AUX ON
IDLE    ; 23   XOFF     IDLE
     19                                         .BYTE   075,075 ; 24   AUX ON
IDLE    ; 25   NAK      IDLE
     20                                         .BYTE   075,075 ; 26   SYN
IDLE    ; 27   ETB      IDLE
     21                                         .BYTE   075,075 ; 30   CANCL
IDLE    ; 31   EOM      IDLE
     22                                         .BYTE   075,075 ; 32   SUB,^Z
IDLE    ; 33   ESCAPE   IDLE
     23                                         .BYTE   075,075 ; 34   FS
IDLE    ; 35   GS       IDLE
     24                                         .BYTE   075,075 ; 36   RS
IDLE    ; 37   US       IDLE
     25                                         .BYTE   000,365 ; 40   SPACE
SPACE   ; 41   ! EXCLM  ! EXCLM
     26                                         .BYTE   364,264 ; 42   " QUOTS
" QUOTS ; 43   # LBSGN  # LBSGN
     27                                         .BYTE   265,350 ; 44   $ DOLR
$ DOLR  ; 45   % PRCNT  % PRCNT
     28                                         .BYTE   203,330 ; 46   & AMPER
& AMPER ; 47   ' QUOTE  ' QUOTE
     29                                         .BYTE   344,324 ; 50   ( LPARN
( LPARN ; 51   ) RPARN  ) RPARN
     30                                         .BYTE   304,303 ; 52   * ASTER
* ASTER ; 53   + PLUS   + PLUS
     31                                         .BYTE   266,201 ; 54   , COMMA
, COMMA ; 55   - MINUS  - MINUS
     32                                         .BYTE   267,242 ; 56   PERIOD
PERIOD  ; 57   / SLASH  / SLASH
     33                                         .BYTE   224,240 ; 60   0
0       ; 61   1        1
     34                                         .BYTE   220,260 ; 62   2
2       ; 63   3        3
     35                                         .BYTE   210,250 ; 64   4
4       ; 65   5        5
     36                                         .BYTE   230,270 ; 66   6
6       ; 67   7        7
     37                                         .BYTE   204,244 ; 70   8
8       ; 71   9        9
     38                                         .BYTE   310,360 ; 72   : COLON
: COLON ; 73   ; SEMI   ; SEMI
     39                                         .BYTE   320,340 ; 74   < .LT.
< .LT.  ; 75   = EQUAL  = EQUAL
     40                                         .BYTE   370,342 ; 76   > .GT.
> .GT.  ; 77   ? MARK   ? MARK
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 191
CHARACTER LISTS AND DISPATCH TABLES

      1                                 ;                        ASCII ASCII
2741     ASCII  ASCII   2741
      2                                 ;                        CODE  CHAR
GRAPHIC  CODE   CHAR    GRAPHIC
      3
      4                                         .BYTE   202,343 ;100   @ AT
@ AT    ;101   UC A     UC A
      5                                         .BYTE   323,363 ;102   UC B
UC B    ;103   UC C     UC C
      6                                         .BYTE   313,353 ;104   UC D
UC D    ;105   UC E     UC E
      7                                         .BYTE   333,373 ;106   UC F
UC F    ;107   UC G     UC G
      8                                         .BYTE   307,347 ;110   UC H
UC H    ;111   UC I     UC I
      9                                         .BYTE   341,321 ;112   UC J
UC J    ;113   UC K     UC K
     10                                         .BYTE   361,311 ;114   UC L
UC L    ;115   UC M     UC M
     11                                         .BYTE   351,331 ;116   UC N
UC N    ;117   UC O     UC O
     12                                         .BYTE   371,305 ;120   UC P
UC P    ;121   UC Q     UC Q
     13                                         .BYTE   345,322 ;122   UC R
UC R    ;123   UC S     UC S
     14                                         .BYTE   362,312 ;124   UC T
UC T    ;125   UC U     UC U
     15                                         .BYTE   352,332 ;126   UC V
UC V    ;127   UC W     UC W
     16                                         .BYTE   372,306 ;130   UC X
UC X    ;131   UC Y     UC Y
     17                                         .BYTE   346,344 ;132   UC Z
UC Z    ;133   [ LBRCK  ( LPARN
     18                                         .BYTE   367,324 ;134   BSLASH
NOT     ;135   ] RBRCK  ) RPARN
     19                                         .BYTE   302,301 ;136   ^ UPARO
CENT    ;137   UNDER    UNDER
     20                                         .BYTE   330,243 ;140   GRAVE
' QUOT  ;141   LC A     LC A
     21                                         .BYTE   223,263 ;142   LC B
LC B    ;143   LC C     LC C
     22                                         .BYTE   213,253 ;144   LC D
LC D    ;145   LC E     LC E
     23                                         .BYTE   233,273 ;146   LC F
LC F    ;147   LC G     LC G
     24                                         .BYTE   207,247 ;150   LC H
LC H    ;151   LC I     LC I
     25                                         .BYTE   241,221 ;152   LC J
LC J    ;153   LC K     LC K
     26                                         .BYTE   261,211 ;154   LC L
LC L    ;155   LC M     LC M
     27                                         .BYTE   251,231 ;156   LC N
LC N    ;157   LC O     LC O
     28                                         .BYTE   271,205 ;160   LC P
LC P    ;161   LC Q     LC Q
     29                                         .BYTE   245,222 ;162   LC R
LC R    ;163   LC S     LC S
     30                                         .BYTE   262,212 ;164   LC T
LC T    ;165   LC U     LC U
     31                                         .BYTE   252,232 ;166   LC V
LC V    ;167   LC W     LC W
     32                                         .BYTE   272,206 ;170   LC X
LC X    ;171   LC Y     LC Y
     33                                         .BYTE   246,342 ;172   LC Z
LC Z    ;173   LBRCE    ? MARK
     34                                         .BYTE   366,342 ;174   VBAR
VBAR    ;175   RBRCE    ? MARK
     35                                         .BYTE   342,077 ;176   TLDE
? MARK  ;177   RUB      RUBOUT
     36
     37                                         UNORG
     38
     39                                 .ENDC   ;KBEBCD
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 192
CHARACTER LISTS AND DISPATCH TABLES

      1                                 .IF     NE      KBBCD
      2
      3                                 $$$$$$  =       .
      4                                         TMPORG  TTDVR,XL2741-TTDVR+<KBBC
D-1*2>
      5                                         .WORD   BC2ASC
      6                                         TMPORG  TTDVR,CD2741-TTDVR+<KBBC
D-1*2>
      7                                         .WORD   B938.0
      8                                         TMPORG  TTDVR,$$$$$$-TTDVR
      9
     10                                 B938.0::.ASCIZ  <15>"B938"<15><12>
     11
     12                                 .SBTTL
     13                                 .SBTTL  2741 BCD CODE TO ASCII CONVERSIO
N
     14                                 .SBTTL
     15                                 .SBTTL    IBM PTTC/BCD CODE, 1167938 PRI
NT ELEMENT AND KEYBOARD
     16                                 .SBTTL
     17                                 .SBTTL    UPPER CASE
     18
     19                                 ;                        BCD   2741
ASCII    BCD   2741     ASCII
     20                                 ;                        CODE  GRAPHIC
CHAR     CODE  GRAPHIC  CHAR
     21
     22                                         TMPORG  TTMAPD
     23
     24                                 BC2ASC::.BYTE   040,137 ;  0   SPACE
SPACE   ;  1   UNDER    UNDER
     25                                         .BYTE   136,053 ;  2   CENT
^ UPARO ;  3   + PLUS   + PLUS
     26                                         .BYTE   052,121 ;  4   * ASTER
* ASTER ;  5   UC Q     UC Q
     27                                         .BYTE   131,110 ;  6   UC Y
UC Y    ;  7   UC H     UC H
     28                                         .BYTE   072,115 ; 10   : COLON
: COLON ; 11   UC M     UC M
     29                                         .BYTE   125,104 ; 12   UC U
UC U    ; 13   UC D     UC D
     30                                         .BYTE   000,000 ; 14   UNUSED
NULL    ; 15   UNUSED   NULL
     31                                         .BYTE   000,000 ; 16   UNUSED
NULL    ; 17   UNUSED   NULL
     32                                         .BYTE   076,113 ; 20   DEGREE
> .GT.  ; 21   UC K     UC K
     33                                         .BYTE   123,102 ; 22   UC S
UC S    ; 23   UC B     UC B
     34                                         .BYTE   051,000 ; 24   ) RPARN
) RPARN ; 25   UNUSED   NULL
     35                                         .BYTE   000,000 ; 26   UNUSED
NULL    ; 27   UNUSED   NULL
     36                                         .BYTE   047,117 ; 30   ' QUOTE
' QUOTE ; 31   UC O     UC O
     37                                         .BYTE   127,106 ; 32   UC W
UC W    ; 33   UC F     UC F
     38                                         .BYTE   203,010 ; 34   UC SHFT
SO      ; 35   BKSP     BKSP
     39                                         .BYTE   000,201 ; 36   UNUSED
NULL    ; 37   LC SHFT  SI
     40                                         .BYTE   075,112 ; 40   = EQUAL
= EQUAL ; 41   UC J     UC J
     41                                         .BYTE   077,101 ; 42   ? MARK
? MARK  ; 43   UC A     UC A
     42                                         .BYTE   050,122 ; 44   ( LPARN
( LPARN ; 45   UC R     UC R
     43                                         .BYTE   132,111 ; 46   UC Z
UC Z    ; 47   UC I     UC I
     44                                         .BYTE   045,116 ; 50   % PRCNT
% PRCNT ; 51   UC N     UC N
     45                                         .BYTE   126,105 ; 52   UC V
UC V    ; 53   UC E     UC E
     46                                         .BYTE   000,224 ; 54   UNUSED
NULL    ; 55   RETURN   LF
     47                                         .BYTE   000,011 ; 56   INDEX
NULL    ; 57   TAB      TAB
     48                                         .BYTE   073,114 ; 60   ; SEMI
; SEMI  ; 61   UC L     UC L
     49                                         .BYTE   124,103 ; 62   UC T
UC T    ; 63   UC C     UC C
     50                                         .BYTE   074,041 ; 64   +-
< .LT.  ; 65   ! EXCLM  ! EXCLM
     51                                         .BYTE   054,134 ; 66   , COMMA
, COMMA ; 67   PERIOD   BSLASH
     52                                         .BYTE   042,120 ; 70   " QUOTS
" QUOTS ; 71   UC P     UC P
     53                                         .BYTE   130,107 ; 72   UC X
UC X    ; 73   UC G     UC G
     54                                         .BYTE   206,000 ; 74   (EOT)
CTRL/C  ; 75   IDLE     NULL
     55                                         .BYTE   000,177 ; 76   UNUSED
NULL    ; 77   DATEL CD RUBOUT
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 193
CHARACTER LISTS AND DISPATCH TABLES

      1                                 .SBTTL    LOWER CASE
      2
      3                                 ;                        BCD   2741
ASCII    BCD   2741     ASCII
      4                                 ;                        CODE  GRAPHIC
CHAR     CODE  GRAPHIC  CHAR
      5
      6                                         .BYTE   040,055 ;  0   SPACE
SPACE   ;  1   - MINUS  - MINUS
      7                                         .BYTE   100,046 ;  2   @ AT
@ AT    ;  3   & AMPER  & AMPER
      8                                         .BYTE   070,161 ;  4   8
8       ;  5   LC Q     LC Q
      9                                         .BYTE   171,150 ;  6   LC Y
LC Y    ;  7   LC H     LC H
     10                                         .BYTE   064,155 ; 10   4
4       ; 11   LC M     LC M
     11                                         .BYTE   165,144 ; 12   LC U
LC U    ; 13   LC D     LC D
     12                                         .BYTE   000,000 ; 14   UNUSED
NULL    ; 15   UNUSED   NULL
     13                                         .BYTE   000,000 ; 16   UNUSED
NULL    ; 17   UNUSED   NULL
     14                                         .BYTE   062,153 ; 20   2
2       ; 21   LC K     LC K
     15                                         .BYTE   163,142 ; 22   LC S
LC S    ; 23   LC B     LC B
     16                                         .BYTE   060,000 ; 24   0
0       ; 25   UNUSED   NULL
     17                                         .BYTE   000,000 ; 26   UNUSED
NULL    ; 27   UNUSED   NULL
     18                                         .BYTE   066,157 ; 30   6
6       ; 31   LC O     LC O
     19                                         .BYTE   167,146 ; 32   LC W
LC W    ; 33   LC F     LC F
     20                                         .BYTE   203,177 ; 34   UC SHFT
SO      ; 35   BKSP     RUBOUT
     21                                         .BYTE   000,201 ; 36   UNUSED
NULL    ; 37   LC SHFT  SI
     22                                         .BYTE   061,152 ; 40   1
1       ; 41   LC J     LC J
     23                                         .BYTE   057,141 ; 42   / SLASH
/ SLASH ; 43   LC A     LC A
     24                                         .BYTE   071,162 ; 44   9
9       ; 45   LC R     LC R
     25                                         .BYTE   172,151 ; 46   LC Z
LC Z    ; 47   LC I     LC I
     26                                         .BYTE   065,156 ; 50   5
5       ; 51   LC N     LC N
     27                                         .BYTE   166,145 ; 52   LC V
LC V    ; 53   LC E     LC E
     28                                         .BYTE   000,232 ; 54   UNUSED
NULL    ; 55   RETURN   CR
     29                                         .BYTE   000,011 ; 56   INDEX
NULL    ; 57   TAB      TAB
     30                                         .BYTE   063,154 ; 60   3
3       ; 61   LC L     LC L
     31                                         .BYTE   164,143 ; 62   LC T
LC T    ; 63   LC C     LC C
     32                                         .BYTE   043,044 ; 64   # LBSGN
# LBSGN ; 65   $ DOLR   $ DOLR
     33                                         .BYTE   054,056 ; 66   , COMMA
, COMMA ; 67   PERIOD   PERIOD
     34                                         .BYTE   067,160 ; 70   7
7       ; 71   LC P     LC P
     35                                         .BYTE   170,147 ; 72   LC X
LC X    ; 73   LC G     LC G
     36                                         .BYTE   252,000 ; 74   (EOT)
CTRL/U  ; 75   IDLE     NULL
     37                                         .BYTE   000,177 ; 76   UNUSED
NULL    ; 77   DATEL CD RUBOUT
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 194
CHARACTER LISTS AND DISPATCH TABLES

      1                                 .SBTTL
      2                                 .SBTTL  ASCII TO 2741 BCD CODE
      3                                 .SBTTL
      4                                 .SBTTL    IBM PTTC/BCD CODE, 1167938 PRI
NT ELEMENT AND KEYBOARD
      5
      6                                 ;                        ASCII ASCII
2741     ASCII  ASCII   2741
      7                                 ;                        CODE  CHAR
GRAPHIC  CODE   CHAR    GRAPHIC
      8
      9                                 ASC2BC::.BYTE   075,075 ;  0   NULL
IDLE    ;  1   SOH      IDLE
     10                                         .BYTE   075,075 ;  2   STX,EOA
IDLE    ;  3   ETX      IDLE
     11                                         .BYTE   075,075 ;  4   EOT
IDLE    ;  5   ENQ      IDLE
     12                                         .BYTE   075,075 ;  6   ACK
IDLE    ;  7   BELL     IDLE
     13                                         .BYTE   035,057 ; 10   BKSP
BKSP    ; 11   TAB      TAB
     14                                         .BYTE   056,075 ; 12   LF
INDEX   ; 13   VT       IDLE
     15                                         .BYTE   075,255 ; 14   FF
IDLE    ; 15   CR       RETURN
     16                                         .BYTE   375,275 ; 16   SO
UC SHFT ; 17   SI       LC SHFT
     17                                         .BYTE   075,075 ; 20   DLE
IDLE    ; 21   XON      IDLE
     18                                         .BYTE   075,075 ; 22   AUX ON
IDLE    ; 23   XOFF     IDLE
     19                                         .BYTE   075,075 ; 24   AUX ON
IDLE    ; 25   NAK      IDLE
     20                                         .BYTE   075,075 ; 26   SYN
IDLE    ; 27   ETB      IDLE
     21                                         .BYTE   075,075 ; 30   CANCL
IDLE    ; 31   EOM      IDLE
     22                                         .BYTE   075,075 ; 32   SUB,^Z
IDLE    ; 33   ESCAPE   IDLE
     23                                         .BYTE   075,075 ; 34   FS
IDLE    ; 35   GS       IDLE
     24                                         .BYTE   075,075 ; 36   RS
IDLE    ; 37   US       IDLE
     25                                         .BYTE   000,365 ; 40   SPACE
SPACE   ; 41   ! EXCLM  ! EXCLM
     26                                         .BYTE   370,264 ; 42   " QUOTS
" QUOTS ; 43   # LBSGN  # LBSGN
     27                                         .BYTE   265,350 ; 44   $ DOLR
$ DOLR  ; 45   % PRCNT  % PRCNT
     28                                         .BYTE   203,330 ; 46   & AMPER
& AMPER ; 47   ' QUOTE  ' QUOTE
     29                                         .BYTE   344,324 ; 50   ( LPARN
( LPARN ; 51   ) RPARN  ) RPARN
     30                                         .BYTE   304,303 ; 52   * ASTER
* ASTER ; 53   + PLUS   + PLUS
     31                                         .BYTE   066,201 ; 54   , COMMA
, COMMA ; 55   - MINUS  - MINUS
     32                                         .BYTE   067,242 ; 56   PERIOD
PERIOD  ; 57   / SLASH  / SLASH
     33                                         .BYTE   224,240 ; 60   0
0       ; 61   1        1
     34                                         .BYTE   220,260 ; 62   2
2       ; 63   3        3
     35                                         .BYTE   210,250 ; 64   4
4       ; 65   5        5
     36                                         .BYTE   230,270 ; 66   6
6       ; 67   7        7
     37                                         .BYTE   204,244 ; 70   8
8       ; 71   9        9
     38                                         .BYTE   310,360 ; 72   : COLON
: COLON ; 73   ; SEMI   ; SEMI
     39                                         .BYTE   364,340 ; 74   < .LT.
+-      ; 75   = EQUAL  = EQUAL
     40                                         .BYTE   320,342 ; 76   > .GT.
DEGREE  ; 77   ? MARK   ? MARK
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 195
CHARACTER LISTS AND DISPATCH TABLES

      1                                 ;                        ASCII ASCII
2741     ASCII  ASCII   2741
      2                                 ;                        CODE  CHAR
GRAPHIC  CODE   CHAR    GRAPHIC
      3
      4                                         .BYTE   202,343 ;100   @ AT
@ AT    ;101   UC A     UC A
      5                                         .BYTE   323,363 ;102   UC B
UC B    ;103   UC C     UC C
      6                                         .BYTE   313,353 ;104   UC D
UC D    ;105   UC E     UC E
      7                                         .BYTE   333,373 ;106   UC F
UC F    ;107   UC G     UC G
      8                                         .BYTE   307,347 ;110   UC H
UC H    ;111   UC I     UC I
      9                                         .BYTE   341,321 ;112   UC J
UC J    ;113   UC K     UC K
     10                                         .BYTE   361,311 ;114   UC L
UC L    ;115   UC M     UC M
     11                                         .BYTE   351,331 ;116   UC N
UC N    ;117   UC O     UC O
     12                                         .BYTE   371,305 ;120   UC P
UC P    ;121   UC Q     UC Q
     13                                         .BYTE   345,322 ;122   UC R
UC R    ;123   UC S     UC S
     14                                         .BYTE   362,312 ;124   UC T
UC T    ;125   UC U     UC U
     15                                         .BYTE   352,332 ;126   UC V
UC V    ;127   UC W     UC W
     16                                         .BYTE   372,306 ;130   UC X
UC X    ;131   UC Y     UC Y
     17                                         .BYTE   346,344 ;132   UC Z
UC Z    ;133   [ LBRCK  ( LPARN
     18                                         .BYTE   342,324 ;134   BSLASH
? MARK  ;135   ] RBRCK  ) RPARN
     19                                         .BYTE   302,301 ;136   ^ UPARO
CENT    ;137   UNDER    UNDER
     20                                         .BYTE   330,243 ;140   GRAVE
' QUOT  ;141   LC A     LC A
     21                                         .BYTE   223,263 ;142   LC B
LC B    ;143   LC C     LC C
     22                                         .BYTE   213,253 ;144   LC D
LC D    ;145   LC E     LC E
     23                                         .BYTE   233,273 ;146   LC F
LC F    ;147   LC G     LC G
     24                                         .BYTE   207,247 ;150   LC H
LC H    ;151   LC I     LC I
     25                                         .BYTE   241,221 ;152   LC J
LC J    ;153   LC K     LC K
     26                                         .BYTE   261,211 ;154   LC L
LC L    ;155   LC M     LC M
     27                                         .BYTE   251,231 ;156   LC N
LC N    ;157   LC O     LC O
     28                                         .BYTE   271,205 ;160   LC P
LC P    ;161   LC Q     LC Q
     29                                         .BYTE   245,222 ;162   LC R
LC R    ;163   LC S     LC S
     30                                         .BYTE   262,212 ;164   LC T
LC T    ;165   LC U     LC U
     31                                         .BYTE   252,232 ;166   LC V
LC V    ;167   LC W     LC W
     32                                         .BYTE   272,206 ;170   LC X
LC X    ;171   LC Y     LC Y
     33                                         .BYTE   246,342 ;172   LC Z
LC Z    ;173   LBRCE    ? MARK
     34                                         .BYTE   342,342 ;174   VBAR
? MARK  ;175   RBRCE    ? MARK
     35                                         .BYTE   342,077 ;176   TLDE
? MARK  ;177   RUB      RUBOUT
     36
     37                                         UNORG
     38
     39                                 .ENDC   ;KBBCD
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 196
CHARACTER LISTS AND DISPATCH TABLES

      1                                 .IF     NE      KBC360
      2
      3                                 $$$$$$  =       .
      4                                         TMPORG  TTDVR,XL2741-TTDVR+<KBC3
60-1*2>
      5                                         .WORD   C32ASC
      6                                         TMPORG  TTDVR,CD2741-TTDVR+<KBC3
60-1*2>
      7                                         .WORD   C087.0
      8                                         TMPORG  TTDVR,$$$$$$-TTDVR
      9
     10                                 C087.0::.ASCIZ  <15>"C087"<15><12>
     11
     12                                 .SBTTL
     13                                 .SBTTL  CALL/360 BASIC CODE TO ASCII CON
VERSION
     14                                 .SBTTL
     15                                 .SBTTL    IBM CORRESPONDENCE CODE, 11670
87 PRINT ELEMENT AND KEYBOARD
     16                                 .SBTTL
     17                                 .SBTTL    UPPER CASE
     18
     19                                 ;                        CORR  2741
ASCII    CORR  2741     ASCII
     20                                 ;                        CODE  GRAPHIC
CHAR     CODE  GRAPHIC  CHAR
     21
     22                                         TMPORG  TTMAPD
     23
     24                                 C32ASC::.BYTE   040,000 ;  0   SPACE
SPACE   ;  1   UNUSED   NULL
     25                                         .BYTE   000,077 ;  2   UNUSED
NULL    ;  3   DEGREE   ? MARK
     26                                         .BYTE   077,000 ;  4   .LE
? MARK  ;  5   UNUSED   NULL
     27                                         .BYTE   000,000 ;  6   UNUSED
NULL    ;  7   UNUSED   NULL
     28                                         .BYTE   077,000 ; 10   .NE.
? MARK  ; 11   UNUSED   NULL
     29                                         .BYTE   000,136 ; 12   UNUSED
NULL    ; 13   ^ UPARO  ^ UPARO
     30                                         .BYTE   000,000 ; 14   UNUSED
NULL    ; 15   UNUSED   NULL
     31                                         .BYTE   000,000 ; 16   UNUSED
NULL    ; 17   UNUSED   NULL
     32                                         .BYTE   042,072 ; 20   " QUOTS
" QUOTS ; 21   : COLON  : COLON
     33                                         .BYTE   000,057 ; 22   UNUSED
NULL    ; 23   / SLASH  / SLASH
     34                                         .BYTE   045,000 ; 24   % PRCNT
% PRCNT ; 25   UNUSED   NULL
     35                                         .BYTE   000,000 ; 26   UNUSED
NULL    ; 27   UNUSED   NULL
     36                                         .BYTE   077,000 ; 30   .GE.
? MARK  ; 31   UNUSED   NULL
     37                                         .BYTE   000,000 ; 32   UNUSED
NULL    ; 33   UNUSED   NULL
     38                                         .BYTE   203,010 ; 34   UC SHFT
SO      ; 35   BKSP     BKSP
     39                                         .BYTE   000,201 ; 36   UNUSED
NULL    ; 37   LC SHFT  SI
     40                                         .BYTE   047,000 ; 40   ' QUOTE
' QUOTE ; 41   UNUSED   NULL
     41                                         .BYTE   041,000 ; 42   ! EXCLM
! EXCLM ; 43   UNUSED   NULL
     42                                         .BYTE   046,043 ; 44   & AMPER
& AMPER ; 45   # LBSGN  # LBSGN
     43                                         .BYTE   000,000 ; 46   UNUSED
NULL    ; 47   UNUSED   NULL
     44                                         .BYTE   076,000 ; 50   > .GT.
> .GT.  ; 51   UNUSED   NULL
     45                                         .BYTE   044,000 ; 52   $ DOLR
$ DOLR  ; 53   UNUSED   NULL
     46                                         .BYTE   000,224 ; 54   UNUSED
NULL    ; 55   RETURN   LF
     47                                         .BYTE   000,011 ; 56   INDEX
NULL    ; 57   TAB      TAB
     48                                         .BYTE   074,077 ; 60   < .LT.
< .LT.  ; 61   ? MARK   ? MARK
     49                                         .BYTE   000,137 ; 62   UNUSED
NULL    ; 63   UNDER    UNDER
     50                                         .BYTE   174,000 ; 64   VBAR
VBAR    ; 65   UNUSED   NULL
     51                                         .BYTE   000,055 ; 66   UNUSED
NULL    ; 67   - MINUS  - MINUS
     52                                         .BYTE   134,100 ; 70   NOT
\ BSLSH ; 71   @ AT     @ AT
     53                                         .BYTE   077,073 ; 72   CENT
? MARK  ; 73   ; SEMI   ; SEMI
     54                                         .BYTE   206,000 ; 74   (EOT)
CTRL/C  ; 75   IDLE     NULL
     55                                         .BYTE   000,177 ; 76   UNUSED
NULL    ; 77   DATEL CD RUBOUT
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 197
CHARACTER LISTS AND DISPATCH TABLES

      1                                 .SBTTL    LOWER CASE
      2
      3                                 ;                        CORR  2741
ASCII    CORR  2741     ASCII
      4                                 ;                        CODE  GRAPHIC
CHAR     CODE  GRAPHIC  CHAR
      5
      6                                         .BYTE   040,075 ;  0   SPACE
SPACE   ;  1   = EQUAL  = EQUAL
      7                                         .BYTE   124,112 ;  2   UC T
UC T    ;  3   UC J     UC J
      8                                         .BYTE   064,117 ;  4   4
4       ;  5   UC O     UC O
      9                                         .BYTE   114,000 ;  6   UC L
UC L    ;  7   UNUSED   NULL
     10                                         .BYTE   065,051 ; 10   5
5       ; 11   ) RPARN  ) RPARN
     11                                         .BYTE   105,120 ; 12   UC E
UC E    ; 13   UC P     UC P
     12                                         .BYTE   000,000 ; 14   UNUSED
NULL    ; 15   UNUSED   NULL
     13                                         .BYTE   000,000 ; 16   UNUSED
NULL    ; 17   UNUSED   NULL
     14                                         .BYTE   062,056 ; 20   2
2       ; 21   PERIOD   PERIOD
     15                                         .BYTE   116,052 ; 22   UC N
UC N    ; 23   * ASTER  * ASTER
     16                                         .BYTE   132,000 ; 24   UC Z
UC Z    ; 25   UNUSED   NULL
     17                                         .BYTE   000,000 ; 26   UNUSED
NULL    ; 27   UNUSED   NULL
     18                                         .BYTE   066,111 ; 30   6
6       ; 31   UC I     UC I
     19                                         .BYTE   113,121 ; 32   UC K
UC K    ; 33   UC Q     UC Q
     20                                         .BYTE   203,177 ; 34   UC SHFT
SO      ; 35   BKSP     RUBOUT
     21                                         .BYTE   000,201 ; 36   UNUSED
NULL    ; 37   LC SHFT  SI
     22                                         .BYTE   061,115 ; 40   1
1       ; 41   UC M     UC M
     23                                         .BYTE   130,107 ; 42   UC X
UC X    ; 43   UC G     UC G
     24                                         .BYTE   060,123 ; 44   0
0       ; 45   UC S     UC S
     25                                         .BYTE   110,131 ; 46   UC H
UC H    ; 47   UC Y     UC Y
     26                                         .BYTE   067,122 ; 50   7
7       ; 51   UC R     UC R
     27                                         .BYTE   104,050 ; 52   UC D
UC D    ; 53   ( LPARN  ( LPARN
     28                                         .BYTE   000,232 ; 54   UNUSED
NULL    ; 55   RETURN   CR
     29                                         .BYTE   000,011 ; 56   INDEX
NULL    ; 57   TAB      TAB
     30                                         .BYTE   063,126 ; 60   3
3       ; 61   UC V     UC V
     31                                         .BYTE   125,106 ; 62   UC U
UC U    ; 63   UC F     UC F
     32                                         .BYTE   071,127 ; 64   9 (EOA)
9       ; 65   UC W     UC W
     33                                         .BYTE   102,053 ; 66   UC B
UC B    ; 67   + PLUS   + PLUS
     34                                         .BYTE   070,101 ; 70   8
8       ; 71   UC A     UC A
     35                                         .BYTE   103,054 ; 72   UC C
UC C    ; 73   , COMMA  , COMMA
     36                                         .BYTE   252,000 ; 74   (EOT)
CTRL/U  ; 75   IDLE     NULL
     37                                         .BYTE   000,177 ; 76   UNUSED
NULL    ; 77   DATEL CD RUBOUT
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 198
CHARACTER LISTS AND DISPATCH TABLES

      1                                 .SBTTL
      2                                 .SBTTL  ASCII TO CALL/360 BASIC CODE
      3                                 .SBTTL
      4                                 .SBTTL    IBM CORRESPONDENCE CODE, 11670
87 PRINT ELEMENT AND KEYBOARD
      5
      6                                 ;                        ASCII ASCII
2741     ASCII  ASCII   2741
      7                                 ;                        CODE  CHAR
GRAPHIC  CODE   CHAR    GRAPHIC
      8
      9                                 ASC2C3::.BYTE   075,075 ;  0   NULL
IDLE    ;  1   SOH      IDLE
     10                                         .BYTE   075,075 ;  2   STX,EOA
IDLE    ;  3   ETX      IDLE
     11                                         .BYTE   075,075 ;  4   EOT
IDLE    ;  5   ENQ      IDLE
     12                                         .BYTE   075,075 ;  6   ACK
IDLE    ;  7   BELL     IDLE
     13                                         .BYTE   035,057 ; 10   BKSP
BKSP    ; 11   TAB      TAB
     14                                         .BYTE   056,075 ; 12   LF
INDEX   ; 13   VT       IDLE
     15                                         .BYTE   075,255 ; 14   FF
IDLE    ; 15   CR       RETURN
     16                                         .BYTE   375,275 ; 16   SO
UC SHFT ; 17   SI       LC SHFT
     17                                         .BYTE   075,075 ; 20   DLE
IDLE    ; 21   XON      IDLE
     18                                         .BYTE   075,075 ; 22   AUX ON
IDLE    ; 23   XOFF     IDLE
     19                                         .BYTE   075,075 ; 24   AUX ON
IDLE    ; 25   NAK      IDLE
     20                                         .BYTE   075,075 ; 26   SYN
IDLE    ; 27   ETB      IDLE
     21                                         .BYTE   075,075 ; 30   CANCL
IDLE    ; 31   EOM      IDLE
     22                                         .BYTE   075,075 ; 32   SUB,^Z
IDLE    ; 33   ESCAPE   IDLE
     23                                         .BYTE   075,075 ; 34   FS
IDLE    ; 35   GS       IDLE
     24                                         .BYTE   075,075 ; 36   RS
IDLE    ; 37   US       IDLE
     25                                         .BYTE   000,342 ; 40   SPACE
SPACE   ; 41   ! EXCLM  ! EXCLM
     26                                         .BYTE   320,345 ; 42   " QUOTS
" QUOTS ; 43   # LBSGN  # LBSGN
     27                                         .BYTE   352,324 ; 44   $ DOLR
$ DOLR  ; 45   % PRCNT  % PRCNT
     28                                         .BYTE   344,340 ; 46   & AMPER
& AMPER ; 47   ' QUOTE  ' QUOTE
     29                                         .BYTE   253,211 ; 50   ( LPARN
( LPARN ; 51   ) RPARN  ) RPARN
     30                                         .BYTE   223,267 ; 52   * ASTER
* ASTER ; 53   + PLUS   + PLUS
     31                                         .BYTE   273,367 ; 54   , COMMA
, COMMA ; 55   - MINUS  - MINUS
     32                                         .BYTE   221,323 ; 56   PERIOD
PERIOD  ; 57   / SLASH  / SLASH
     33                                         .BYTE   244,240 ; 60   0
0       ; 61   1        1
     34                                         .BYTE   220,260 ; 62   2
2       ; 63   3        3
     35                                         .BYTE   204,210 ; 64   4
4       ; 65   5        5
     36                                         .BYTE   230,250 ; 66   6
6       ; 67   7        7
     37                                         .BYTE   270,264 ; 70   8
8       ; 71   9        9
     38                                         .BYTE   321,373 ; 72   : COLON
: COLON ; 73   ; SEMI   ; SEMI
     39                                         .BYTE   360,201 ; 74   < .LT.
< .LT.  ; 75   = EQUAL  = EQUAL
     40                                         .BYTE   350,361 ; 76   > .GT.
> .GT.  ; 77   ? MARK   ? MARK
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 199
CHARACTER LISTS AND DISPATCH TABLES

      1                                 ;                        ASCII ASCII
2741     ASCII  ASCII   2741
      2                                 ;                        CODE  CHAR
GRAPHIC  CODE   CHAR    GRAPHIC
      3
      4                                         .BYTE   371,271 ;100   @ AT
@ AT    ;101   UC A     UC A
      5                                         .BYTE   266,272 ;102   UC B
UC B    ;103   UC C     UC C
      6                                         .BYTE   252,212 ;104   UC D
UC D    ;105   UC E     UC E
      7                                         .BYTE   263,243 ;106   UC F
UC F    ;107   UC G     UC G
      8                                         .BYTE   246,231 ;110   UC H
UC H    ;111   UC I     UC I
      9                                         .BYTE   203,232 ;112   UC J
UC J    ;113   UC K     UC K
     10                                         .BYTE   206,241 ;114   UC L
UC L    ;115   UC M     UC M
     11                                         .BYTE   222,205 ;116   UC N
UC N    ;117   UC O     UC O
     12                                         .BYTE   213,233 ;120   UC P
UC P    ;121   UC Q     UC Q
     13                                         .BYTE   251,245 ;122   UC R
UC R    ;123   UC S     UC S
     14                                         .BYTE   202,262 ;124   UC T
UC T    ;125   UC U     UC U
     15                                         .BYTE   261,265 ;126   UC V
UC V    ;127   UC W     UC W
     16                                         .BYTE   242,247 ;130   UC X
UC X    ;131   UC Y     UC Y
     17                                         .BYTE   224,253 ;132   UC Z
UC Z    ;133   [ LBRCK  ( LPARN
     18                                         .BYTE   370,211 ;134   BSLASH
NOT     ;135   ] RBRCK  ) RPARN
     19                                         .BYTE   313,363 ;136   ^ UPARO
^ UPARO ;137   UNDER    UNDER
     20                                         .BYTE   340,271 ;140   GRAVE
' QUOT  ;141   LC A     UC A
     21                                         .BYTE   266,272 ;142   LC B
UC B    ;143   LC C     UC C
     22                                         .BYTE   252,212 ;144   LC D
UC D    ;145   LC E     UC E
     23                                         .BYTE   263,243 ;146   LC F
UC F    ;147   LC G     UC G
     24                                         .BYTE   246,231 ;150   LC H
UC H    ;151   LC I     UC I
     25                                         .BYTE   203,232 ;152   LC J
UC J    ;153   LC K     UC K
     26                                         .BYTE   206,241 ;154   LC L
UC L    ;155   LC M     UC M
     27                                         .BYTE   222,205 ;156   LC N
UC N    ;157   LC O     UC O
     28                                         .BYTE   213,233 ;160   LC P
UC P    ;161   LC Q     UC Q
     29                                         .BYTE   251,245 ;162   LC R
UC R    ;163   LC S     UC S
     30                                         .BYTE   202,262 ;164   LC T
UC T    ;165   LC U     UC U
     31                                         .BYTE   261,265 ;166   LC V
UC V    ;167   LC W     UC W
     32                                         .BYTE   242,247 ;170   LC X
UC X    ;171   LC Y     UC Y
     33                                         .BYTE   224,361 ;172   LC Z
UC Z    ;173   LBRCE    ? MARK
     34                                         .BYTE   364,361 ;174   VBAR
VBAR    ;175   RBRCE    ? MARK
     35                                         .BYTE   361,077 ;176   TLDE
? MARK  ;177   RUB      RUBOUT
     36
     37                                         UNORG
     38
     39                                 .ENDC   ;KBC360
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 200
SOME USEFUL ASCII STRINGS

      1                                 .SBTTL  SOME USEFUL ASCII STRINGS
      2
      3 013026     136     122     015  TTICRC::.ASCII  %^R%<15><12><200>
        013031     012     200
      4 013033     136     132     015  TTICZC::.ASCII  %^Z%<15><12><200>
        013036     012     200
      5 013040     136     125     015  TTICUC::.ASCII  %^U%<15><12><200>
        013043     012     200
      6 013045     136     117     015  TTICOC::.ASCII  %^O%<15><12><200>
        013050     012     200
      7 013052     136     103          TTICCC::.ASCII  %^C%
      8 013054     015     012     200  CRLF.0::.ASCII  <15><12><200>
      9
     10 013057     012     012     012  LINES4::.ASCII  <12><12><12>
     11 013062     012     000          LF::    .ASCIZ  <12>
     12
     13 013064     015     000          CR::    .ASCIZ  <15>
     14
     15 013066     134     000          TTBACK::.ASCIZ  %\%
     16
     17 013070     044     000          DOLLAR::.ASCIZ  %$%
     18
     19                                 .ENABL  LC
     20
     21 013072     015     012     077  EXCDED::.ASCII  <15><12>%?NO LOGINS%<15>
<12><200>
        013075     116     157     040
        013100     154     157     147
        013103     151     156     163
        013106     015     012     200
     22
     23                                 .DSABL  LC
     24
     25                                         .EVEN
     26
     27         000001                  .END
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 200-1
SYMBOL TABLE

ALT.DX= 054504          CHKLIN  011314RG    002 CRBFQ   000034          DJ1NL =
000020          EOF   = ****** G
ALT.KB= 052124          CHKRSX  012436RG    002 CREFQ   000004          DJ11  =
000002 G        EP      000000
ALT.MM= 052115          CHKXRB= ****** G        CREJOB  004044R     002 DLNFQ
000006          ERC$CD  000036
ASCOUE  011400RG    002 CHOBIN  007750RG    002 CRLF.0  013054RG    002 DL11CD=
000020 G        ERC$CK  000001
ASCOUF  011370RG    002 CHORTS  007746RG    002 CRTFQ   000032          DL11E =
000000 G        ERC$CR  000035
ASCOUT  011410RG    002 CHOUT   007504RG    002 CR11  = 000000          DMCHND 
000030          ERC$DB  000023
ASCOUU  011370RG    002 CHOUTE  007464RG    002 CSR.KB= ****** G        DMC11 =
000000          ERC$DC  000014
ASKINP  012304RG    002 CHROUT  007766RG    002 CTRLCE= ****** G        DMPJOB=
****** G        ERC$DD  000047
ASNTBL  000000R     010 CH$BSZ  000032          DALFQ   000030          DM11BB=
000000 G        ERC$DF  000015
ASN$KB  011470RG    002 CH$CTL  000000          DATE    001000          DOKILL
003140RG    002 ERC$DK  000017
ASN$PK  000110RG    002 CH$DAT  000031          DATERR= ****** G        DOLLAR
013070RG    002 ERC$DL  000024
ASSFQ   000024          CH$DLM  000026          DC11  = 000000 G        DOXON
011306RG    002 ERC$DM  000020
ATRFQ   000000          CH$FLM  000024          DDASN   100000          DQS$OO
000012          ERC$DP  000021
AUDHND  000032          CH$LIM  000022          DDAUX   020000          DSKHND
000000          ERC$DR  000022
BADCNT= ****** G        CH$MOD  000030          DDAUXA  040000          DSKSIZ
000020          ERC$DS  000016
BBAAP5  000006          CH$NXT  000006          DDBSET  004432RG    002 DSPFQ
000054          ERC$DT  000031
BBASND  000004          CH$PAR  000012          DDBUFC  000012          DSQCNT
000016          ERC$DX  000041
BBAUNT  000011          CH$PRV  000010          DDCNT   000006          DSQCTO
000036          ERC$J0  000002
BBDAP5  000016          CH$SEC  000004          DDCONS  020000          DSQERR
000003          ERC$KB  000030
BBDINT  000014          CH$TAG  000014          DDFLAG  000010          DSQFAR
000021          ERC$KT  000010
BBDOFF  000001          CH$TIC  000002          DDHORC  000021          DSQFBL
000010          ERC$LP  000032
BBDSTA  000012          CH$USM  000016          DDHORZ  000020          DSQFBM
000007          ERC$MM  000040
BBDUNT  000010          CH$WTG  000020          DDIDX   000000          DSQFUN
000020          ERC$MS  000046
BBGIRB  000002          CKCRLF  010336RG    002 DDJBNO  000002          DSQJOB
000002          ERC$MT  000037
BBSTS   000000          CKPCOL  011246RG    002 DDNET   004000          DSQL3Q
000004          ERC$NW  000045
BC      000004          CLRBUF= ****** G        DDNFS   000400          DSQMAL
000014          ERC$PA  000007
BCBSIZ  000006          CLRTER  011562R     002 DDPRVO  000400          DSQMAM
000013          ERC$PF  000006
BFQ.KB= ****** G        CLRTIN  011476R     002 DDRLO   001000          DSQMSC
000022          ERC$PP  000034
BFQ.LP= 000024          CLRTTI  011526RG    002 DDSTAT  100000          DSQOPT
000030          ERC$PR  000033
BFQ.PP= 000012          CLSFQ   000000          DDSTS   000001          DSQOUN
000032          ERC$RI  000005
BFQ.PR= 000012          CLSTBL  000000R     013 DDS.DX= 000034          DSQPDA
000026          ERC$RJ  000043
BF.CNT  000006          CLS$KB  003560RG    002 DDS.LP= 000040          DSQPTO
000034          ERC$T4  000004
BF.LNK  000004          CLS$PK  000176RG    002 DDS.MM= 000046          DSQPUN
000037          ERC$UI  000003
BF.OFF  000002          CNT.DB= 000010          DDS.NL= 000010          DSQRFN
000012          ERC$XM  000042
BF.SIZ  000000          CNT.DC= 000000          DDS.PK= 000014          DSQSAV
000033          ERC$XX  000000
BGBUFF  000006          CNT.DF= 000000          DDS.PP= 000020          DSQSIZ
000040          ERC$XY  000044
BGQRET  000002          CNT.DK= 000000          DDS.PR= 000020          DSQTOT
000024          ERL$KB  000642R     002
BINEND  011510RG    002 CNT.DL= 000004          DDTIME  000004          DSQUNT
000006          ERRFQ   000016
BITWRD= ****** G        CNT.DM= 000000          DDUNT   000003          DSTATS=
000001          ESCLST  013014RG    002
BUFHDR  000010          CNT.DP= 000000          DDUTIL  040000          DTAHND
000004          EXCDED  013072RG    002
BYEFQ   000044          CNT.DR= 000010          DDWLO   002000          DTRFQ
000002          EXTFQ   000042
C       000001          CNT.DS= 000000          DEAFQ   000026          DT2HND
000036          FBBSIZ  000004
CALFIP  104000          CNT.DX= 000010          DEATBL  000000R     011 DZ11  =
000000 G        FETCH = ****** G
CCC.DX= 000000          CNT.KB= 000104          DEA$KB  011470RG    002 DZ11AB=
000000 G        FIJBDA= ****** G
CCC.KB= 000001          CNT.LP= 000001          DEA$PK  000110RG    002 DZ2741=
000000 G        FIJOB = ****** G
CCC.LP= 000001          CNT.MM= 000002          DETERR  002032RG    002 ECHOIN
005100RG    002 FIPRIV= ****** G
CCC.MM= 000000          CNT.NL= 000001          DETJOB  004062RG    002 EKOCTL=
000001 G        FIRQB   000402
CCC.NL= 000000          CNT.PK= 000004          DETKEY= ****** G        EKOCTW=
****** G        FLGFRC  020000
CCC.PK= 000001          CNT.PP= 000001          DEV.KB= ****** G        EKODEC
003310RG    002 FLGKB   040000
CCC.PP= 000001          CNT.PR= 000001          DH11  = 000000 G        EKOEND
003620RG    002 FLGMOD  010000
CCC.PR= 000001          CONNEX= ****** G        DH2741= 000000 G        EKOPNT=
****** G        FLGPOS  004000
CDRHND  000014          CONTXT  000060          DIRFQ   000012          EKOTYP
003656RG    002 FLGRND  100000
CD11  = 000000          CORCMN  000460          DJINT   004204RG    002 ELAFQ
000006          FNDLIN  004140RG    002
CHKDLF  010354RG    002 CORPOS  012172RG    002 DJKBN = ****** G        EMTSIZ=
000100          FP      000002
CHKESC  012252RG    002 CPUTIM  001024          DJONT   004262RG    002 ENDKEY
003734R     002 FPPTXT  000112
CHKFRE  010116RG    002 CR      013064RG    002 DJOUT   004502RG    002 ENDRUB
007222RG    002 FQADDR  000036
CHKINP  007042RG    002 CRAFQ   000004          DJ0NL = 000020          ENTODT=
****** G        FQBSIZ  000040
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 200-2
SYMBOL TABLE

FQBUFL  000020          JDBRST  000035          JSTATK= ****** G        LOG$DK
104030          NSTORG  001000
FQCLUS  000034          JDFLG   000002          JSTATS= 000001          LOG$DL
104042          NULHND  000026
FQDEV   000030          JDFLG2  000012          JSTEL   004000          LOG$DM  
104032          OPNFQ   000002
FQDEVN  000032          JDIOB   000000          JSTIM   020000          LOG$DP
104034          OPNTBL  000000R     012
FQERNO  000004          JDIOST  000004          JS.KB   000002          LOG$DR
104036          OPN$KB  003430RG    002
FQEXT   000014          JDJDB2  000010          JS.PK = ****** G        LOG$DS
104026          OPN$PK  000112RG    002
FQFIL   000004          JDMCTL  000020          JS.SY   000001          LOG$J0
104002          OUT     000002
FQFLAG  000024          JDPOST  000005          J2CON   000004          LOG$KB=
****** G        PC    =%000007
FQFSIZ  000054          JDPRI   000034          J2CPU   000002          LOG$KT
104016          PF.CSZ  020000
FQFUN   000003          JDRESB  000032          J2CPUI  000036          LOG$NW
104020          PF.EMT  100000
FQJOB   000002          JDRESQ  000016          J2CPUM  000013          LOG$PA
104014          PF.KBM  000400
FQMODE  000022          JDRTS   000014          J2DEV   000010          LOG$PF
104012          PF.NER  004000
FQNAM1  000010          JDSIZE  000026          J2DRTS  000020          LOG$RI
104010          PF.REM  010000
FQNAM2  000020          JDSIZM  000036          J2KCT   000006          LOG$SZ=
000044          PF.RW   002000
FQNENT  000036          JDSIZN  000013          J2KCTM  000012          LOG$T4
104006          PF.SLA  040000
FQPFLG  000026          JDSWAP  000037          J2MPTR  000022          LOG$UI
104004          PF.1US  001000
FQPPN   000006          JDWORK  000006          J2NAME  000014          LOKFQ
000022          PKBHND  000020
FQPROT  000027          JFBIG   020000          J2PCNT  000026          LOOPCK=
****** G        PKDDDB= ****** G
FQSIZ   000016          JFCC    000010          J2PPN   000030          LPTHND
000006          PKINWT= ****** G
FQSIZM  000005          JFCTXT  000001          J2PPTR  000024          LP11  =
000001          PKMODE= ****** G
FQSWIT  000020          JFFPP   001000          J2TICK  000000          LS.LIB
000200          PKS     172540
FREBUF= ****** G        JFGO    000100          J2UFDR  000032          L.PPN
000006          PKSTKB= 000040 G
FREES = ****** G        JFIOKY  000002          J2WPTR  000034          L.PROT
000035          PKTOKB  000066RG    002
FTIMER  010252RG    002 JFKILL  000200          KBBCD = 000000          L.STAT
000034          PK11  = 000004 G
F.FBNL  000002          JFKIL2  000100          KBCORR= 000000          L3QSIZ
000076          PLTHND  000034
F.FBNM  000001          JFLOCK  040000          KBC360= 000000          MAPFQ
000010          PO.CKC  000002 G
F.UNT   000000          JFNOPR  010000          KBDINT  000000R     015 MAPORA=
000004          PO.FCR  000040 G
GETSML  000377          JFPOST  000001          KBEBCD= 000000          MAPPED
012526RG    002 PO.KIL  000020 G
GOCRLF  010346RG    002 JFPPT   000040          KBEDDB= ****** G        MAXCNT=
****** G        PO.NCK  000001 G
HOR.LP= 000120          JFPRIV  002000          KBEREG= ****** G        MAXJOB=
****** G        PO.NTX  000004 G
IBMHND  000042          JFPRTY  000002          KBESCN= ****** G        MBXHND
000044          PO.STL  000010 G
II11  = 000000          JFREDO  000200          KBESC4= ****** G        MCBSIZ
000012          PP11  = 000001
IN      000004          JFRSXP  000004          KBETBL= ****** G        MMUSR0
177572          PRVIOL= ****** G
INUSE = ****** G        JFRUN   000004          KBETMP= ****** G        MODCLK=
****** G        PR0     034000
IOEXIT= ****** G        JFSPCL  100000          KBEUNT= ****** G        MTAHND
000016          PR1     034040
IOFINC= ****** G        JFSPRI  000400          KBFDDB= ****** G        MULTTC
001274RG    002 PR11  = 000001
IOFINI= ****** G        JFSTAK  000020          KB2741= 000000 G        MULTTO
001530RG    002 PR2     034100
IOREDO= ****** G        JFSWPE  000040          KEY     000400          MULTTS
001372RG    002 PR3     034140
IOSTAL  003220RG    002 JFSWPR  000010          KISAR0  172340          MULTTY=
000001 G        PR4     034200
IOSTS   001014          JFSYS   004000          KISAR5  172352          MUXKBN
004362RG    002 PR5     034240
IOTEST  003114RG    002 JFSYST  000400          KISAR6  172354          M.CTRL
000007          PR6     034300
IRBBFL  000016          JF2CC   000020          KISDR0  172300          M.PHYA
000010          PR7     034340
IRBCHN  000004          JOB     001006          KL11  = 000020 G        M.PNXT
000002          PS      177776
IRBCON  000012          JOBCHK  012200RG    002 KMCHND  000040          M.PPRV
000000          PTABLE= ****** G
IRBDPT  000024          JOBCLK= ****** G        KMC11 = 000000          M.SIZE
000006          PTPHND  000012
IRBEPT  000030          JOBCNT= ****** G        LCK     000200          M.TSIZ
000004          PTRHND  000010
IRBFPT  000026          JOBDA   001010          LCLCPY  000100          N
000010          P$BREM  000012
IRBFUN  000000          JOBF    001012          LCL$MN  177777          NETFQ
000052          P$BUFA  000002
IRBMMU  000020          JOBJD2  001020          LCL$MX  000003          NEWJOB
006152RG    002 P$LINK  000000
IRBMOD  000010          JOBMAX= 000030          LF      013062RG    002 NEXT
001007          P$PARM  000014
IRBNXT  000014          JOBRTS  001022          LINES4  013057RG    002 NOCHAR
007206RG    002 P$SNDR  000005
IRBSIZ  000022          JOBTBL= ****** G        LKS     177546          NODEVC=
****** G        P$SPPN  000006
IRBSTA  000002          JOBWDB  001026          LOGICL= 000012          NOECHO
000040          P$TYPE  000004
IRB18L  000006          JOBWRK  001016          LOG$CK  104000          NONMSK
000040          P.BAD   177754
IRB18M  000005          JSALL = ****** G        LOG$DB  104040          NONRTS
000036          P.BPT   177756
JBSTAT= ****** G        JSBUF   040000          LOG$DC  104022          NOROOM=
****** G        P.CC    177770
JBWAIT= ****** G        JSFIP   010000          LOG$DF  104024          NOSUCH=
****** G        P.CRAS  177744
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 200-3
SYMBOL TABLE

P.DEXT  177734          RHERR   040000          R5    =%000005          T
000020          TO$ESC  010616RG    002
P.EMT   177762          RHESET  000011          SA.LCL  000001          TABSET=
****** G        TO$FF   010146RG    002
P.FIS   177742          RHILF   000001          SA.NET  000004          TAPE
000020          TO$LF   010536RG    002
P.FLAG  177732          RHILR   000002          SA.PRV  000002          TC11  =
000000          TO$TAB  010270RG    002
P.FPP   177766          RHMCPE  020000          SA.XOF  000200          TECOCK
011212RG    002 TO$VT   010200RG    002
P.IOT   177760          RHMDPE  000400          SA.1SH  000010          TECOCS
011204RG    002 TO.BIN  010000 G
P.ISIZ  177736          RHMOH   020000          SCRUMX= ****** G        TECOCX
011222RG    002 TO.DEC  000400 G
P.MSIZ  177740          RHMOL   010000          SENDFN  010222RG    002 TERDSP
000000R     016 TO.MUL  100000 G
P.NEW   177750          RHMR    000024          SENDF1  010210RG    002 TIMCLK
001005          TO.PRE  002000 G
P.OFF   177732          RHMXF   001000          SERTBL  000000R     014 TIME
001002          TO.RSX  001000 G
P.RUN   177752          RHNED   010000          SER$KB  001720RG    002 TIMSEC
001004          TO.SUF  004000 G
P.SIZE  177774          RHNEM   004000          SER$PK  000252RG    002 TIM.KB=
****** G        TS11  = 000000
P.STRT  177746          RHNSA   100000          SETDTR  004430R     002 TI$ALT
011106RG    002 TTACTV  100000
P.TRAP  177764          RHOPI   020000          SETMOD  003470RG    002 TI$AL1
011132RG    002 TTBACK  013066RG    002
P.2CC   177772          RHPE    020000          SETPKW  003224RG    002 TI$BS
007154RG    002 TTBIN   000001
QBGBUF  000010          RHPGE   002000          SETPRM  004346R     002 TI$CB
011014RG    002 TTBREK  000400
QBRING  010000          RHPIP   020000          SILOEX  004234RG    002 TI$CC  
006452RG    002 TTCHAR  000034
QBUFRT  100000          RHREAD  000071          SL      177774          TI$CCG
010766RG    002 TTCKBS  007170RG    002
QCACHE  000002          RHRMR   000004          SLINT0  004374RG    002 TI$CCQ
011236RG    002 TTCODE  000006
QDS$OO  000010          RHSC    100000          SLINT1  004370RG    002 TI$CCS
011236RG    002 TTCRIN  004000
QDUMP   004000          RHSPR   002000          SLONT0  004406RG    002 TI$CO
005736RG    002 TTCRLF  000004
QFAST   100001          RHTAP   040000          SLONT1  004402RG    002 TI$CR
006014RG    002 TTCRO   010000
QFILE   002000          RHTRE   040000          SLPTBL  000000R     006 TI$CRR
010634RG    002 TTDC11= ****** G
QFIP    000100          RHUNS   040000          SLP$KB  007010RG    002 TI$CTT
010634RG    002 TTDDT   000010
QFORCE  040000          RHWC    000002          SLP$PK  000060RG    002 TI$CU
007074RG    002 TTDE11= ****** G
QNSP    000400          RHWCHK  000051          SLP.KB= 000001          TI$CZ
005770RG    002 TTDFIL  002000
QSCHED  020000          RHWRIT  000061          SLP.PK= 000001          TI$EOT
011054RG    002 TTDH11= ****** G
QSTATS= 000001          RHWRL   004000          SL2741= 000000 G        TI$FF
011164RG    002 TTDJ11= ****** G
QSWAPC  000040          RH7CH   010000          SNDCHR  007564RG    002 TI$LF
006176RG    002 TTDLIM  013002RG    002
QTIMER  000001          RJEHND  000024          SNDFQ   000046          TI$RO
007240RG    002 TTDLMC  000030
QTRN    000200          RJ2780= 000000          SP    =%000006          TI$TAB
005710RG    002 TTDL11= ****** G
QUMR    000020          RSTFQ   000020          SPCTBL  000000R     005 TI.ISB
002000 G        TTDSBL  100000
RCVFQ   000050          RSXCHR  012366RG    002 SPC$KB  011712RG    002 TI.MUL
100000 G        TTDVR   000000RG    002
RDRRUN  005550RG    002 RSXCR   012350RG    002 SPC$PK  000000RG    002 TI.NST
020000 G        TTDZ11= ****** G
REGRES= ****** G        RSXEAT  012412RG    002 SRTLIN  011322RG    002 TI.RSX
001000 G        TTECTL  000010
REGSAV= ****** G        RTI3  = ****** G        STORE = ****** G        TI.RX2
004000          TTEMT   011654RG    002
REGSCR= ****** G        RTSLST= ****** G        STOREX  005622RG    002 TI.SCA
040000 G        TTESC   000020
RENFQ   000010          RUBOUT  010000          STOREY  005600RG    002 TMOHUP
001034RG    002 TTESCC  000031
REQ     000001          RUNFQ   000036          SUBLIN  004332RG    002 TMOTBL
000000R     007 TTESCI  000100
RETSML  000040          RXDHND  000022          SWP     000100          TMO$KB
000734RG    002 TTFCNT= ****** G
RETURN  000000          RX11  = 000010          SWPMAX= ****** G        TMO$OO
000016          TTFILL  000007
RFUN    000004          R.CNT   000032          SWR     177570          TMO$PK
000110RG    002 TTFORM  020000
RFUN.C  000006          R.DATA  000022          SYSVEE  030056          TM02  =
000002          TTFUNC  000010
RHAS    000016          R.DEXT  000006          SYSVEL  033460          TM11  =
000000          TTGARD  000020
RHATA   100000          R.FILE  000026          SYSVEN= 033460          TOS.PC=
000014          TTGET   006636RG    002
RHBA    000004          R.FLAG  000036          S.ACCS  000012          TOS.PS=
000016          TTHGLN  001202RG    002
RHCLR   000040          R.KSIZ  000016          S.BMAX  000014          TOS.RA=
000016          TTHPRT  020000
RHCS1   000000          R.LINK  000000          S.JBNO  000010          TOS.R0=
000002          TTHUNG  001000
RHCS2   000010          R.MCTL  000010          S.LCNT  000025          TOS.R1=
000004          TTIBAD  006160RG    002
RHDLT   100000          R.MSIZ  000035          S.LINK  000000          TOS.R2=
000006          TTICCC  013052RG    002
RHDPR   000400          R.NAME  000002          S.LLST  000026          TOS.R3=
000010          TTICC2  006444RG    002
RHDRQ   004000          R.SIZE  000034          S.LMAX  000024          TOS.R4=
000012          TTICHL  012572RG    002
RHDRY   000200          R0    =%000000          S.MCNT  000017          TOS.R5=
000014          TTICOC  013045RG    002
RHDS    000012          R1    =%000001          S.MLST  000020          TO$BS
010626RG    002 TTICRC  013026RG    002
RHDT    000026          R2    =%000002          S.MMAX  000016          TO$CR
010404RG    002 TTICUC  013040RG    002
RHDTE   010000          R3    =%000003          S.OBJT  000011          TO$CUR
010552RG    002 TTICZC  013033RG    002
RHER    000014          R4    =%000004          S.RCID  000002          TO$DCA
010572RG    002 TTIDSP  012642RG    002
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 200-4
SYMBOL TABLE

TTIJOB  006232RG    002 TTPRTY  001000          UMR.DX= 000001          UU.NLG
177776          XRMOD   000014
TTIJSB  006436RG    002 TTRDRN  010000          UMR.MM= 000001          UU.PAS
000000          XRTIME  000012
TTILFS  006046RG    002 TTRSX1  000004          UNIWIN  170200          UU.POK
177772          Z       000004
TTILF0  006104RG    002 TTRSX2  000400          UO.CLN  000001          UU.PPN
000031          $$TTMP= 000000RG    003
TTIMUL  002450RG    002 TTSAVE  005730RG    002 UO.NCD  000040          UU.PRI
177763          $$$VER= 033460
TTIN    004626RG    002 TTSCOP  000040          UO.NCF  000020          UU.RAD
000016          $$$$$$= 000017
TTINCH  004634RG    002 TTSEQC  000370          UO.WCF  000100          UU.RTS
177756          $$$$$0= 000000
TTINDL  005332RG    002 TTSEQ1  000010          UO.WCU  000200          UU.SLN
000025          .CCL    104062
TTINEC= ****** G        TTSJST  004572RG    002 USRLOG  000740          UU.SPL
177744          .CHAIN  104070
TTINER  005432RG    002 TTSTAT  140000          USRPPN  000734          UU.SWP
000027          .CLEAR  104056
TTINPT  000022          TTSTA1  040000          USRPRT  000736          UU.SYS
000032          .CORE   104006
TTINST  005202RG    002 TTSTOP  100000          USRSP   000400          UU.TB1
177775          .DATE   104034
TTINTF  000036          TTSTSP  010264RG    002 UUOFQ   000014          UU.TB2
177764          .ERLOG  104052
TTINXX  004624RG    002 TTSUBL  007400          UU$MAX  000033          UU.TRM
000020          .EXIT   104046
TTIN04  005522RG    002 TTSXOF  020000          UU$MIN  177744          UU.YLG
177777          .FSS    104064
TTIN09  004724RG    002 TTSYNC  004000          UU.ACT  177761          UU.ZER
000015          .LOGS   104054
TTIN4X  005164RG    002 TTSYST  000000R     004 UU.ASS  000012          V
000002          .MESAG  104060
TTISER  001564RG    002 TTTAB   040000          UU.ATR  177747          WFUN
000002          .NAME   104044
TTISGL  003270RG    002 TTTECO  000002          UU.ATT  000006          WFUN.C
000000          .PEEK   104012
TTISJS  006126RG    002 TTTECS  000200          UU.BCK  177765          WINFQ
000040          .PLAS   104072
TTKEEP  010546RG    002 TTUC.I  000001          UU.BYE  000005          WS$MAP
100000          .POSTN  104032
TTKL11= ****** G        TTUC.O  001000          UU.CCL  177750          WS$WRT
000400          .READ   104002
TTLA30  000200          TTUPAR  002000          UU.CHE  000023          W$NAPR
000000          .RSX    104074
TTLCIN  100000          TTWIPE  004614RG    002 UU.CHU  000010          W$NBYT
000010          .RTS    104050
TTLCOU  000200          TTWRC   040000          UU.CLN  000002          W$NLIB
000004          .RUN    104042
TTLFRC  000001          TTXANY  000004          UU.CNV  000024          W$NOFF
000006          .SET    104036
TTMAPD  000000RG    003 TTXCHL  012726RG    002 UU.DAL  000014          W$NSIZ
000002          .SLEEP  104010
TTMODE  000032          TTXOFF  040000          UU.DAT  177762          W$NSTS
000001          .SPEC   104014
TTMODM  040000          TTXON   010000          UU.DEA  000013          W.ALIB
000002          .STAT   104040
TTMSCN= ****** G        TTYHCT= ****** G        UU.DET  000007          W.LINK
000000          .TIME   104030
TTMSG   004000          TTYHND  000002          UU.DIE  177760          W.SIZE
000012          .TTAPE  104016
TTMUX   100000          TT2741  000200          UU.DIR  000017          W.WIN1
000014          .TTDDT  104024
TTNBIN  000002          TU58  = 000000          UU.DLU  000001          W.WIN2
000026          .TTECH  104020
TTNORM  011050RG    002 UC.CNT  000777          UU.DMP  177745          XOFFCH=
****** G        .TTNCH  104022
TTOCHL  012712RG    002 UC.DLW  004000          UU.ERR  000011          XONINP
012276RG    002 .TTRST  104026
TTOCVL  020000          UC.LCK  020000          UU.FCB  177770          XRB
000442          .ULOG   104076
TTODSP  012746RG    002 UC.MNT  100000          UU.FIL  177746          XRBC
000002          .UUO    104066
TTOMUL  002076RG    002 UC.NFS  010000          UU.HNG  177767          XRBLK
000010          .WRITE  104004
TTOUT   004504RG    002 UC.PRI  040000          UU.JOB  000030          XRBLKM
000007          ..CTY.= 012226RG    002
TTOVFL  000200          UC.TOP  001000          UU.KMC  000033          XRBSAV
000016          ..CTZ.= 012220RG    002
TTPARM= ****** G        UC.WLO  002000          UU.LIN  000004          XRBSIZ
000016          ..ESCP= 013022RG    002
TTPCOL  000040          UISAR0  177640          UU.LOG  177755          XRBUSE
000020          ..KBMP= 003444RG    002
TTPDLM  000033          UISDR0  177600          UU.LOK  000021          XRCI
000006          ..KBPR= 004636RG    002
TTPK11= ****** G        UMPFQ   000012          UU.MNT  000003          XRLEN
000000          ..PKMP= 000130RG    002
TTPODD  000400          UMR$OO  000014          UU.NAM  177757          XRLOC
000004

. ABS.  177777     000
        000000     001
TTDVR   013112     002
TTMAPD  000000     003
TTSYST  000004     004
SPCTBL  000010     005
SLPTBL  000010     006
TMOTBL  000010     007
ASNTBL  000010     010
DEATBL  000010     011
OPNTBL  000010     012
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE 200-5
SYMBOL TABLE

CLSTBL  000010     013
SERTBL  000010     014
KBDINT  000076     015
TERDSP  000014     016
ERRORS DETECTED:  0

VIRTUAL MEMORY USED:  7775 WORDS  ( 31 PAGES)
DYNAMIC MEMORY AVAILABLE FOR  69 PAGES
TTDVR,TTDVR/C=IN:$COMMON,$KERNEL,DK:CONFIG,IN:$CHECK,$KBDEF,$TTDVR


 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE S-1
CROSS REFERENCE TABLE (CREF V01-05 )


$$$$$$  60-6#    60-18    60-18    60-18    60-18    60-18#   60-18#  105-19#  1
05-23   105-24   105-34   106-3    106-4    106-14
       134-33
$$$$$0 105-23#  105-34   105-34   105-34#  106-3#   106-14   106-14   106-14#
$$$VER  38-1#    44-1#    46-1#
$$TTMP  47-3#
..CTY. 173-32#
..CTZ. 173-29#
..ESCP 179-46#
..KBMP  84-33#
..KBPR 122-21#
..PKMP  52-33#
.READ   54-52    76-46
.TTAPE 169-41   172-26   172-26   172-30   172-34   172-38   172-42
.TTDDT 172-38
.TTECH 172-30
.TTNCH 172-34
.TTRST 172-42
ASCOUE 129-34   130-17   142-41   144-10   157-22   159-39   164-43   165-1#
ASCOUF 131-20   131-38   164-34#
ASCOUT 132-38   137-27   150-33   152-36   165-3#
ASCOUU 141-27   164-24#
ASKINP  81-10   174-16#
ASN$KB 166-16   166-20#
ASN$PK  51-16    51-20#
ASNTBL  51-14   166-14
BADCNT  83-23
BC      57-11    79-25   127-8    127-15   127-41   128-14   145-13   150-14
BCBSIZ  45-12    45-15
BFQ.KB 116-32   116-39   150-9    150-46
BFQ.LP  43-55#
BFQ.PP  43-76#
BFQ.PR  43-66#
BINEND  63-24    76-26    86-41    88-26   167-29#
BITWRD  91-24    91-34   163-10   163-33
CCC.DX  43-142#
CCC.KB  43-6#
CCC.LP  43-54#
CCC.MM  43-113#
CCC.NL  43-12#
CCC.PK  43-21#
CCC.PP  43-75#
CCC.PR  43-65#
CD11    39-73#   43-89
CHKDLF  81-9    145-16   147-31   152-42#  176-24
CHKESC 158-27   159-24   173-47#
CHKFRE  78-6    145-11   150-9#   172-13
CHKINP  72-33    74-23    79-28   139-46   140-14#
CHKLIN  78-21    93-18   162-29#  172-18   175-31
CHKRSX  77-16    79-14   176-16#
CHKXRB 171-22
CHOBIN 145-18   147-19#
CHORTS 145-15   147-17#
CHOUT   77-44   145-12   145-16#  152-12   172-20   175-30
CHOUTE 126-53   128-20   143-21   143-46   143-48   144-8    144-11   145-11#  1
57-37   165-9
CHROUT  77-47   146-24   146-26   146-36   147-31#  151-19   151-31   154-18   1
79-29
CKCRLF 146-40   152-14   152-20   152-26#
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE S-2
CROSS REFERENCE TABLE (CREF V01-05 )


CKPCOL 123-14   123-33   161-16#
CLRBUF 120-18   168-15   168-21   168-37
CLRTER  52-37    70-30    88-33   168-33   168-36#
CLRTIN  89-5    132-37   166-41   167-14   167-17#
CLRTTI  71-36    85-33   137-1    167-32   168-9#   169-6
CLS$KB  86-19    86-23#
CLS$PK  53-19    53-23#
CLSTBL  53-17    86-17
CNT.DB  39-47#
CNT.DC  39-39#
CNT.DF  39-40#
CNT.DK  39-42#
CNT.DL  39-43#
CNT.DM  39-44#
CNT.DP  39-45#
CNT.DR  39-46#
CNT.DS  39-41#
CNT.DX  43-140#
CNT.KB  43-4     43-4#    71-23    72-21    85-26    91-26   171-4
CNT.LP  43-52#
CNT.MM  43-111#
CNT.NL  43-10#
CNT.PK  43-19#
CNT.PP  43-73#
CNT.PR  43-63#
CONNEX  70-17
CORPOS 129-11   152-16   173-5#
CR     131-20   200-13#
CR11    39-71#   43-80
CREJOB  89-2     89-26    89-29#
CRLF.0 152-36   200-8#
CSR.KB  57-3*    57-13    57-35    62-7     62-48    63-41    63-42    64-13
64-41    91-29    91-34    98-20    98-50   106-18
       106-23   127-20   127-51   149-24   149-53   162-44   162-46   163-38   1
63-43
CTRLCE  57-31
DATERR  73-18    81-33
DC11    39-8#    58-7     60-7     63-29    64-15    67-26    67-33    68-1
68-49    69-4     69-31    69-38    70-1     70-8
        71-41    72-27    73-32    74-17    74-31    76-12    88-29    98-22
98-30    99-10   105-19   108-1    108-8    111-15
       112-1    113-1    114-16   122-1    122-50   169-22   171-11
DDASN   45-45#
DDBSET  52-41   113-15#
DDBUFC  45-12#   49-46    49-46    55-5     57-11   116-9    120-18   145-13   1
47-9    150-14   168-37
DDCNT   45-10#   71-30    76-38    85-31   135-30*  137-10   137-42
DDCONS  45-43#   76-38   135-30
DDFLAG  45-11#   48-37    48-40*   48-43*   49-44    63-26*   69-9     69-17*
69-28*   77-27    77-31*   77-32*   79-17*   79-18*
        80-35*   83-3     86-42*  113-22*  113-23*  115-28*  115-43   115-45*  1
15-46*  115-50   122-39   124-3    124-8    126-34
       126-36   128-25*  129-9    131-10   131-13   131-29   131-31   131-41*  1
37-2*   142-10   142-33   142-40*  143-7    143-12
       144-7    144-9*   145-17   147-19   147-21*  149-37   150-11   151-10*  1
52-43   152-45*  156-21*  156-27*  157-25   158-29
       158-39*  159-10   159-12*  159-15*  159-37   160-42   161-21*  162-14*  1
62-29   165-1    165-13   165-15*  165-16*  166-40*
       172-17*  172-24   172-28   172-32   172-36   174-15*  174-26   174-32*  1
75-14*  176-25*  176-30   176-33*
DDHORC  45-14#   57-24    77-19   113-21*  131-12   142-17   153-25   154-17   1
54-22
DDHORZ  45-13#   57-24*   77-19   126-40*  126-42*  131-12*  142-17   142-19*  1
46-35*  146-37*  146-38*  153-26   154-17*  154-22*
       173-5*
DDIDX   45-5#
DDJBNO  45-7#    48-34    52-38    52-40*   53-27    53-32    53-34*   56-7
56-30    62-3     63-27    70-12    71-26    76-9
        85-29    86-23    88-47    90-14*  122-47   128-23   132-16   135-28*  1
37-38   139-30   169-5    169-43   171-8
DDNET   45-30#
DDPRVO  45-27#
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE S-3
CROSS REFERENCE TABLE (CREF V01-05 )


DDRLO   45-28#
DDS.DX  43-141#
DDS.LP  43-53#
DDS.MM  43-112#
DDS.NL  43-11#
DDS.PK  43-20#   82-37    82-38
DDS.PP  43-74#
DDS.PR  43-64#
DDSTAT  45-34#   73-38    77-15    78-5     79-13   129-31   137-3    172-41
DDSTS   45-6#   172-40
DDTIME  45-9#   135-29*
DDUNT   45-8#    62-4     82-36    87-22    88-38
DDUTIL  45-44#
DDWLO   45-29#
DEA$KB 166-36   166-40#
DEA$PK  49-49    50-21    51-20    51-36    51-40#
DEATBL  51-34   166-34
DETERR  73-34    74-34    75-10    76-43#
DETJOB  70-19    88-25    90-13#
DETKEY  48-48    76-43   169-7
DEV.KB  49-45    49-53    71-25    71-52    85-28    85-40    91-28    91-34   1
06-17   106-23   171-7    171-31
DH11    39-18#   58-8     61-8     62-18    62-26    66-1     66-46    69-38
91-1     92-41    92-49    93-1     97-3     97-24
        98-22    98-39   100-1    104-3    120-20   149-17   161-23   162-48   1
63-3    163-22
DH2741  39-27#   58-9
DJ0NL   39-15#
DJ11    39-14#   58-8     61-1     62-18    62-21    63-40    63-44    91-1
92-33    93-1     94-32    95-1     95-8     97-3
       104-3    115-1    149-17   162-48   163-1
DJ1NL   39-16#
DJINT   61-3     92-37#
DJKBN   92-37    92-39    94-36    94-39
DJONT   61-5     94-36#
DJOUT   95-31   115-3#
DL11CD  39-9#    58-7     60-7    105-19
DL11E   39-10#   58-7     60-7     63-29    64-15    67-3     67-33    68-1
68-49    69-4     70-1     70-8     71-41    72-27
        73-32    74-17    74-31    76-12    88-29    98-30   105-19   108-1    1
08-15   111-15   112-1    113-1    114-16   122-1
       122-50   169-22   171-11
DM11BB  39-19#   58-8     61-22    62-11    63-29    64-15    68-49    69-4
70-8     70-24    71-41    72-27    73-32    74-17
        74-31    76-12    88-29    96-1     98-30   107-41   110-1    112-1    1
13-1    114-16   122-50   169-22   171-11
DMC11   39-65#   43-39
DMPJOB  82-6     82-51
DOKILL  53-35    56-31    82-7#
DOLLAR 159-39   200-17#
DOXON  122-46   137-5    161-41   162-14#
DSTATS  39-89#
DZ11    39-21#   58-8     61-15    62-18    62-21    65-1     66-46    69-38
91-1     92-17    93-1     94-16    95-1     95-14
        97-3     98-22    99-1    104-3    115-1    149-17   162-48   163-1
DZ11AB  39-22#   58-8     63-29    63-40    64-1     64-15    68-49    69-4
70-8     71-41    72-27    73-32    74-17    74-31
        76-12    88-29    98-30   107-27   109-1    112-1    113-1    114-16   1
22-50   169-22   171-11
DZ2741  39-28#   58-9    115-30   116-1    116-14   117-1    119-1
ECHOIN  87-27   123-30   123-35   123-39#
EKOCTL  39-35#   58-10    76-29    77-36    78-28    78-36    81-18    83-8
84-36    85-9     86-26    87-1     87-20    88-43
       123-27   125-5    126-1    126-45   127-6    127-26   129-24   130-9    1
31-22   132-8    136-9    138-19   141-11   143-33
       157-11   158-9    158-32   160-11   164-36   168-12
EKOCTW  81-22    81-26    83-10    83-35*   83-40    85-11*   85-13    87-3*
87-10*   87-12    87-30*   87-32    87-35   123-34
       123-41   126-8    126-10*  126-15   132-10*  132-12   138-23*  138-26   1
41-15   141-17   141-21   168-14*  168-17
EKODEC  78-41    83-10#
EKOEND  76-33    87-3#    88-45
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE S-4
CROSS REFERENCE TABLE (CREF V01-05 )


EKOPNT 143-39   143-42
EKOTYP  83-36    87-7     87-22#
ENDKEY  88-22    88-25#
ENDRUB 124-7    142-40#
ENTODT 124-16   124-29
EOF     55-15    80-31
EP      49-46    55-5     80-4     80-39    83-12    83-14    87-25    89-3    1
16-9    120-18   138-5    140-16   157-24   168-15
       168-21   168-37
ERL$KB  61-30    62-3#
ESCLST 125-37   179-42#
EXCDED 132-38   200-21#
FETCH   55-5     80-4     80-39    87-25   116-9
FIJBDA  86-28    86-31
FIJOB   85-29    85-40    86-23    86-45
FIPRIV  52-30    52-45    84-30    84-46
FNDLIN  91-21#   93-15    95-29
FP      49-46    83-12    83-14    89-3    127-43   128-16   140-16   147-9    1
57-31
FQMODE  52-29    84-29
FREBUF 150-9
FREES  127-3    127-51
FTIMER 151-21   151-26   151-30#  151-33   154-16
GETSML 134-33
GOCRLF 142-32   152-28   152-36#
HOR.LP  43-56#
II11    39-69#   43-156
INUSE   57-29    83-16
IOEXIT  55-17    77-12    77-49    80-36
IOFINC 116-32
IOFINI  55-12    70-31    82-40    90-13   135-43   137-7
IOREDO  57-19    73-16    82-23    82-43
IOSTAL  78-18    82-2     82-4     82-19#
IOSTS   80-31*
IOTEST  75-13    81-32    82-1#
J2DRTS 135-16*
JBSTAT  56-10    56-35    82-12*   82-51   135-23*  135-49
JBWAIT  56-10    56-12    56-35    57-18*   57-35    73-15*   73-41    75-11*
75-15    77-3*    77-49    82-9     82-11*   82-51
       135-22*  135-49
JDBRST 135-18*
JDFLG   82-15*  137-26*
JDFLG2  82-16*
JDJDB2  70-15   135-15
JDMCTL 135-19*
JDPRI   82-14*  137-26*
JDRTS  135-15   135-17*  135-18*  135-19*
JDSIZM 135-17*
JDWORK  56-16
JF2CC  137-24
JFCC   137-22   137-25
JFGO   137-25
JFIOKY 135-4
JFKILL  82-16
JFNOPR  75-5     79-21    82-1    135-4    171-1
JFPOST 135-4    171-23
JFPRIV 171-1
JFSPCL  82-15   135-4
JFSYS  171-1
JOB     57-17    71-26    73-10    82-5    139-30   169-5    169-43
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE S-5
CROSS REFERENCE TABLE (CREF V01-05 )


JOBCHK 132-34   173-23#
JOBCLK  73-11*   73-12*   73-41
JOBCNT 135-24*  135-49   173-34   173-36   173-54
JOBDA   76-40
JOBF    75-5     79-21    82-1    171-1    171-23*
JOBMAX  39-83#
JOBTBL  56-14    56-35    70-14    70-35    82-13    82-51    90-24    90-34   1
35-21   135-49   137-8    137-47   173-23   173-54
JS.KB   56-12    70-31    82-11    90-13   135-22   135-23   135-43
JS.PK   82-40    82-43
JSALL   82-12    82-51   137-7    137-47
JSBUF   57-18
JSTATK 123-3*   123-4*   123-6    147-35*  147-36*  147-38
JSTATS  39-88#  123-1    147-33
JSTEL   55-12    70-31    77-3     90-13   116-32
JSTIM   70-31    73-15    82-40    90-13
KB2741  58-9     59-31   113-26   121-3    122-26   133-9    137-16   144-16   1
47-11   148-1    149-43   153-11   153-30   155-9
       164-26   174-18   180-1
KBBCD   39-31#  136-16   137-29   164-17   192-1
KBC360  39-32#  136-16   137-29   164-17   196-1
KBCORR  39-29#  136-16   137-29   164-17   184-1
KBDINT  60-3     60-4#
KBEBCD  39-30#  136-16   137-29   164-17   188-1
KBEDDB  62-5*    62-48
KBEREG  62-8*    62-48
KBESC4  62-10*   62-48
KBESCN  62-19*   62-20    62-24*
KBETBL  62-3*    62-45    62-48
KBETMP  62-6*    62-48
KBEUNT  62-4*    62-48
KBFDDB  75-9     75-15    90-29    90-34
KISAR5 177-8
KISAR6 177-7    177-8*   177-9*   177-15*
KL11    39-7#    58-7     60-7    105-19
KMC11   39-67#   43-166
L$$IST   1-1      1-2     11-49    12-1     12-2     37-50    40-1     40-2
42-28
LCLCPY  45-55#  126-34   126-36   129-9    131-10   142-10   159-37
LF     131-38   200-11#
LINES4 150-33   200-10#
LOG$KB  67-45    67-51    69-23    69-46    93-7     93-21   122-23   122-56
LOGICL  39-85#
LOOPCK  78-16
LP11    39-61#   43-49    43-52
M.CTRL 135-19*
MAPORA 177-18#
MAPPED 157-40   177-7#
MAXCNT 173-36   173-54
MAXJOB 173-34   173-54
MODCLK  63-30*   63-31    69-6     69-13    70-10    70-11*   70-35    71-43
71-46    74-33    74-37    76-14    76-18    88-30
        88-35    98-32    98-35   113-16   113-37   122-51   122-53   171-13   1
71-16
MULTTC  71-22#   72-24    73-29    74-14   169-19
MULTTO  73-24#   77-6
MULTTS  72-17#   73-5    139-39
MULTTY  39-34#   58-10    71-1     77-4     79-3     85-1     85-19    86-35   1
39-33   169-13
MUXKBN  93-3     95-3    104-20#
NEWJOB  89-30   132-34#
NOCHAR 142-32#  144-6
NODEVC  73-20
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE S-6
CROSS REFERENCE TABLE (CREF V01-05 )


NOECHO  45-54#   48-40    48-43   126-34   131-29   137-2    143-12   157-25   1
58-29   158-39   159-9    159-12   165-1    166-40
       172-29   172-33
NOROOM  57-33
NOSUCH  57-27
OPN$KB  84-25    84-29#
OPN$PK  52-25    52-29#
OPNTBL  52-23    84-23
OUT    135-19
PC      48-36*   51-40*   52-36*   52-37*   52-41*   52-43*   53-23*   53-25*
53-30*   53-35*   53-36*   54-50*   56-31*   57-6*
        62-46*   63-24*   63-33*   63-49*   69-44*   70-17*   70-19*   70-30*
70-33*   71-36*   71-37*   72-33*   74-23*   76-26*
        76-33*   77-21*   78-6*    78-11*   78-21*   78-23*   78-34*   78-41*
79-28*   80-29*   81-3*    81-9*    81-10*   82-17*
        82-39    82-41*   83-6*    83-36*   83-38*   85-17*   85-33*   85-34*
86-41*   87-7*    87-16*   87-27*   87-33*   88-25*
        88-26*   88-33*   88-40*   88-45*   89-30*   89-34*   90-18*   90-32*
91-32*   93-3*    93-12*   93-15*   93-17*   93-18*
        95-3*    95-29*   95-31*   97-20*   99-29*  106-19*  108-22*  116-33*  1
16-35*  116-37*  121-45*  122-46*  123-14*  123-21*
       123-33*  123-36*  124-7*   124-10*  124-24*  125-26*  125-52*  126-31*  1
26-53*  127-24*  127-45*  128-20*  128-26*  129-33*
       129-35*  130-16*  131-9*   132-5*   132-34*  132-36*  132-37*  132-39*  1
35-5    135-35*  135-45*  137-1*   137-4*   137-5*
       137-6*   138-53*  140-14*  140-21   140-23*  141-9*   141-16*  141-19*  1
41-25*  141-28*  142-20*  142-42*  143-11*  143-14*
       143-30   143-31*  143-46*  144-1*   144-3*   144-4*   144-13*  144-14*  1
44-23*  145-11*  145-16*  146-20*  146-40*  147-17*
       147-31*  149-49*  150-17*  151-19*  151-31*  151-35*  152-13*  152-47*  1
56-38*  157-16*  157-28*  157-37*  157-42*  157-46*
       158-17*  159-27*  159-29*  161-38*  162-54*  163-39*  165-9*   168-22*  1
69-50*  171-22*  171-24*  172-6*   172-13*  173-6*
       173-39*  174-31*  175-15*  175-30*  175-31*  176-24*  177-14*  177-16*
PK11    39-12#   43-16    43-19    47-8     58-7     63-29    63-36    69-4
70-8     71-41    72-27    73-32    74-17    74-31
        76-12    82-21    88-29    90-16    98-30   113-1    122-50   135-33   1
69-22   171-11
PKDDDB  82-38    82-43
PKINWT  49-30    49-53    52-34*   52-45    56-3*    56-35    82-39*   82-43
PKMODE  52-29*   52-32*   52-45    53-24    53-40
PKSTKB  58-9     82-38
PKTOKB  48-36    49-44#   52-36    53-25    54-50
PO.CKC  47-38#   56-22
PO.FCR  47-42#   57-22
PO.KIL  47-41#   56-28
PO.NCK  47-37#   56-5
PO.NTX  47-39#   56-32
PO.STL  47-40#   57-15
PP11    39-77#   43-70    43-73
PR11    39-75#   43-60    43-63
PR3     70-32    77-34    78-12    78-22    79-20    80-34    80-40    81-30
87-31   172-7    172-15   176-26
PR5     77-24    78-10    78-20    78-25    79-27    80-3     80-38    81-8
87-24    88-46   172-4    176-16
PR7     80-5
PRVIOL  48-46   169-52
PS      70-32*   77-24*   77-34*   78-10*   78-12*   78-20*   78-22*   78-25*
79-20*   79-27*   80-3*    80-5*    80-5*    80-34*
        80-38*   80-40*   81-8*    81-30*   87-24*   87-31*   88-46*  172-4*   1
72-7*   172-15*  176-16*  176-26*
PTABLE 149-14   149-53
QSTATS  39-87#
R.CNT  135-14*
R.MSIZ 135-12
R0      49-44*   49-45    57-3     57-13    62-7     63-41    64-13    71-22*
71-23    71-25    72-18*   72-19*   72-20    72-21
        72-23*   72-35    72-37    73-27*   73-28*   74-9*    74-11*   74-25
81-12    81-15    82-36*   82-37*   85-24*   85-25
        85-26    85-28    86-28*   86-29    87-22*   87-23*   88-38*   88-39*
88-41    91-21*   91-22*   91-23*   91-24    91-25*
        91-26    91-28    91-29    93-8     93-14*   95-4     95-10*   98-20   1
04-20*  104-21   104-21*  105-34*  106-14*  106-17
       106-18   124-14   127-20   135-26   135-44   149-24   162-44   163-38   1
69-16*  169-18*  169-38*  169-41*  169-45*  169-46*
       169-47   169-48   169-49   171-3*   171-4    171-6*   171-7    173-28   1
73-31
R1      48-34    48-37    48-40    48-43    49-30    49-44    49-45*   49-46
49-46    52-29    52-32    52-34    52-35    52-38
        52-40    52-42*   53-24    53-27    53-32    53-34    54-49    56-7
56-20    56-30    57-11    57-24    57-24    62-3
        62-4     62-5     62-22    63-25    63-26    63-27    63-30    63-37
63-45    69-6     69-9     69-17    69-28    70-10
        70-11    70-12    70-16    71-25*   71-26    71-28    71-30    71-34
71-43    73-24    73-38*   74-10    74-33    75-9
        76-9     76-14    76-24    76-27    76-32    76-38    76-41    77-13
77-19    77-19    77-27    77-31    77-32    77-39
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE S-7
CROSS REFERENCE TABLE (CREF V01-05 )


        78-3     79-13*   79-17    79-18    79-25    80-12    80-33    80-35
81-20    81-22    82-33    82-36    82-38*   82-39
        83-3     83-5     83-10    83-12    83-12    83-14    83-14    83-35
85-7     85-11    85-23    85-28*   85-29    85-31
        85-37*   86-23    86-42    86-43    87-3     87-4     87-5     87-10
87-22    87-30    87-32    88-27    88-30    88-38
        88-44    88-47    89-1     89-3     89-3     90-14    90-22    90-27
91-28*   97-17    98-32   106-17*  113-15   113-18
       113-19   113-20   113-21   113-22   113-23   113-24   115-28   115-43   1
15-45   115-46   115-50   122-36   122-39   122-42
       122-44   122-47   122-51   123-10   123-12   123-15   123-17   123-29   1
23-31   123-34   124-3    124-8    124-11   125-24
       125-27   125-31   125-34   125-38   125-45   125-50   126-6    126-8    1
26-10   126-27   126-34   126-36   126-40   126-42
       126-47   127-8    127-15   127-18   127-41   128-14   128-21   128-23   1
28-25   129-9    129-26   129-31*  130-11   131-10
       131-12   131-12   131-13   131-24   131-29   131-31   131-41   132-6    1
32-10   132-16   133-19   135-3    135-28   135-29
       135-30   135-31   136-11   137-2    137-3*   137-10   137-12   137-38   1
37-40   137-42   138-4    138-11   138-21   138-23
       139-30   139-38   139-41*  140-16   140-16   140-19   141-7    141-13   1
41-15   141-17   142-10   142-17   142-17   142-19
       142-33   142-40   143-7    143-9    143-12   143-15   143-17   143-20   1
43-25   143-28   143-39   144-7    144-9    145-13
       145-17   145-22   146-10   146-12   146-31   146-35   146-37   146-38   1
47-19   147-21   149-1    149-3    149-19   149-37
       150-11   150-14   150-31   150-40   151-10   151-20   152-9    152-18   1
52-26   152-43   152-45   153-22   153-25   153-26
       154-17   154-17   154-20   154-22   154-22   155-25   156-7    156-17   1
56-21   156-27   157-12   157-18   157-24   157-25
       157-31   158-11   158-16   158-18   158-29   158-34   158-39   159-10   1
59-12   159-15   159-28   159-35   159-37   160-13
       160-27   160-35   160-42   161-9    161-21   162-14   162-29   162-50   1
64-38   165-1    165-13   165-15   165-16   166-40
       167-18   167-29   167-31   168-10   168-14   169-5    169-15   169-42   1
69-42*  169-43   169-47*  169-48*  169-49*  171-7*
       171-8    171-13   172-17   173-5    173-47   173-49   174-15   174-26   1
74-28   174-32   175-14   176-25   176-30   176-33
R2      53-31*   54-52    55-7     56-7*    56-8*    56-10    56-10    56-12
56-14    56-14*   56-15    56-16    56-16*   56-18
        56-24    56-26    56-30*   57-4*    62-6     67-44*   69-22*   70-14*
70-15    70-15*   71-32    71-33*   71-34    71-38*
        74-25*   74-27*   74-28    75-12*   76-46    78-8*    80-9     80-10
80-12    80-16    80-19    80-22*   80-26    80-27
        80-41*   81-13*   81-15    82-3     82-5*    82-7*    82-9     82-11
82-12    82-13    82-13*   82-14    82-15    82-16
        83-18*   83-19*   83-20*   83-21    83-25    83-28*   83-29*   83-31*
83-32*   83-33    84-29*   84-32*   84-38    84-40*
        84-41*   85-7     93-6*    93-9*    93-14    97-17*   97-18*   97-19*  1
16-11   122-6*   122-20   122-32   122-34   122-38*
       123-19   123-24*  124-5    124-11   124-16   124-21   125-3    125-32   1
25-35   125-40   125-48   125-51*  126-3*   126-23
       126-25   126-30*  126-32   126-38   126-49*  128-19*  131-42*  134-9*   1
34-10   134-12*  134-31   134-32*  134-36*  135-25*
       137-44*  138-8*   138-9    138-31   138-33*  138-36*  138-37*  138-38   1
38-41   138-41*  138-42   138-44   138-47*  138-48*
       138-49   138-51*  143-23   143-39*  143-40*  143-47*  144-2*   145-19   1
45-25   145-30*  146-8    146-14   146-16*  146-17*
       146-19*  146-22*  146-23   146-25   146-27   146-29   146-34*  146-39   1
46-41*  149-9*   149-10   149-12   149-14*  149-40
       151-20*  151-23*  151-25*  151-30*  152-11*  153-25*  153-26*  153-27*  1
54-1    154-3*   154-7*   154-12*  154-13*  154-14
       154-15*  156-9    156-19   157-20   157-35*  157-36*  159-26*  159-28   1
59-40*  161-16*  161-17   161-19   161-37*  162-53
       163-10   163-30*  165-3    165-4*   165-6    165-7*   165-18*  169-32   1
69-34*  169-36*  169-37   169-38   170-39   170-41
       171-26   172-5*   175-27   175-29*  175-33*
R3      48-32    48-38    48-41    54-47    54-48    54-51    55-3     55-3
55-8*    55-9*    55-13    56-4     57-1     57-5
        57-7*    57-8*    57-9*    57-15    57-21    57-22    62-7*    62-8
62-9*    62-10    63-41*   63-47*   63-48*   64-13*
        67-40    67-47*   67-48    67-49*   69-1*    69-2*    69-18    69-25*
69-26*   69-27*   70-16*   73-7*    73-8     73-12
        73-14*   73-25    73-27    74-3     74-5     74-6     74-29*   75-7
76-7     76-8     76-22    76-45    77-5     77-9
        77-11    77-23    77-25    77-30    77-37    77-44    77-45    77-47
78-1     78-9     78-11    78-13*   78-14*   78-15*
        78-26    79-23    80-1     80-1     80-7     80-8*    80-14    80-23
80-25*   80-26    80-32    81-5     81-7     81-11*
        81-13    81-31    83-26*   91-29    93-4     93-9     95-5     95-10
95-32*   95-35    98-20*  106-18*  113-15*  113-16*
       113-17*  113-18   113-19   113-20   113-21   113-22   115-27*  115-47*  1
16-11*  116-12*  116-36*  122-5*   122-6    123-17*
       123-19   124-13*  124-21   124-24   125-37*  125-38   125-40   125-44*  1
25-47*  125-48   127-20*  127-21   127-23*  132-16*
       135-1*   135-9    135-11*  135-12   135-13   135-14   135-15*  135-16   1
35-20*  135-21*  135-22   135-23   135-28   137-8*
       137-14   137-22   137-24*  137-25*  137-26   138-4*   138-5*   138-6    1
38-6    138-8    138-17*  138-33   138-34   138-34
       138-42   138-49*  138-50*  145-21*  145-24*  145-25   145-28   149-3*   1
49-4*   149-6*   149-10*  149-11*  149-12*  149-13*
       149-14   149-24*  149-25*  149-35   149-40*  149-41*  162-44*  163-10   1
63-37   163-38*  169-16   170-38   171-3    171-20
       171-20*  171-25   171-28   171-29   172-1    172-3    172-6    172-8*   1
72-9*   172-10*  173-23*  173-24   173-26   175-28
       175-32*  175-40   175-45   175-46*  176-17   176-20
R4      48-34    52-29    54-49*   56-3     56-4*    56-5     56-22    56-28
56-32    57-17*   57-18    70-12*   70-14    71-28
        71-33    72-19    72-35    72-37    73-10*   73-11    73-12    73-15
73-24*   74-6*    74-9     74-10*   75-11    76-9
        76-32*   77-3     77-22*   77-29*   80-18*   80-19    83-25*   83-33*
83-35    84-29    86-29*   87-5     88-44*   90-24
        90-24*   90-26    90-26*   90-27    90-29*   90-30    91-24*   95-35   1
15-3    134-7*   134-35   135-2*   135-3*   135-4*
       135-5*   135-7*   135-8*   135-10*  135-12*  135-13*  135-15   135-16   1
35-17   135-18   135-19   137-8    138-13*  138-14
       138-44*  138-45   139-35   139-36*  139-38*  139-41   169-15*  175-42   1
75-47   175-48*
R5      48-37    55-5*    55-7*    55-7*    55-12*   57-4     57-4*    62-45*
67-40*   67-41*   67-42*   69-18*   69-19*   70-31*
        71-39    71-50*   72-17    72-24*   72-36    72-39*   73-5*    73-29*
74-14*   74-28*   74-28*   76-31*   76-34*   77-16*
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE S-8
CROSS REFERENCE TABLE (CREF V01-05 )


        78-8     78-8*    78-16*   79-14*   80-4*    80-9*    80-9*    80-39*
82-35*   82-40*   83-18    83-18*   83-28    83-28*
        85-3*    85-34    85-38*   86-37*   87-25*   90-13*   92-37*   93-4
94-36*  104-20   116-9*   116-32*  120-18*  127-43*
       128-16*  129-11*  129-34*  130-17*  131-20*  131-38*  132-38*  135-43*  1
37-7*   137-27*  139-39*  141-27*  142-41*  144-10*
       147-9*   150-9*   150-33*  152-12*  152-16*  152-36*  152-46*  157-22*  1
57-23   157-24*  157-27*  157-30   157-30*  157-31
       157-33   157-35   157-40*  158-27*  159-24*  159-39*  165-4    165-5    1
65-6*   165-7    165-17*  165-19   165-20*  167-17*
       168-9*   168-15*  168-21*  168-36*  168-37*  169-19*  172-5    172-5*   1
73-51   173-52*  174-30*  175-13*  175-29   175-34*
       175-42   175-44*  176-27*  176-29   176-32   176-35*  177-10   177-12   1
77-13*
RDRRUN 127-18#  174-33
REGRES  76-34
REGSAV  76-31
REGSCR  82-35   167-17   168-9    168-36
RETSML 134-8    138-46
RJ2780  39-79#   43-30
RSXCHR 152-46   174-30   175-13   175-27#
RSXCR   77-21    78-34   175-13#
RSXEAT  77-22    77-29   175-40#
RTI3    48-44   170-37   170-46
RTSLST 135-11   135-49
RUBOUT  45-61#  124-3    137-2    142-33   142-40   144-7    144-9
RX11    39-63#   43-137   43-140
SCRUMX 171-24
SENDF1 147-20   150-42   151-9#   152-17   152-19   154-23
SENDFN 150-32   151-19#
SER$KB  76-3     76-7#
SER$PK  54-43    54-47#
SERTBL  54-41    76-1
SETDTR 107-22   107-25#
SETMOD  71-37    85-7#
SETPKW  82-33#   90-18   135-35
SETPRM  98-17    98-20#  113-35
SILOEX  93-11#   95-6
SL2741  39-26#   58-9    115-30   116-1    116-14   117-1    147-3    149-27
SLINT0  60-18   105-35#
SLINT1  60-18   105-34#
SLONT0  60-18   106-15#
SLONT1  60-18   106-14#
SLP$KB 139-26   139-30#
SLP$PK  49-26    49-30#
SLP.KB  43-7#
SLP.PK  43-22#
SLPTBL  49-24   139-24
SNDCHR 145-27   145-31   146-8#   155-27
SP      52-35*   52-42    53-24*   53-26*   53-27*   53-29*   53-31    56-15*
56-17*   56-18*   56-19    56-19*   56-20    57-5*
        57-7     70-10*   70-20    71-32*   71-38    76-40*   76-41    77-12*
77-35*   77-41*   78-1     78-9*    78-13    78-18
        78-19    78-39    81-7*    81-11    82-6*    82-23*   85-23*   85-37
89-29*   89-31    89-33*   91-25    93-8*    93-11
        95-4*   105-35*  106-15*  106-16*  115-3*   116-12   116-36   126-12*  1
28-18   129-13   132-36   134-7    134-12   134-31*
       134-35*  135-1    135-2    135-7    135-8    135-9*   135-20   135-25   1
38-3*   138-9*   138-11   138-14   138-30   138-51
       138-52*  141-15*  141-17   142-9*   142-32*  143-30*  146-14*  146-21*  1
46-22   146-39*  146-41   150-27*  150-30*  151-9*
       151-27*  151-32*  151-34   152-42*  152-43*  153-28*  154-5*   154-9*   1
54-14*  154-16*  157-23*  157-27   159-9*   159-10*
       160-18*  160-44   161-36*  161-40*  162-53*  163-30   165-3*   165-5*   1
65-17   165-18   170-37*  172-3*   172-8    172-16
       172-16   175-27*  175-28*  175-32   175-33   177-7*   177-10*  177-11   1
77-11*  177-12   177-13   177-14   177-15
SPC$KB 170-33   170-37#
SPC$PK  48-28    48-32#
SPCTBL  48-26   170-31
SRTLIN  88-40   128-26   162-44#  174-31
STORE  127-43   128-16   147-9
STOREX 123-21   125-26   126-31   128-14#  131-9    132-5    144-1    159-27
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE S-9
CROSS REFERENCE TABLE (CREF V01-05 )


STOREY 123-36   127-41#
SUBLIN  97-17#  162-54
SWPMAX 135-17   135-49
SYSVEN  39-3#
TABSET 129-11   152-12   152-16
TAPE    45-53#  126-34   131-13   131-29   137-2    143-7    157-25   165-1    1
66-40   172-25   172-29
TC11    39-57#   43-128
TECOCK 130-16   158-17   160-35#
TECOCS 141-9    144-3    144-13   160-27#
TECOCX 143-11   160-42#
TERDSP  88-21    89-25    98-16   107-21   167-13   168-32
TI$AL1 159-35#  178-41   178-42
TI$ALT 159-24#  178-40
TI$BS  142-9#   178-28
TI$CB  158-27#  178-24
TI$CC  136-7#   178-25
TI$CCG 158-7#   178-27
TI$CCQ 161-8#   178-34
TI$CCS 161-9#   178-36
TI$CO  129-22#  178-33
TI$CR  131-9#   178-32
TI$CRR 157-8#   178-35
TI$CTT 157-9#   178-37
TI$CU  141-7#   178-38
TI$CZ  130-7#   178-39
TI$EOT 159-9#   178-26
TI$FF  160-7#   178-31
TI$LF  133-7#   178-30
TI$RO  141-16   143-7#   178-43
TI$TAB 129-9#   178-29
TI.ISB  59-8#    80-14    80-23   176-22
TI.MUL  59-13#   74-5     74-8     81-31
TI.NST  59-11#   73-8     73-14    81-31
TI.RSX  59-7#   176-18   176-23
TI.RX2  59-9#   176-21
TI.SCA  59-12#   74-13
TIM.KB  81-12*   81-15*   81-35    88-41*   88-51   135-44*  135-49
TIME   135-29
TM02    39-51#   43-108   43-111
TM11    39-53#   43-98
TMO$KB  63-19    63-23#
TMO$PK  50-17    50-21#
TMOHUP  64-13#
TMOTBL  50-15    63-17
TO$BS  156-38#  179-27
TO$CR  153-9#   179-22
TO$CUR 156-7#   179-16   179-18   179-19
TO$DCA 156-17#  179-17   179-20   179-21
TO$ESC 156-27#  179-28
TO$FF  150-27#  179-23
TO$LF  155-7#   179-25
TO$TAB 152-9#   179-26
TO$VT  150-40#  179-24
TO.BIN  59-22#   77-11    77-45
TO.DEC  59-18#   77-37
TO.MUL  59-25#   77-7
TO.PRE  59-20#   77-23    77-25    77-30   176-20   176-22
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE S-10
CROSS REFERENCE TABLE (CREF V01-05 )


TO.RSX  59-19#  176-17   176-18   176-20   176-23
TO.SUF  59-21#   78-26   176-20   176-21
TS11    39-55#   43-118
TT2741  45-56#  126-34   126-36   129-9    131-10   131-29   142-10   143-12   1
57-25   165-1
TTACTV  45-109#  87-9     87-30    87-32
TTBACK 142-41   144-10   200-15#
TTBIN   45-68#   76-24    83-5    122-36   123-10   123-15   167-29   167-31
TTBREK  45-117#
TTCHAR  45-20#  113-19*  122-42   123-31   126-27   128-21   143-15   143-28   1
46-12   146-31   149-3    150-31   150-40   152-9   
       154-20   155-25   156-7    156-17   157-18   159-35   161-9    173-47   1
74-28
TTCKBS 142-17#  156-38
TTCODE  45-114#
TTCRIN  45-120#
TTCRLF  45-70#   84-41   152-18   152-26
TTCRO   45-121#
TTDC11  58-18
TTDDT   45-52#   63-26    80-35    83-3     86-42   124-8    137-2    160-42   1
66-40   172-37
TTDE11  58-18
TTDFIL  45-59#  137-2    145-17   147-19   151-10   156-21
TTDH11  58-18
TTDJ11  58-18    63-45
TTDL11  58-18
TTDLIM  80-18   138-13   179-31#
TTDLMC  45-16#   80-33*   89-1    132-6*   140-19   158-16*  158-18*  168-10*
TTDSBL  45-136#  63-30    69-6     70-11    70-22    71-44    74-35    76-16
88-32   122-51
TTDZ11  58-18
TTECTL  45-71#   76-24    77-39    81-20    84-38    84-41    87-4    123-29   1
26-6    126-47   129-26   130-11   131-24   136-11
       138-21   141-13   152-26   157-12   158-11   158-34   160-13   164-38
TTEMT   61-28   169-41#
TTESC   45-83#  159-35
TTESCC  45-17#  125-24   125-27*  125-31*  125-34*  125-38*  125-45*  125-50*  1
41-7    143-9    159-28*
TTESCI  45-85#  173-47
TTFCNT 113-20*  113-37   151-20   151-37   153-22   153-38
TTFILL  45-140# 151-23
TTFORM  45-92#  150-31
TTFUNC  45-82#  157-18
TTGARD  45-72#   76-24    76-27    84-40    90-22   137-12   137-40
TTGET  138-3#   141-25   143-14   144-14
TTHGLN  53-30    70-10#
TTHPRT  45-100# 149-1
TTHUNG  45-58#   69-9     69-17    69-28   115-28
TTIBAD 132-36#  134-13
TTICC2 135-44#  137-39   137-43
TTICCC 137-27   200-7#
TTICHL 124-13   124-24   178-3#
TTICOC 129-34   200-6#
TTICRC 157-22   200-3#
TTICUC 141-27   200-5#
TTICZC 130-17   200-4#
TTIDSP 124-24   178-24#
TTIJOB 132-35   134-31#
TTIJSB 124-10   128-27   132-17   135-43#
TTILF0 131-38#  133-21
TTILFS 131-20#  133-20
TTIMUL  74-41    79-5#
TTIN   105-35   122-5#
TTIN04 124-19   124-25   125-29   125-33   125-36   125-42   125-49   125-53   1
26-33   126-37   126-39   126-41   126-43   127-3#
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE S-11
CROSS REFERENCE TABLE (CREF V01-05 )


       161-36   161-40
TTIN09  57-6    122-40   122-43   122-45   122-47#  171-28
TTIN4X 122-35   123-16   123-22   123-25   123-37   124-19#
TTINCH  93-17   122-20#
TTINDL 123-18   123-20   124-12   125-52#  126-4
TTINEC  83-12    83-12    83-40    87-25    87-35   127-8    127-11   127-41   1
27-43   127-47   168-15   168-17
TTINER 126-32#  160-18
TTINPT  45-15#   79-25    80-4     80-39    83-14    83-14    89-3     89-3    1
27-15   128-14   128-16   138-5    140-16   140-16
       157-24   157-31   168-21
TTINST 124-23   125-3#   129-14
TTINTF  45-21#   62-22    63-37    63-45    82-33    97-17   127-18   149-1    1
49-19   162-50
TTINXX 121-45#  122-48   122-52
TTISER  74-3#    76-47
TTISGL  80-29    81-3     83-3#   140-14   157-16
TTISJS 125-52   130-12   130-18   131-43   132-5#   137-45   160-19
TTKEEP 155-27#  156-8    156-18   156-39
TTKL11  58-18
TTLA30  45-145# 151-22   153-24
TTLCIN  45-94#  126-29
TTLCOU  45-86#  146-33
TTLFRC  45-49#  137-2    172-17
TTMODE  45-18#   63-25*   71-33    71-34    76-24    76-27*   77-39    81-20
83-5     85-7*    86-43*   87-4*    88-27*   90-22
       113-24*  122-36   122-44   123-10   123-12   123-15   123-29   126-6    1
26-47   129-26   130-11   131-24   133-19   135-31*
       136-11   137-12   137-40   138-21   141-13   143-17   143-20   143-25   1
45-22   146-10   152-18   152-26   157-12   158-11
       158-34   160-13   160-27   160-35   164-38   167-18*  167-29   167-31*  1
73-49
TTMODM  45-101#
TTMSCN  72-19    72-35*   72-37    72-41
TTMSG   45-60#  137-2    158-39   159-9    159-12   159-15
TTMUX   45-102# 162-52
TTNBIN  45-50#  137-2    145-17   147-21   156-27
TTNORM 157-13   157-17   157-19   157-41   158-12   158-19   158-28   158-30   1
58-35   158-40#  159-36   161-10
TTOCHL 145-21   145-28   179-1#
TTOCVL  45-122#
TTODSP 145-28   179-16#
TTOMUL  73-26    73-39    77-10    77-12#
TTOUT  106-16   115-27#
TTOVFL  45-107#
TTPARM 113-18*  113-37
TTPCOL  45-73#   63-25    76-24    76-27   122-44   123-10   123-12
TTPDLM  45-19#   80-12   123-17   124-11   138-11
TTPK11  58-18    63-37    82-33
TTPODD  45-87#  149-4    149-7
TTPRTY  45-88#  149-4    149-8
TTRDRN  45-99#  127-18
TTRSX1  45-51#   77-27    77-31    79-17   131-31   131-41   152-42   152-45   1
65-13   165-15   165-16   175-14   176-25   176-30
TTRSX2  45-57#   77-31    77-33    79-17    79-19   131-31   131-41   152-42   1
65-13   165-15   175-14   176-25   176-30   176-34
TTSAVE 129-10   129-13#  129-27   142-9    158-40
TTSCOP  45-84#  143-15   150-40   154-20   155-25   156-7    156-17
TTSEQ1  45-115#
TTSEQC  45-116#
TTSJST 116-32#  116-35   120-34
TTSTA1  45-123#
TTSTAT  45-124#
TTSTOP  45-64#  115-52   122-41   149-39   150-13   161-21   162-14   162-31
TTSTSP 150-34   151-24   151-34#
TTSUBL  45-98#   97-18
TTSXOF  45-62#  115-43   115-45   128-25
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE S-12
CROSS REFERENCE TABLE (CREF V01-05 )


TTSYNC  45-90#  123-31   161-9
TTSYST 157-40   157-45#
TTTAB   45-93#  152-9
TTTECO  45-69#   83-5    133-19   143-17   143-20   145-22   146-10   160-35   1
73-49
TTTECS  45-75#   84-40   143-17   143-20   143-22   143-27   160-29
TTUC.I  45-113#
TTUC.O  45-118#
TTUPAR  45-89#  143-28   146-12
TTWIPE 120-18#  129-33   137-4
TTWRC   45-135#  69-6    122-51
TTXANY  45-81#  122-42
TTXCHL 145-24   179-7#
TTXOFF  45-63#  115-46   174-15   174-26   174-32
TTXON   45-91#  128-21   174-28
TTYHCT  67-46*   67-51    69-24*   69-46
TU58    39-59#   43-147
UMR.DX  43-143#
UMR.MM  43-114#
UUOFQ  135-6
XOFFCH 115-47   115-54
XONINP 137-6    174-15#
XRBC    48-37*   55-3     56-4     56-26    57-15    57-22    73-7     73-25
73-27    74-3     74-5*    74-6     77-5     77-9
        77-11*   77-23*   77-25    77-30*   77-37    77-44*   77-45    77-47*
79-23    80-1     80-7*    80-14    80-23    80-26*
        80-32*   81-13    81-31   171-3    175-45*  176-17   176-20*
XRBLK   54-47*   76-7*   171-3
XRBLKM  54-48*   76-8*    80-26*   80-32*
XRBUSE  77-44*   77-47*   78-11   171-25*  171-28*  172-6
XRCI    56-18    73-25    74-3     75-7     76-22
XRLEN   55-3     80-1
XRLOC   78-11    78-26    80-7*   172-6    175-45*
XRMOD   56-4     57-15    57-22    73-7     73-27    74-5*    74-6     77-5
77-9     77-11*   77-23*   77-25    77-30*   77-37
        77-45    78-26    80-14    80-23    81-31   176-17   176-20*
XRTIME  56-24    79-23    81-13
 TTDVR   TERMINAL DRIVER MACRO V03.01 18-OCT-86 01:51:56 PAGE M-1
CROSS REFERENCE TABLE (CREF V01-05 )


$KBS    58-14
.ASSUM  70-22    71-44    74-8     74-13    74-35    76-16    77-7     77-15
77-33    78-5     79-19    87-9     88-32   115-52
       122-41   126-29   143-22   143-27   146-33   149-7    149-8    149-39   1
50-13   151-22   153-24   160-29   162-31   162-52
       172-26   172-30   172-34   172-38   172-42   176-18   176-21   176-22   1
76-23   176-34
.BR     49-49    50-21    51-20   131-43   139-46   145-31   150-42   152-20   1
52-28   159-41   161-41   164-43   166-41   167-32
.BSECT  45-25    45-36    45-47    45-66    45-77    45-111   47-16    47-35
.DSECT  45-3     45-96    45-104   45-126   45-138   59-3     59-15
BUFFER 134-8    134-33   138-46
CALL    48-36    52-36    52-37    52-41    53-23    53-25    53-30    53-35
54-50    55-5     55-12    56-31    57-6     63-24
        70-17    70-19    70-30    70-31    71-36    71-37    72-24    72-33
73-5     73-29    74-14    74-23    76-26    76-31
        76-33    76-34    77-16    77-21    77-22    77-29    78-6     78-11
78-16    78-21    78-34    78-41    79-14    79-28
        80-4     80-29    80-39    81-3     81-9     81-10    82-35    82-40
83-36    85-3     85-33    85-34    86-37    86-41
        87-7     87-25    87-27    88-25    88-26    88-33    88-40    88-45
89-30    90-13    90-18    93-3     93-15    93-17
        93-18    95-3     95-29    95-31   116-9    116-32   116-35   120-18   1
22-46   123-14   123-21   123-33   123-36   124-7
       124-10   124-24   125-26   125-52   126-31   126-53   127-43   128-16   1
28-20   128-26   129-11   129-33   129-34   130-16
       130-17   131-9    131-20   131-38   132-5    132-34   132-36   132-37   1
32-38   135-35   135-43   137-1    137-4    137-5
       137-6    137-7    137-27   139-39   140-14   141-9    141-16   141-25   1
41-27   142-41   143-11   143-14   143-31   143-46
       144-1    144-3    144-10   144-13   144-14   145-11   145-16   146-20   1
46-40   147-9    147-31   150-9    150-33   151-19
       151-31   152-12   152-16   152-36   152-46   156-38   157-16   157-22   1
57-37   157-40   158-17   158-27   159-24   159-27
       159-39   162-54   165-9    167-17   168-9    168-15   168-21   168-36   1
68-37   169-19   171-22   171-24   172-6    172-13
       174-30   174-31   175-13   175-30   175-31   176-24   177-14
CALLR   89-5    113-35   128-27   137-45   154-18   160-19   172-18   172-20   1
74-33
CALLX   55-5     55-12    70-17    70-31    76-31    76-34    78-16    80-4
80-39    82-35    82-40    87-25    90-13   116-9
       116-32   120-18   127-43   128-16   129-11   135-43   137-7    147-9    1
50-9    152-12   152-16   167-17   168-9    168-15
       168-21   168-36   168-37   171-22   171-24
DEFORG  47-1     47-2
DEVICE  43-3     43-9     43-18    43-51    43-62    43-72    43-110   43-139
ERROR   48-46    48-48    55-15    57-27    57-29    57-31    57-33    73-18
73-20    76-43    81-33    83-16    83-23   169-7
       169-52
GETUSR  57-4     78-8     83-18    83-28   172-5
GLOBAL  49-53    52-45    53-40    56-35    57-35    62-20    62-48    63-31
63-42    64-41    67-51    69-13    69-46    70-35
        71-46    71-52    72-41    73-41    74-37    75-15    76-18    77-49
81-26    81-35    82-43    82-51    83-40    84-46
        85-13    85-40    86-31    86-45    87-12    87-35    88-35    88-51
90-34    91-34    92-39    93-21    94-39    98-35
        98-50   106-23   113-37   115-54   116-39   122-53   122-56   123-6    1
23-41   124-29   126-15   127-11   127-47   127-51
       132-12   135-49   137-47   138-26   141-21   143-42   147-38   149-53   1
50-46   151-37   153-38   162-46   163-33   163-43
       168-17   170-46   171-16   171-31   173-54
JMPX    48-44    55-17    57-19    73-16    80-36
ORG     47-1     47-2     47-4     47-6
PUTUSR  55-7     74-28    80-9
REGSAV  76-31
REGSCR  82-35   167-17   168-9    168-36
RETURN  51-40    52-43    53-36    62-46    63-33    63-49    69-44    70-33
71-50    72-39    78-23    82-17    82-41    83-6
        83-38    85-17    85-38    87-16    87-33    89-34    90-32    91-32
93-12    97-20    99-29   106-19   108-22   116-33
       116-37   121-45   127-24   127-45   129-35   132-39   135-45   138-53   1
40-23   141-19   141-28   142-20   142-42   144-4
       144-23   147-17   149-49   150-17   151-35   152-13   152-47   157-28   1
57-42   157-46   159-29   161-38   163-39   165-20
       168-22   169-50   173-6    173-39   173-52   175-15   175-34   175-48   1
76-27   176-35   177-16
SETERR  80-31
SPL     80-5
SPLC    70-32    77-24    77-34    78-10    78-12    78-20    78-22    78-25
79-20    79-27    80-3     80-34    80-38    80-40
        81-8     81-30    87-24    87-31    88-46   172-4    172-7    172-15   1
76-16   176-26
TITLE   38-1     44-1     46-1
TMPORG  47-1     47-2     47-4     47-6     48-26    49-24    50-15    51-14
51-34    52-23    53-17    54-41    60-3     63-17
        76-1     84-23    86-17    88-21    89-25    98-16   107-21   139-24   1
57-44   166-14   166-34   167-13   168-32   170-31
UNORG   47-1#    47-2#    47-4#    47-6#    47-54    48-30    49-28    50-19
51-18    51-38    52-27    53-21    54-45    59-27
        61-32    63-21    76-5     84-27    86-21    88-23    89-27    98-18   1
07-23   139-28   157-47   166-18   166-38   167-15
       168-34   170-35
  RT-11 LINK  V06.00      LOAD MAP        SAT 18-OCT-86 01:52:38
RSTS  .SAV      TITLE:  RSTS    IDENT:  07.007  /B:000000

SECTION  ADDR   SIZE    GLOBAL  VALUE   GLOBAL  VALUE   GLOBAL  VALUE   GLOBAL
VALUE   GLOBAL  VALUE   GLOBAL  VALUE

 . ABS.  000000 000000   (RW,I,GBL,ABS,OVR)
                        ABORT   000014  BADCLU  000027  BADCNT  000037  BADDIR
000001  BADERR  000171  BADFUO  000022
                        BADNAM  000002  BADPAK  000032  BADSWT  000103  BDNERR
000064  BFE.KB  000006  BFI.KB  000006
                        BFQ.KB  000012  BFQ.LP  000024  BFQ.PP  000012  BFQ.PR
000012  BSERR   000056  BUF.DX  001000
                        BUF.KB  000200  BUF.LP  000200  BUF.MM  001000  BUF.NL
000002  BUF.PK  000200  BUF.PP  000200
                        BUF.PR  000200  BUF.SY  001000  B.PRTY  000046  B.STAK
000044  B.SWAP  000045  B.10    000042
                        B.250   000043  B.4     000041  CLS$MM  177775  CLS$SY
000001  CNT.DB  000010  CNT.DL  000004
                        CNT.DR  000010  CNT.DX  000010  CNT.KB  000104  CNT.LP
000001  CNT.MM  000002  CNT.PK  000004
                        CNT.PP  000001  CNT.PR  000001  COSERR  000113  CPNSDF
000133  CPUFNX  000135  CPUPDF  000136
                        CPUPED  000137  CPUPFR  000134  CTRLCE  000034  DATERR
000015  DCDSK   000000  DDO.XX  177130
                        DDS.DX  000034  DDS.KB  000066  DDS.LP  000040  DDS.MM
000046  DDS.NL  000010  DDS.PK  000014
                        DDS.PP  000020  DDS.PR  000020  DETKEY  000033  DEVNFS
000036  DEVOKB  000022  DEVOSN  000054
                        DFDSK   000000  DIMED2  000151  DIMERR  000174  DISERR
000172  DIVBY0  000075  DKDSK   000000
                        DMDSK   000000  DPDSK   000000  DSDSK   000000  DSO$XX
176776  DSTMUL  000740  DTOOOF  000021
                        EDARSV  000163  EDBMCE  000157  EDCONE  000162  EDEXON
000160  EKOCTW  000046  EKOPNT  000047
                        EOF     000013  EOSERR  000154  ERL$LP  000000  ERRERR
000102  EXITNR  000111  EXITTM  000110
                        EXPERR  000061  FIELDE  000077  FIEXST  000020  FIXERR
000063  FLG.DX  100422  FLG.KB  074402
                        FLG.LP  035406  FLG.MM  000016  FLG.NL  100426  FLG.PK
070420  FLG.PP  021412  FLG.PR  022410
                        FLG.SY  100000  FLTERR  000060  FMTERR  000062  FUCORE
000147  FUNERR  000130  HNGDEV  000016
                        HNGTTY  000017  IDX.DX  000020  IDX.KB  000002  IDX.LP
000010  IDX.MM  000016  IDX.NL  000004
                        IDX.PK  000006  IDX.PP  000014  IDX.PR  000012  IDX.SY
000000  IE      000100  INTLCK  000023
                        INTPAK  000031  INUSE   000003  IOLERR  000074  JOBMAX
000030  JOBMX2  000060  JSALL   064076
                        JS.DX   000001  JS.KB   000002  JS.LP   000010  JS.MM
000001  JS.NL   000001  JS.PK   000004
                        JS.PP   000040  JS.PR   000020  JS.SY   000001  LINERR
000057  LOGERR  000065  LOG$DX  104056
                        LOG$KB  104044  LOG$LP  104046  LOG$MM  104054  LOG$PP
104052  LOG$PR  104050  LRGFIL  000001
                        MAGRLE  000050  MAGSEL  000047  MAXUNT  000023  MAXUN2
000046  MINVER  000070  MODCLK  000052
                        MODERR  000125  NEDERR  000073  NOBUFS  000040  NODEVC
000006  NOGOTO  000153  NOMATH  000175
                        NONOIM  000167  NORACS  000100  NOROOM  000004  NORTS
000076  NOSUCH  000005  NOTAVL  000010
                        NOTCLS  000007  NOTMNT  000025  NOTMTA  000101  NOTOPN
000011  NRNERR  000161  NRRTS   000051
                        ODD     000071  ONBAD   000072  OPN$MM  177775  OPN$SY
000001  OPO$XX  000050  OUTOAS  000127
                        PAKLCK  000026  PKINWT  000013  PKMODE  000012  PRERRS
000164  PRIVAT  000030  PRNER1  000166
                        PRNER2  000170  PRVIOL  000012  QDXCON  100010  QMMCON
100002  QMMDNE  100004  RESERR  000150
                        SAFNOS  000143  SASNOI  000144  SASYNE  000142  SATTBD
000035  SCAERR  000177  SIZERR  000054
                        SIZ.DX  000107  SIZ.KB  000000  SIZ.LP  000000  SIZ.MM
000107  SIZ.NL  000107  SIZ.PK  000107
                        SIZ.PP  000107  SIZ.PR  000107  SIZ.SY  000107  SQRERR
000066  STMERR  000107  STPERR  000173
                        STS.DX  000000  STS.KB  000000  STS.LP  000002  STS.MM
000000  STS.NL  000000  STS.PK  000000
                        STS.PP  000002  STS.PR  000004  ST2741  000000  SUBERR
000067  SYSLRG  000001  TLCNTD  000155
                        TLCONI  000120  TLIDIM  000152  TLIFFE  000117  TLINCD
000132  TLJNKY  000140  TLMFND  000123
                        TLNOFN  000141  TLNOIT  000116  TLNOTF  000121  TLNZSP
000115  TLOPNV  000114  TLPRNM  000156
                        TLQDUM  000122  TLRNNM  000124  TLTMAF  000131  TLURTP
000145  TLXDIM  000146  TTDC11  000002
                        TTDE11  000006  TTDH11  000014  TTDJ11  000012  TTDL11
000004  TTDMBB  000000  TTDZ11  000016
                        TTFCNT  000063  TTINEC  000040  TTKL11  000000  TTMSCN
000064  TTPARM  000050  TTPK11  000010
                        TTRING  000054  UDMERR  000165  UNDFNI  000112  VCAERR
000053  VCOERR  000055  VCSERR  000052
                        WRGPAK  000024  XCDCOR  000176  $DCDIN  000000  $DFDIN
000000  $DKDIN  000000  $DMDIN  000000
                        $DPDIN  000000  $DSDIN  000000  $$CHSZ  000014  $$TMUN
000010  $$2780  000000
 LOWCOR  000000 002400   (RW,I,GBL,REL,OVR)
                        ERLRIB  001200  FIJBDA  001306  FIJBD2  001310  FIJOB
001302  FIPRIV  001303  FIQUE   001300
                        FISTAK  002400  FIUSER  001304  HALT    000054  IDATE
000044  ITIME   000046  LOWCOR  000000
                        MEMLST  001040  MEMSIZ  001150  NULRTS  001240  PWFSAV
001312  SL.VAL  001000  SYSTAK  001770
                        $$DATE  001000  $$DRTS  001100  $$LOWC  001426  $$LOWE
000060  $$LOWS  000040  $$MEML  001040
                        $$MEMT  001140  $$NULW  001774  $$STAK  001736  $$TIME
001002
 BUFPOL  002400 000400   (RW,I,GBL,REL,OVR)
                        BUFPOL  002400  $$BUFS  002400
 IOBUFR  003000 002000   (RW,I,GBL,REL,OVR)
                        FIBENT  003762  FIBMAP  003760  FIBUF   003000  IOBUFR
003000  SATBUF  004000  $$BUFE  003000
 MORBUF  005000 023116   (RW,I,GBL,REL,OVR)
                        MORBUF  005000  $$MBFS  005000
 MEDCTL  030116 000034   (RW,I,GBL,REL,OVR)
                        DOMED   030116  MEDCTL  030116  $$MBFE  030116  $$MEDS
030116
 UPECTL  030152 000616   (RW,I,GBL,REL,OVR)
                        UNISCN  030316  UPECTL  030152  $$MEDE  030152  $$PCSR
030152  $$PMSK  030254  $$PRNG  030214
                        $$UPES  030152
 UMRCTL  030770 000414   (RW,I,GBL,REL,OVR)
                        UMRCTL  030770  $$UMRP  031176  $$UMRS  030770  $$UMRT
031200  $$UPEE  030770
 FPPCTL  031404 000200   (RW,I,GBL,REL,OVR)
                        FPPCTL  031404  FPPRES  031514  FPPSAV  031404  $$FPPS
031404  $$UMRE  031404
 LIBCTL  031604 000362   (RW,I,GBL,REL,OVR)
                        LIBADR  031716  LIBCTL  031604  LIBSUB  031616  RETWDB
032020  RTSSUB  031604  WINSUB  031656
                        $$FPPE  031604  $$LIBS  031604
 BGBUFR  032166 000140   (RW,I,GBL,REL,OVR)
                        BGBUFR  032166  $$LIBE  032166
 RAWMEM  032326 002662   (RW,I,GBL,REL,OVR)
                        CLUFAC  034321  DEVCLU  034320  DEVEND  032602  DEVTBE
032536  DEVTBL  032326  DEV.DX  032562
                        DEV.KB  032326  DEV.LP  032550  DEV.MM  032556  DEV.NL
032536  DEV.PK  032540  DEV.PP  032554
                        DEV.PR  032552  DQE$DB  034200  DQE$DL  034140  DQE$DR
034160  DQS$DB  034160  DQS$DL  034130
                        DQS$DR  034140  DQS$XX  034130  DSE$DB  033176  DSE$DL
033136  DSE$DR  033156  DSS$DB  033156
                        DSS$DL  033126  DSS$DR  033136  DSS$XX  033126  FCBLST
034510  JBSTAT  032666  JBWAIT  032750
                        JOBCLK  033044  JOBTBL  032602  LIBLST  033034  LOGEND
034126  LOGNAM  033452  LOGSYS  033762
                        OPT$DB  034230  OPT$DL  034200  OPT$DR  034210  OPT$XX
034200  RAWMEM  032326  RTSLST  033032
                        SATCTL  035070  SATCTM  035140  SATEND  034700  SATPTR
034630  SATSTL  034750  SATSTM  035020
                        SNDLST  033036  SPLLST  033042  TIMEND  033452  TIMTBL
033126  TIM.DX  033432  TIM.KB  033176
                        TIM.LP  033420  TIM.MM  033426  TIM.NL  033406  TIM.PK
033410  TIM.PP  033424  TIM.PR  033422
                        UNTCLU  034370  UNTCNE  034320  UNTCNT  034250  UNTERR
034371  UNTLIB  034440  UNTOPT  034561
                        UNTOWN  034560  $$DDCS  034320
 KBDDDB  035210 007130   (RW,I,GBL,REL,OVR)
                        KBDDDB  035210
 NLDDDB  044340 000010   (RW,I,GBL,REL,OVR)
                        NLDDDB  044340
 PKDDDB  044350 000060   (RW,I,GBL,REL,OVR)
                        PKDDDB  044350
 LPDDDB  044430 000040   (RW,I,GBL,REL,OVR)
                        LPDDDB  044430
 PRDDDB  044470 000020   (RW,I,GBL,REL,OVR)
                        PRDDDB  044470
 PPDDDB  044510 000020   (RW,I,GBL,REL,OVR)
                        PPDDDB  044510
 MMDDDB  044530 000114   (RW,I,GBL,REL,OVR)
                        MMDDDB  044530
 DXDDDB  044644 000340   (RW,I,GBL,REL,OVR)
                        DXDDDB  044644
 DLDCTL  045204 000016   (RW,I,GBL,REL,OVR)
                        DLDCTL  045204  DLDPOS  045212  DLDPT1  045206  DLDPT2
045210
 DRDCTL  045222 000006   (RW,I,GBL,REL,OVR)
                        DRDCTL  045222  DRDPT1  045224  DRDPT2  045226
 DBDCTL  045230 000006   (RW,I,GBL,REL,OVR)
                        DBDCTL  045230  DBDPT1  045232  DBDPT2  045234
 SYDCTL  045236 000002   (RW,I,GBL,REL,OVR)
                        SYDCTL  045236
 KBDCTL  045240 000056   (RW,I,GBL,REL,OVR)
                        JOBCNT  045240  KBDCTL  045240  KBEDDB  045260  KBEREG
045270  KBESCN  045276  KBESC4  045300
                        KBETBL  045250  KBETMP  045314  KBEUNT  045310  LMTCNT
045244  MAXCNT  045242  MAXJOB  045241
                        TTYHCT  045246  $$JOBM  045242
 NLDCTL  045316 000000   (RW,I,GBL,REL,OVR)
 PKDCTL  045316 000006   (RW,I,GBL,REL,OVR)
                        PKDCTL  045316
 LPDCTL  045324 000000   (RW,I,GBL,REL,OVR)
 PRDCTL  045324 000000   (RW,I,GBL,REL,OVR)
 PPDCTL  045324 000000   (RW,I,GBL,REL,OVR)
 MMDCTL  045324 000014   (RW,I,GBL,REL,OVR)
                        MMDCTL  045324
 DXDCTL  045340 000020   (RW,I,GBL,REL,OVR)
                        DXDCTL  045340
 RTICTL  045360 000100   (RW,I,GBL,REL,OVR)
                        CTRLEV  045366  FTLVEC  045360  HGHAD   045372  LOWAD
045370  L3QUE   045454  L3QUE2  045456
                        MEMERR  045374  PARZER  045430  RTICTL  045360  UPELGE
045424  UPELOG  045376  UPELSZ  045424
                        WAIT2T  045452  $$CCTL  045366  $$PZER  045430
 BUFCTL  045460 000034   (RW,I,GBL,REL,OVR)
                        BAKLRG  045476  BAKSML  045474  BUFCTL  045460  EXTSTL
045502  FREES   045460  MONSTL  045500
                        RESTRX  045510  $$FR00  045462
 RESCTL  045514 000634   (RW,I,GBL,REL,OVR)
                        CCLLST  045526  FPPFEC  045514  JOBQNT  045534  JUNK
045536  MAXHGH  045522  MAXLOW  045520
                        MEMADR  046200  P$NEW   045576  QUANT   045532  RESCTL
045514  RESLST  045524  SCHTBL  045600
                        SWBASE  046202  SWDONQ  046242  SWOCNT  045530  SWPDSQ
046244  SWPMAP  046304  SWPMPE  046344
                        SWPUSE  046344  SWTBKE  045576  SWTBLK  045540  $$PNEW
045576  $$SWMP  046304  $$SWPB  046202
 ERLCTL  046350 000014   (RW,I,GBL,REL,OVR)
                        ERLCTL  046350
 CHECTL  046364 000076   (RW,I,GBL,REL,OVR)
                        CHECTL  046364  CHESEC  046370  CHETIC  046366  $$CACH
046376  $$CHEN  046364
 FIPCTL  046462 000124   (RW,I,GBL,REL,OVR)
                        ERBASU  046464  ERSIZE  046462  FIBFBN  046576  FIBMOD
046603  FIBUNT  046602  FIPAR   046522
                        FIPCLU  046514  FIPCTL  046462  FIPERX  046562  FIPFUN
046506  FIPGEN  046605  FIPMUC  046516
                        FIPR6   046512  FIPSP   046510  FIPUNT  046604  FIPU0C
046520  FIPVBN  046574  J       046564
                        K       046565  OVBASU  046476  SATFBN  046566  SATMOD
046573  SATUNT  046572  $$ERSZ  046462
                        $$OVRC  046474
 NSPCTL  046606 000002   (RW,I,GBL,REL,OVR)
                        NODELS  046606
 ERLCTB  046610 000066   (RW,I,GBL,REL,OVR)
                        ERLAUX  046612  ERLCTB  046610  ERLTBL  046622
 JSTCTL  046676 000166   (RW,I,GBL,REL,OVR)
                        JSTATK  047054  JSTCTL  046676
 DSTCTL  047064 005502   (RW,I,GBL,REL,OVR)
                        DSTCTE  054566  DSTCTL  047064
 QSTCTL  054566 000000   (RW,I,GBL,REL,OVR)
                        QSTCTL  054566
 BOOT    054566 000642   (RW,I,GBL,REL,OVR)
                        BOOT    054566  $$BOOT  054566
 PATCH   055430 000400   (RW,I,GBL,REL,OVR)
                        PATCH   055430
 TBL     056030 001112   (RW,I,GBL,REL,OVR)
                        CRSDMP  056064  CSRTBL  056470  CSR.DB  056474  CSR.DL
056470  CSR.DR  056472  CSR.DX  056732
                        CSR.KB  056476  CSR.LP  056720  CSR.MM  056726  CSR.PP
056724  CSR.PR  056722  DEVCNT  056262
                        DEVNAM  056206  DEVNKB  056230  DEVPTR  056334  DEVSYN
056250  DSKCSR  056470  DSKMAP  056752
                        DSKPTR  056442  DVRAP5  056420  DVRA5E  056442  JSBTBL
056376  MID$DB  057052  MID$DL  057022
                        MID$DR  057032  MID$XX  057022  RELOAD  056030  TBL
056030  UMREND  056470  UNTSIZ  057072
                        VOLSW1  056126  VOLSW2  056152  $$CSDB  056474  $$CSDL
056470  $$CSDR  056472  $$CSDX  056732
                        $$CSKB  056476  $$CSLP  056720  $$CSMM  056726  $$CSPP
056724  $$CSPR  056722  $$DMID  057022
                        $$DSIZ  057072  $$SROM  056030  $$SYSP  056332
 PATCHS  057142 000040   (RW,I,GBL,REL,OVR)
                        PATCHS  057142  $$0301  057142  $$0303  057152  $$0305
057162  $$0307  057172
 EMTTBL  057202 000100   (RW,I,GBL,REL,OVR)
                        $EMTTB  057202
 L3QTBL  057302 000076   (RW,I,GBL,REL,OVR)
                        $L3QTB  057302
 L3QPAR  057400 000076   (RW,I,GBL,REL,OVR)
                        $L3QPA  057400
 ERRTBL  057476 000060   (RW,I,GBL,REL,OVR)
                        $ERRTB  057476
 SERTBL  057556 000022   (RW,I,GBL,REL,OVR)
                        $SERTB  057556
 OPNTBL  057600 000022   (RW,I,GBL,REL,OVR)
                        $OPNTB  057600
 CLSTBL  057622 000022   (RW,I,GBL,REL,OVR)
                        $CLSTB  057622
 SPCTBL  057644 000022   (RW,I,GBL,REL,OVR)
                        $SPCTB  057644
 ASNTBL  057666 000022   (RW,I,GBL,REL,OVR)
                        $ASNTB  057666
 DEATBL  057710 000022   (RW,I,GBL,REL,OVR)
                        $DEATB  057710
 TMOTBL  057732 000022   (RW,I,GBL,REL,OVR)
                        $TMOTB  057732
 SLPTBL  057754 000022   (RW,I,GBL,REL,OVR)
                        $SLPTB  057754
 FLGTBL  057776 000022   (RW,I,GBL,REL,OVR)
                        $FLGTB  057776
 SIZTBL  060020 000022   (RW,I,GBL,REL,OVR)
                        $SIZTB  060020
 BUFTBL  060042 000022   (RW,I,GBL,REL,OVR)
                        $BUFTB  060042
 MSKTBL  060064 000040   (RW,I,GBL,REL,OVR)
                        $MSKTB  060064
 FIPTBL  060124 000054   (RW,I,GBL,REL,OVR)
                        $FIPTB  060124
 UUOTBL  060200 000160   (RW,I,GBL,REL,OVR)
                        $UUOTB  060200
 UUOSNC  060360 000070   (RW,I,GBL,REL,OVR)
                        $UUOSN  060360
 STSTBL  060450 000010   (RW,I,GBL,REL,OVR)
                        STSTBL  060450
 TERDSP  060460 000014   (RW,I,GBL,REL,OVR)
                        CLRTER  060464  CLRTIN  060466  CREJOB  060470  ENDKEY
060460  SETDTR  060472  SETPRM  060462
                        $TERDS  060460
 DSKDSP  060474 000002   (RW,I,GBL,REL,OVR)
                        GODISK  060474  $DSKDS  060474
 EMTDSP  060476 000004   (RW,I,GBL,REL,OVR)
                        DOPOST  060476  RETEXT  060500  $EMTDS  060476
 FIPDSP  060502 000006   (RW,I,GBL,REL,OVR)
                        FIPERR  060504  FIPGO   060502  OVRBUF  060506  $FIPDS
060502
 RSXDSP  060510 000016   (RW,I,GBL,REL,OVR)
                        RSXAGN  060512  RSXENT  060514  RSXTRP  060510  $RSXDS
060510
 MTADSP  060526 000010   (RW,I,GBL,REL,OVR)
                        $MTADS  060526
 DTADSP  060536 000016   (RW,I,GBL,REL,OVR)
                        $DTADS  060536  $$CRSZ  060554
 DLDINT  060554 000020   (RW,I,GBL,REL,OVR)
                        DLDINT  060554  $DLDIN  060554
 DRDINT  060574 000020   (RW,I,GBL,REL,OVR)
                        DRDINT  060574  $DRDIN  060574
 DBDINT  060614 000020   (RW,I,GBL,REL,OVR)
                        DBDINT  060614  $DBDIN  060614
 SYDINT  060634 000702   (RW,I,GBL,REL,OVR)
                        FILGO   061222  FILIX   060642  FILSET  060776  FLDNE
060634  SYDAP5  060640  SYDINT  060634
                        ..BQNT  061054
 KBDINT  061536 000140   (RW,I,GBL,REL,OVR)
                        DJKBN   061636  DJKINT  061576  ENTODT  061652  ERL$KB
061630  KBDAP5  061542  KBFDDB  061642
                        KLKINT  061536  PTABLE  061654  XOFFCH  061674  $KBDIN
061536  $$ODTP  061652
 NLDINT  061676 000000   (RW,I,GBL,REL,OVR)
 PKDINT  061676 000000   (RW,I,GBL,REL,OVR)
                        PKDINT  061676
 LPDINT  061676 000010   (RW,I,GBL,REL,OVR)
                        LPDAP5  061702  LPDINT  061676
 PRDINT  061706 000010   (RW,I,GBL,REL,OVR)
                        PRDAP5  061712  PRDINT  061706
 PPDINT  061716 000010   (RW,I,GBL,REL,OVR)
                        PPDAP5  061722  PPDINT  061716
 MMDINT  061726 000014   (RW,I,GBL,REL,OVR)
                        MMDAP5  061732  MMDINT  061726
 DXDINT  061742 000010   (RW,I,GBL,REL,OVR)
                        DXDAP5  061746  DXDINT  061742
 NSPSUB  061752 000000   (RW,I,GBL,REL,OVR)
 NULJOB  061752 000012   (RW,I,GBL,REL,OVR)
                        NULJOB  061752
 NSPCHK  061764 000004   (RW,I,GBL,REL,OVR)
                        NSPCHK  061764
 NSPTMO  061770 000002   (RW,I,GBL,REL,OVR)
                        NSPTMO  061770
 RJETMO  061772 000002   (RW,I,GBL,REL,OVR)
                        RJETMO  061772
 PKDVR   061774 000000   (RW,I,GBL,REL,OVR)
                        PKDVR   061774
 KBDVR   061774 000000   (RW,I,GBL,REL,OVR)
                        KBDVR   061774
 MED     061774 000000   (RW,I,GBL,REL,OVR)
                        MED     061774
 UPE     061774 000000   (RW,I,GBL,REL,OVR)
                        UPE     061774
 FPP     061774 000000   (RW,I,GBL,REL,OVR)
                        FPP     061774
 RTI     061774 005064   (RW,I,GBL,REL,OVR)
                        BUFFER  064366  CLOKGO  066230  CLOK.L  066266  CLOK.P
066222  DMPJOB  063164  EMTAP5  063404
                        ERROR   063070  EXTPOF  064020  EXTPOL  064010  FREE20
064022  FREE25  064024  FTLSCN  065642
                        FTLXX0  062072  FTLXX1  062076  FTLXX2  062102  FTLXX3  
062106  FTLXX4  062112  FTLXX5  062116
                        FTLXX6  062122  FTLXX7  062126  FTL000  062066  GETBIG
063676  INTSAV  066462  INTSVX  066450
                        IOEXIT  063122  IOREDO  063136  LRGPOL  064004  MONPOL
064014  PARSCN  065554  PEEKER  067026
                        RESRT4  066534  RETBIG  063616  RETMON  065060  RETUSR
063430  RETUSX  063434  RSXAP5  063610
                        RSXEMT  063224  RTI     061774  RTI3    066544  RTI47
066632  SETRES  064650  SETUP   065434
                        SYTTMO  066316  TRYEXT  064762  TRYMON  064706  UPOKER
067040  $$CCNT  066310  $$CCSR  066216
                        $$CNOP  066620  $$CPRM  066220  $$CQNT  066274  $$CSRT
066262  $$EXTO  064020  $$EXTP  064012
                        $$FIS   062250  $$FR20  064022  $$FR25  064024  $$LDAY
066420  $$LRGP  064006  $$NDAY  066426
                        $$ODTB  062672  $$ODTE  062210  $$ODT6  062202  $$PSCN
065554  $$PTBL  065556  $$PWRP  065346
                        $$TICK  066364  $$VSWR  065374  ..PWRF  065270
 CHESML  067060 000010   (RW,I,GBL,REL,OVR)
                        CHESML  067060
 CHEMON  067070 000010   (RW,I,GBL,REL,OVR)
                        CHEMON  067070
 CHEEXT  067100 000160   (RW,I,GBL,REL,OVR)
                        CHEEXT  067100
 CHKMON  067260 000002   (RW,I,GBL,REL,OVR)
                        CHKMON  067260
 CHKEXT  067262 000002   (RW,I,GBL,REL,OVR)
                        CHKEXT  067262
 RES     067264 000432   (RW,I,GBL,REL,OVR)
                        BAELST  067310  BFBASE  067342  CALLBB  067632  CALLM
067542  CALLMI  067532  CALLMR  067614
                        CALLMX  067564  DATCNV  067324  DIABOX  067312  DISPLY
067300  ERBASE  067336  FARCNT  067270
                        FIPAP5  067430  FIPSYS  067346  FPDNE   067330  MAGDEN
067316  MAGLBL  067314  MMU22W  067304
                        OPNCLS  067472  OVBASE  067334  RES     067264  RESFPP
067274  RETCHN  067440  SAVFPP  067272
                        SERSPC  067656  STKLMT  067276  SWDNE   067320  SWITCH
067302  SWPMAX  067266  SYSUNT  067264
                        SYSUN2  067265  TIMCNV  067326  $$BAEL  067310  $$BUFB
067342  $$CNVF  067324  $$DREG  067300
                        $$ERRB  067336  $$MTLB  067314  $$M22W  067304  $$OVRB
067334  $$RFPP  067274  $$SFPP  067272
                        $$SL    067276  $$SREG  067302  $$SWPM  067266  $$SYSU
067264  ..DIAB  067312  ..FCNT  067270
                        ..FQNT  067372  ..MTDP  067316
 PPNTBL  067716 000010   (RW,I,GBL,REL,OVR)
                        PPNTBL  067716  ..PPN.  067716
 COMDSK  067726 000044   (RW,I,GBL,REL,OVR)
                        COMDSK  067726  DISK    067726  DSKAP5  067764
 CHECHK  067772 000266   (RW,I,GBL,REL,OVR)
                        CHECHK  067772
 CHEZAP  070260 000010   (RW,I,GBL,REL,OVR)
                        CHEZAP  070260
 CHEUUO  070270 000002   (RW,I,GBL,REL,OVR)
                        CHEUUO  070270
 ERL     070272 001612   (RW,I,GBL,REL,OVR)
                        CLRCPE  071616  ERL     070272  ERLMSD  071774  $$ECPU
071614  $$EMED  071620  $$ESID  071612
 SUB     072104 004042   (RW,I,GBL,REL,OVR)
                        ADDMEM  074430  BADRTS  074472  BITBYT  072150  BITWRD
072104  BLKMOV  075534  BYERTS  074704
                        CCLCHK  074316  CHKSTK  073012  CHKXRB  072626  CLRRSQ
075312  CLUCVT  072150  CNVDCN  074360
                        CNVDC3  074364  CONNEC  073674  CONNEX  073702  DISKER
072546  DISKNE  072540  FNDJOB  075006
                        FNDRSQ  075302  FNDRTS  075452  FREBUF  072244  GETDEV
074100  GUNSUB  073756  IOFINC  073234
                        IOFINI  073266  IOFIN4  073272  LOOPCK  072346  L3QSET
073116  L3QSE0  073112  MAPBUF  076120
                        MINUS1  072162  MOVBYT  075752  MOVWRD  076020  QUEL3Q
072570  QUEUER  072504  QUEUE0  072534
                        REGRES  072426  REGSAV  072406  REGSCR  072444  REMJOB
074724  REMRTS  074670  RESCHK  075220
                        RESENT  075262  RESJOB  075336  RETDEV  074144  RTSPC
073046  SAVJNL  073524  SAVJOB  073410
                        SAVJQX  073374  SAVTIM  073604  SCRUMP  073162  SCRUMX
073156  SIGMEM  075316  STKOVF  073142
                        SUB     072104  SWRTS   074614  SWRTSL  074620  TABSET
072164  UNLOCK  075426  UNLOC0  075422
                        UNQCHK  074322  ZERO    072160  $$HZDV  073672  $$MOVB
075752  $$MOVW  076020  $$RTSP  073046
 STORE   076146 000072   (RW,I,GBL,REL,OVR)
                        STORE   076146
 FETCH   076240 000236   (RW,I,GBL,REL,OVR)
                        FETCH   076240  GETIRB  076440
 CLRBUF  076476 000142   (RW,I,GBL,REL,OVR)
                        CLRBUF  076476
 CMNDVR  076640 000170   (RW,I,GBL,REL,OVR)
                        CMNDVR  076640  ERLCMN  076640  GETUMR  077024  RELUMR
077026  RHMADR  076742  $$GUMR  077024
                        $$RUMR  077026
 BSTALL  077030 000000   (RW,I,GBL,REL,OVR)
 ERLDVR  077030 000104   (RW,I,GBL,REL,OVR)
                        ERLDVR  077030
 JQSTAT  077134 001004   (RW,I,GBL,REL,OVR)
                        JQSTAT  077134
 DSTAT   100140 000270   (RW,I,GBL,REL,OVR)
                        DSTAT   100140
 SYDVR   100430 001276   (RW,I,GBL,REL,OVR)
                        SER$SY  100430  SYDVR   100430  $$EPMM  100430  ..DFAV
101540  ..SYDF  100616
 SYDLRG  101726 000000   (RW,I,GBL,REL,OVR)
                        SYDLRG  101726
 UPDCHK  101726 000334   (RW,I,GBL,REL,OVR)
                        UPDCHK  101726
 UPDUNL  102262 000504   (RW,I,GBL,REL,OVR)
                        SPC$SY  102262  UPDUNL  102262  ..BWCB  102350
 NLDVR   102766 000032   (RW,I,GBL,REL,OVR)
                        ASN$NL  102770  CLS$NL  102772  DEA$NL  102772  INT$NL
102772  NLDVR   102766  OPN$NL  102772
                        SER$NL  102774  SPC$NL  102766  TMO$NL  102772
 PRDVR   103020 000402   (RW,I,GBL,REL,OVR)
                        ASN$PR  103250  CLS$PR  103224  DEA$PR  103250  ERL$PR
103404  INT$PR  103252  OPN$PR  103202
                        PRDVR   103020  SER$PR  103020  SPC$PR  103402  TMO$PR
103354  ..PCSS  103146
 PPDVR   103422 000402   (RW,I,GBL,REL,OVR)
                        ASN$PP  103664  CLS$PP  103572  DEA$PP  103664  ERL$PP
104006  INT$PP  103704  OPN$PP  103624
                        PPDVR   103422  SER$PP  103422  SPC$PP  104004  TMO$PP
104000
 LPDVRX  104024 000000   (RW,I,GBL,REL,OVR)
                        LPDVRX  104024
 LPDVR   104024 002470   (RW,I,GBL,REL,OVR)
                        ASN$LP  104412  CLS$LP  105252  DEA$LP  104362  INT$LP
106232  LPDVR   104024  OPN$LP  104226
                        SER$LP  104432  SPC$LP  104224  TMO$LP  105152  ..LPSP
104244  ..LP66  104326
 MMDVR   106514 003216   (RW,I,GBL,REL,OVR)
                        ASN$MM  106514  CON$MM  107426  DEA$MM  106544  DNE$MM
107436  ERL$MM  106744  INT$MM  106642
                        MMDVR   106514  SER$MM  107306  SPC$MM  107236  TMO$MM
106552  UMR$MM  107416  ..MMGP  110040
 DXDVR   111732 003156   (RW,I,GBL,REL,OVR)
                        ASN$DX  112304  CLS$DX  112546  CON$DX  112734  DEA$DX
112304  DXDVR   111732  ERL$DX  112370
                        INT$DX  112306  OPN$DX  112446  SER$DX  112552  SPC$DX
111736  TMO$DX  112310  UMR$DX  112260  
 BUF     115110 001266   (RW,I,GBL,REL,OVR)
                        BUF     115110  CHECKX  115416  ..CAGE  116002
 UPDATE  116376 000000   (RW,I,GBL,REL,OVR)
                        UPDATE  116376
 UPDLRG  116376 000000   (RW,I,GBL,REL,OVR)
                        UPDLRG  116376
 IRB     116376 000402   (RW,I,GBL,REL,OVR)
                        GETIRX  116574  IRB     116376  RETIRB  116376  STOIRB
116424

TRANSFER ADDRESS = 000001, HIGH LIMIT = 117000 = 20224. WORDS
  RT-11 LINK  V06.00      LOAD MAP        SAT 18-OCT-86 01:52:41
TER   .SAV      TITLE:  TER     IDENT:  07.007  /B:117000

SECTION  ADDR   SIZE    GLOBAL  VALUE   GLOBAL  VALUE   GLOBAL  VALUE   GLOBAL
VALUE   GLOBAL  VALUE   GLOBAL  VALUE

 . ABS.  000000 117000   (RW,I,GBL,ABS,OVR)
                        ABORT   000014  ADDMEM  074430  ASN$DX  112304  ASN$LP
104412  ASN$MM  106514  ASN$NL  102770
                        ASN$PP  103664  ASN$PR  103250  BADCLU  000027  BADCNT
000037  BADDIR  000001  BADERR  000171
                        BADFUO  000022  BADNAM  000002  BADPAK  000032  BADRTS
074472  BADSWT  000103  BAELST  067310
                        BAKLRG  045476  BAKSML  045474  BDNERR  000064  BFBASE
067342  BFE.KB  000006  BFI.KB  000006
                        BFQ.KB  000012  BFQ.LP  000024  BFQ.PP  000012  BFQ.PR
000012  BGBUFR  032166  BITBYT  072150
                        BITWRD  072104  BLKMOV  075534  BOOT    054566  BSERR
000056  BUF     115110  BUFCTL  045460
                        BUFFER  064366  BUFPOL  002400  BUF.DX  001000  BUF.KB
000200  BUF.LP  000200  BUF.MM  001000
                        BUF.NL  000002  BUF.PK  000200  BUF.PP  000200  BUF.PR
000200  BUF.SY  001000  BYERTS  074704
                        B.PRTY  000046  B.STAK  000044  B.SWAP  000045  B.10
000042  B.250   000043  B.4     000041
                        CALLBB  067632  CALLM   067542  CALLMI  067532  CALLMR
067614  CALLMX  067564  CCLCHK  074316
                        CCLLST  045526  CHECHK  067772  CHECKX  115416  CHECTL
046364  CHEEXT  067100  CHEMON  067070
                        CHESEC  046370  CHESML  067060  CHETIC  046366  CHEUUO
070270  CHEZAP  070260  CHKEXT  067262
                        CHKMON  067260  CHKSTK  073012  CHKXRB  072626  CLOKGO
066230  CLOK.L  066266  CLOK.P  066222
                        CLRBUF  076476  CLRCPE  071616  CLRRSQ  075312  CLRTER
060464  CLRTIN  060466  CLS$DX  112546
                        CLS$LP  105252  CLS$MM  177775  CLS$NL  102772  CLS$PP
103572  CLS$PR  103224  CLS$SY  000001
                        CLUCVT  072150  CLUFAC  034321  CMNDVR  076640  CNT.DB
000010  CNT.DL  000004  CNT.DR  000010
                        CNT.DX  000010  CNT.KB  000104  CNT.LP  000001  CNT.MM
000002  CNT.PK  000004  CNT.PP  000001
                        CNT.PR  000001  CNVDCN  074360  CNVDC3  074364  COMDSK
067726  CONNEC  073674  CONNEX  073702
                        CON$DX  112734  CON$MM  107426  COSERR  000113  CPNSDF
000133  CPUFNX  000135  CPUPDF  000136
                        CPUPED  000137  CPUPFR  000134  CREJOB  060470  CRSDMP
056064  CSRTBL  056470  CSR.DB  056474
                        CSR.DL  056470  CSR.DR  056472  CSR.DX  056732  CSR.KB
056476  CSR.LP  056720  CSR.MM  056726
                        CSR.PP  056724  CSR.PR  056722  CTRLCE  000034  CTRLEV
045366  DATCNV  067324  DATERR  000015
                        DBDCTL  045230  DBDINT  060614  DBDPT1  045232  DBDPT2
045234  DCDSK   000000  DC11    000000
                        DDO.XX  177130  DDS.DX  000034  DDS.KB  000066  DDS.LP
000040  DDS.MM  000046  DDS.NL  000010
                        DDS.PK  000014  DDS.PP  000020  DDS.PR  000020  DEA$DX
112304  DEA$LP  104362  DEA$MM  106544
                        DEA$NL  102772  DEA$PP  103664  DEA$PR  103250  DETKEY
000033  DEVCLU  034320  DEVCNT  056262
                        DEVEND  032602  DEVNAM  056206  DEVNFS  000036  DEVNKB
056230  DEVOKB  000022  DEVOSN  000054
                        DEVPTR  056334  DEVSYN  056250  DEVTBE  032536  DEVTBL
032326  DEV.DX  032562  DEV.KB  032326
                        DEV.LP  032550  DEV.MM  032556  DEV.NL  032536  DEV.PK
032540  DEV.PP  032554  DEV.PR  032552
                        DFDSK   000000  DH11    000000  DH2741  000000  DIABOX
067312  DIMED2  000151  DIMERR  000174
                        DISERR  000172  DISK    067726  DISKER  072546  DISKNE
072540  DISPLY  067300  DIVBY0  000075
                        DJKBN   061636  DJKINT  061576  DJ11    000002  DKDSK
000000  DLDCTL  045204  DLDINT  060554
                        DLDPOS  045212  DLDPT1  045206  DLDPT2  045210  DL11CD
000020  DL11E   000000  DMDSK   000000
                        DMPJOB  063164  DM11BB  000000  DNE$MM  107436  DOMED
030116  DOPOST  060476  DPDSK   000000
                        DQE$DB  034200  DQE$DL  034140  DQE$DR  034160  DQS$DB
034160  DQS$DL  034130  DQS$DR  034140
                        DQS$XX  034130  DRDCTL  045222  DRDINT  060574  DRDPT1
045224  DRDPT2  045226  DSDSK   000000
                        DSE$DB  033176  DSE$DL  033136  DSE$DR  033156  DSKAP5
067764  DSKCSR  056470  DSKMAP  056752
                        DSKPTR  056442  DSO$XX  176776  DSS$DB  033156  DSS$DL
033126  DSS$DR  033136  DSS$XX  033126
                        DSTAT   100140  DSTCTE  054566  DSTCTL  047064  DSTMUL
000740  DTOOOF  000021  DVRAP5  056420
                        DVRA5E  056442  DXDAP5  061746  DXDCTL  045340  DXDDDB
044644  DXDINT  061742  DXDVR   111732
                        DZ11    000000  DZ11AB  000000  DZ2741  000000  EDARSV
000163  EDBMCE  000157  EDCONE  000162
                        EDEXON  000160  EKOCTL  000001  EKOCTW  000046  EKOPNT
000047  EMTAP5  063404  ENDKEY  060460
                        ENTODT  061652  EOF     000013  EOSERR  000154  ERBASE
067336  ERBASU  046464  ERL     070272
                        ERLAUX  046612  ERLCMN  076640  ERLCTB  046610  ERLCTL
046350  ERLDVR  077030  ERLMSD  071774
                        ERLRIB  001200  ERLTBL  046622  ERL$DX  112370  ERL$KB
061630  ERL$LP  000000  ERL$MM  106744
                        ERL$PP  104006  ERL$PR  103404  ERRERR  000102  ERROR
063070  ERSIZE  046462  EXITNR  000111
                        EXITTM  000110  EXPERR  000061  EXTPOF  064020  EXTPOL
064010  EXTSTL  045502  FARCNT  067270
                        FCBLST  034510  FETCH   076240  FIBENT  003762  FIBFBN
046576  FIBMAP  003760  FIBMOD  046603
                        FIBUF   003000  FIBUNT  046602  FIELDE  000077  FIEXST
000020  FIJBDA  001306  FIJBD2  001310
                        FIJOB   001302  FILGO   061222  FILIX   060642  FILSET
060776  FIPAP5  067430  FIPAR   046522
                        FIPCLU  046514  FIPCTL  046462  FIPERR  060504  FIPERX
046562  FIPFUN  046506  FIPGEN  046605
                        FIPGO   060502  FIPMUC  046516  FIPRIV  001303  FIPR6
046512  FIPSP   046510  FIPSYS  067346
                        FIPUNT  046604  FIPU0C  046520  FIPVBN  046574  FIQUE
001300  FISTAK  002400  FIUSER  001304
                        FIXERR  000063  FLDNE   060634  FLG.DX  100422  FLG.KB
074402  FLG.LP  035406  FLG.MM  000016
                        FLG.NL  100426  FLG.PK  070420  FLG.PP  021412  FLG.PR
022410  FLG.SY  100000  FLTERR  000060
                        FMTERR  000062  FNDJOB  075006  FNDRSQ  075302  FNDRTS
075452  FPDNE   067330  FPP     061774
                        FPPCTL  031404  FPPFEC  045514  FPPRES  031514  FPPSAV
031404  FREBUF  072244  FREES   045460
                        FREE20  064022  FREE25  064024  FTLSCN  065642  FTLVEC
045360  FTLXX0  062072  FTLXX1  062076
                        FTLXX2  062102  FTLXX3  062106  FTLXX4  062112  FTLXX5
062116  FTLXX6  062122  FTLXX7  062126
                        FTL000  062066  FUCORE  000147  FUNERR  000130  GETBIG
063676  GETDEV  074100  GETIRB  076440
                        GETIRX  116574  GETUMR  077024  GODISK  060474  GUNSUB
073756  HALT    000054  HGHAD   045372
                        HNGDEV  000016  HNGTTY  000017  IDATE   000044  IDX.DX
000020  IDX.KB  000002  IDX.LP  000010
                        IDX.MM  000016  IDX.NL  000004  IDX.PK  000006  IDX.PP
000014  IDX.PR  000012  IDX.SY  000000
                        IE      000100  INTLCK  000023  INTPAK  000031  INTSAV
066462  INTSVX  066450  INT$DX  112306
                        INT$LP  106232  INT$MM  106642  INT$NL  102772  INT$PP
103704  INT$PR  103252  INUSE   000003
                        IOBUFR  003000  IOEXIT  063122  IOFINC  073234  IOFINI
073266  IOFIN4  073272  IOLERR  000074
                        IOREDO  063136  IRB     116376  ITIME   000046  J
046564  JBSTAT  032666  JBWAIT  032750
                        JOBCLK  033044  JOBCNT  045240  JOBMAX  000030  JOBMX2
000060  JOBQNT  045534  JOBTBL  032602
                        JQSTAT  077134  JSALL   064076  JSBTBL  056376  JSTATK
047054  JSTCTL  046676  JS.DX   000001
                        JS.KB   000002  JS.LP   000010  JS.MM   000001  JS.NL
000001  JS.PK   000004  JS.PP   000040
                        JS.PR   000020  JS.SY   000001  JUNK    045536  K
046565  KBDAP5  061542  KBDCTL  045240
                        KBDDDB  035210  KBDVR   061774  KBEDDB  045260  KBEREG
045270  KBESCN  045276  KBESC4  045300
                        KBETBL  045250  KBETMP  045314  KBEUNT  045310  KBFDDB
061642  KB2741  000000  KLKINT  061536
                        KL11    000020  LIBADR  031716  LIBCTL  031604  LIBLST
033034  LIBSUB  031616  LINERR  000057
                        LMTCNT  045244  LOGEND  034126  LOGERR  000065  LOGNAM
033452  LOGSYS  033762  LOG$DX  104056
                        LOG$KB  104044  LOG$LP  104046  LOG$MM  104054  LOG$PP
104052  LOG$PR  104050  LOOPCK  072346
                        LOWAD   045370  LOWCOR  000000  LPDAP5  061702  LPDDDB
044430  LPDINT  061676  LPDVR   104024
                        LPDVRX  104024  LRGFIL  000001  LRGPOL  064004  L3QSET
073116  L3QSE0  073112  L3QUE   045454
                        L3QUE2  045456  MAGDEN  067316  MAGLBL  067314  MAGRLE
000050  MAGSEL  000047  MAPBUF  076120
                        MAXCNT  045242  MAXHGH  045522  MAXJOB  045241  MAXLOW
045520  MAXUNT  000023  MAXUN2  000046
                        MED     061774  MEDCTL  030116  MEMADR  046200  MEMERR
045374  MEMLST  001040  MEMSIZ  001150
                        MID$DB  057052  MID$DL  057022  MID$DR  057032  MID$XX
057022  MINUS1  072162  MINVER  000070
                        MMDAP5  061732  MMDCTL  045324  MMDDDB  044530  MMDINT
061726  MMDVR   106514  MMU22W  067304
                        MODCLK  000052  MODERR  000125  MONPOL  064014  MONSTL
045500  MORBUF  005000  MOVBYT  075752
                        MOVWRD  076020  MULTTY  000001  NEDERR  000073  NLDDDB
044340  NLDVR   102766  NOBUFS  000040
                        NODELS  046606  NODEVC  000006  NOGOTO  000153  NOMATH
000175  NONOIM  000167  NORACS  000100
                        NOROOM  000004  NORTS   000076  NOSUCH  000005  NOTAVL
000010  NOTCLS  000007  NOTMNT  000025
                        NOTMTA  000101  NOTOPN  000011  NRNERR  000161  NRRTS
000051  NSPCHK  061764  NSPTMO  061770
                        NULJOB  061752  NULRTS  001240  ODD     000071  ONBAD
000072  OPNCLS  067472  OPN$DX  112446
                        OPN$LP  104226  OPN$MM  177775  OPN$NL  102772  OPN$PP
103624  OPN$PR  103202  OPN$SY  000001
                        OPO$XX  000050  OPT$DB  034230  OPT$DL  034200  OPT$DR
034210  OPT$XX  034200  OUTOAS  000127
                        OVBASE  067334  OVBASU  046476  OVRBUF  060506  PAKLCK
000026  PARSCN  065554  PARZER  045430
                        PATCH   055430  PATCHS  057142  PEEKER  067026  PKDCTL
045316  PKDDDB  044350  PKDINT  061676
                        PKDVR   061774  PKINWT  000013  PKMODE  000012  PKSTKB
000040  PK11    000004  PO.CKC  000002
                        PO.FCR  000040  PO.KIL  000020  PO.NCK  000001  PO.NTX
000004  PO.STL  000010  PPDAP5  061722
                        PPDDDB  044510  PPDINT  061716  PPDVR   103422  PPNTBL
067716  PRDAP5  061712  PRDDDB  044470
                        PRDINT  061706  PRDVR   103020  PRERRS  000164  PRIVAT
000030  PRNER1  000166  PRNER2  000170
                        PRVIOL  000012  PTABLE  061654  PWFSAV  001312  P$NEW
045576  QDXCON  100010  QMMCON  100002
                        QMMDNE  100004  QSTCTL  054566  QUANT   045532  QUEL3Q
072570  QUEUER  072504  QUEUE0  072534
                        RAWMEM  032326  REGRES  072426  REGSAV  072406  REGSCR
072444  RELOAD  056030  RELUMR  077026
                        REMJOB  074724  REMRTS  074670  RES     067264  RESCHK
075220  RESCTL  045514  RESENT  075262
                        RESERR  000150  RESFPP  067274  RESJOB  075336  RESLST
045524  RESRT4  066534  RESTRX  045510
                        RETBIG  063616  RETCHN  067440  RETDEV  074144  RETEXT
060500  RETIRB  116376  RETMON  065060
                        RETUSR  063430  RETUSX  063434  RETWDB  032020  RHMADR
076742  RJETMO  061772  RSXAGN  060512
                        RSXAP5  063610  RSXEMT  063224  RSXENT  060514  RSXTRP
060510  RTI     061774  RTICTL  045360
                        RTI3    066544  RTI47   066632  RTSLST  033032  RTSPC
073046  RTSSUB  031604  SAFNOS  000143
                        SASNOI  000144  SASYNE  000142  SATBUF  004000  SATCTL
035070  SATCTM  035140  SATEND  034700
                        SATFBN  046566  SATMOD  046573  SATPTR  034630  SATSTL
034750  SATSTM  035020  SATTBD  000035
                        SATUNT  046572  SAVFPP  067272  SAVJNL  073524  SAVJOB
073410  SAVJQX  073374  SAVTIM  073604
                        SCAERR  000177  SCHTBL  045600  SCRUMP  073162  SCRUMX
073156  SERSPC  067656  SER$DX  112552
                        SER$LP  104432  SER$MM  107306  SER$NL  102774  SER$PP
103422  SER$PR  103020  SER$SY  100430
                        SETDTR  060472  SETPRM  060462  SETRES  064650  SETUP
065434  SIGMEM  075316  SIZERR  000054
                        SIZ.DX  000107  SIZ.KB  000000  SIZ.LP  000000  SIZ.MM
000107  SIZ.NL  000107  SIZ.PK  000107
                        SIZ.PP  000107  SIZ.PR  000107  SIZ.SY  000107  SL.VAL
001000  SL2741  000000  SNDLST  033036
                        SPC$DX  111736  SPC$LP  104224  SPC$MM  107236  SPC$NL
102766  SPC$PP  104004  SPC$PR  103402
                        SPC$SY  102262  SPLLST  033042  SQRERR  000066  STKLMT
067276  STKOVF  073142  STMERR  000107
                        STOIRB  116424  STORE   076146  STPERR  000173  STSTBL
060450  STS.DX  000000  STS.KB  000000
                        STS.LP  000002  STS.MM  000000  STS.NL  000000  STS.PK
000000  STS.PP  000002  STS.PR  000004  
                        ST2741  000000  SUB     072104  SUBERR  000067  SWBASE
046202  SWDNE   067320  SWDONQ  046242
                        SWITCH  067302  SWOCNT  045530  SWPDSQ  046244  SWPMAP
046304  SWPMAX  067266  SWPMPE  046344
                        SWPUSE  046344  SWRTS   074614  SWRTSL  074620  SWTBKE
045576  SWTBLK  045540  SYDAP5  060640
                        SYDCTL  045236  SYDINT  060634  SYDLRG  101726  SYDVR
100430  SYSLRG  000001  SYSTAK  001770
                        SYSUNT  067264  SYSUN2  067265  SYTTMO  066316  TABSET
072164  TBL     056030  TIMCNV  067326
                        TIMEND  033452  TIMTBL  033126  TIM.DX  033432  TIM.KB
033176  TIM.LP  033420  TIM.MM  033426
                        TIM.NL  033406  TIM.PK  033410  TIM.PP  033424  TIM.PR
033422  TI.ISB  002000  TI.MUL  100000
                        TI.NST  020000  TI.RSX  001000  TI.SCA  040000  TLCNTD
000155  TLCONI  000120  TLIDIM  000152
                        TLIFFE  000117  TLINCD  000132  TLJNKY  000140  TLMFND
000123  TLNOFN  000141  TLNOIT  000116
                        TLNOTF  000121  TLNZSP  000115  TLOPNV  000114  TLPRNM
000156  TLQDUM  000122  TLRNNM  000124
                        TLTMAF  000131  TLURTP  000145  TLXDIM  000146  TMO$DX
112310  TMO$LP  105152  TMO$MM  106552
                        TMO$NL  102772  TMO$PP  104000  TMO$PR  103354  TO.BIN
010000  TO.DEC  000400  TO.MUL  100000
                        TO.PRE  002000  TO.RSX  001000  TO.SUF  004000  TRYEXT
064762  TRYMON  064706  TTDC11  000002
                        TTDE11  000006  TTDH11  000014  TTDJ11  000012  TTDL11
000004  TTDMBB  000000  TTDZ11  000016
                        TTFCNT  000063  TTINEC  000040  TTKL11  000000  TTMSCN
000064  TTPARM  000050  TTPK11  000010
                        TTRING  000054  TTYHCT  045246  UDMERR  000165  UMRCTL
030770  UMREND  056470  UMR$DX  112260
                        UMR$MM  107416  UNDFNI  000112  UNISCN  030316  UNLOCK
075426  UNLOC0  075422  UNQCHK  074322
                        UNTCLU  034370  UNTCNE  034320  UNTCNT  034250  UNTERR
034371  UNTLIB  034440  UNTOPT  034561
                        UNTOWN  034560  UNTSIZ  057072  UPDATE  116376  UPDCHK
101726  UPDLRG  116376  UPDUNL  102262
                        UPE     061774  UPECTL  030152  UPELGE  045424  UPELOG
045376  UPELSZ  045424  UPOKER  067040
                        VCAERR  000053  VCOERR  000055  VCSERR  000052  VOLSW1
056126  VOLSW2  056152  WAIT2T  045452
                        WINSUB  031656  WRGPAK  000024  XCDCOR  000176  XOFFCH
061674  ZERO    072160  $ASNTB  057666
                        $BUFTB  060042  $CLSTB  057622  $DBDIN  060614  $DCDIN
000000  $DEATB  057710  $DFDIN  000000
                        $DKDIN  000000  $DLDIN  060554  $DMDIN  000000  $DPDIN
000000  $DRDIN  060574  $DSDIN  000000
                        $DSKDS  060474  $DTADS  060536  $EMTDS  060476  $EMTTB
057202  $ERRTB  057476  $FIPDS  060502
                        $FIPTB  060124  $FLGTB  057776  $KBDIN  061536  $L3QPA
057400  $L3QTB  057302  $MSKTB  060064
                        $MTADS  060526  $OPNTB  057600  $RSXDS  060510  $SERTB
057556  $SIZTB  060020  $SLPTB  057754
                        $SPCTB  057644  $TERDS  060460  $TMOTB  057732  $UUOSN
060360  $UUOTB  060200  $$BAEL  067310
                        $$BOOT  054566  $$BUFB  067342  $$BUFE  003000  $$BUFS
002400  $$CACH  046376  $$CCNT  066310
                        $$CCSR  066216  $$CCTL  045366  $$CHEN  046364  $$CHSZ
000014  $$CNOP  066620  $$CNVF  067324
                        $$CPRM  066220  $$CQNT  066274  $$CRSZ  060554  $$CSDB
056474  $$CSDL  056470  $$CSDR  056472
                        $$CSDX  056732  $$CSKB  056476  $$CSLP  056720  $$CSMM
056726  $$CSPP  056724  $$CSPR  056722
                        $$CSRT  066262  $$DATE  001000  $$DDCS  034320  $$DMID
057022  $$DREG  067300  $$DRTS  001100
                        $$DSIZ  057072  $$ECPU  071614  $$EMED  071620  $$EPMM
100430  $$ERRB  067336  $$ERSZ  046462
                        $$ESID  071612  $$EXTO  064020  $$EXTP  064012  $$FIS
062250  $$FPPE  031604  $$FPPS  031404
                        $$FR00  045462  $$FR20  064022  $$FR25  064024  $$GUMR
077024  $$HZDV  073672  $$JOBM  045242
                        $$LDAY  066420  $$LIBE  032166  $$LIBS  031604  $$LOWC
001426  $$LOWE  000060  $$LOWS  000040
                        $$LRGP  064006  $$MBFE  030116  $$MBFS  005000  $$MEDE
030152  $$MEDS  030116  $$MEML  001040
                        $$MEMT  001140  $$MOVB  075752  $$MOVW  076020  $$MTLB
067314  $$M22W  067304  $$NDAY  066426
                        $$NULW  001774  $$ODTB  062672  $$ODTE  062210  $$ODTP
061652  $$ODT6  062202  $$OVRB  067334
                        $$OVRC  046474  $$PCSR  030152  $$PMSK  030254  $$PNEW
045576  $$PRNG  030214  $$PSCN  065554
                        $$PTBL  065556  $$PWRP  065346  $$PZER  045430  $$RFPP
067274  $$RTSP  073046  $$RUMR  077026
                        $$SFPP  067272  $$SL    067276  $$SREG  067302  $$SROM
056030  $$STAK  001736  $$SWMP  046304
                        $$SWPB  046202  $$SWPM  067266  $$SYSP  056332  $$SYSU
067264  $$TICK  066364  $$TIME  001002
                        $$TMUN  000010  $$UMRE  031404  $$UMRP  031176  $$UMRS
030770  $$UMRT  031200  $$UPEE  030770
                        $$UPES  030152  $$VSWR  065374  $$0301  057142  $$0303
057152  $$0305  057162  $$0307  057172
                        $$2780  000000  ..BQNT  061054  ..BWCB  102350  ..CAGE
116002  ..DFAV  101540  ..DIAB  067312
                        ..FCNT  067270  ..FQNT  067372  ..LPSP  104244  ..LP66
104326  ..MMGP  110040  ..MTDP  067316
                        ..PCSS  103146  ..PPN.  067716  ..PWRF  065270  ..SYDF
100616
 MERGE   117000 000004   (RW,I,GBL,REL,OVR)
 MERG0   117004 000006   (RW,I,GBL,REL,OVR)
 SERTBL  117012 000010   (RW,I,GBL,REL,OVR)
 MERG1   117022 000006   (RW,I,GBL,REL,OVR)
 OPNTBL  117030 000010   (RW,I,GBL,REL,OVR)
 MERG2   117040 000006   (RW,I,GBL,REL,OVR)
 CLSTBL  117046 000010   (RW,I,GBL,REL,OVR)
 MERG3   117056 000006   (RW,I,GBL,REL,OVR)
 TMOTBL  117064 000010   (RW,I,GBL,REL,OVR)
 MERG4   117074 000006   (RW,I,GBL,REL,OVR)
 SPCTBL  117102 000010   (RW,I,GBL,REL,OVR)
 MERG5   117112 000006   (RW,I,GBL,REL,OVR)
 SLPTBL  117120 000010   (RW,I,GBL,REL,OVR)
 MERG6   117130 000006   (RW,I,GBL,REL,OVR)
 ASNTBL  117136 000010   (RW,I,GBL,REL,OVR)
 MERG7   117146 000006   (RW,I,GBL,REL,OVR)
 DEATBL  117154 000010   (RW,I,GBL,REL,OVR)
 MERG8   117164 000006   (RW,I,GBL,REL,OVR)
 FLGTBL  117172 000010   (RW,I,GBL,REL,OVR)
 MERG9   117202 000006   (RW,I,GBL,REL,OVR)
 SIZTBL  117210 000010   (RW,I,GBL,REL,OVR)
 MERG10  117220 000006   (RW,I,GBL,REL,OVR)
 BUFTBL  117226 000010   (RW,I,GBL,REL,OVR)
 MERG11  117236 000006   (RW,I,GBL,REL,OVR)
 TERDSP  117244 000014   (RW,I,GBL,REL,OVR)
 MERG12  117260 000006   (RW,I,GBL,REL,OVR)
 KBDINT  117266 000510   (RW,I,GBL,REL,OVR)
 MERG99  117776 000002   (RW,I,GBL,REL,OVR)
 TERPAT  120000 000772   (RW,I,GBL,REL,OVR)
                        TERPAT  120000
 TTDVR   120772 013112   (RW,I,GBL,REL,OVR)
                        ASCOUE  132372  ASCOUF  132362  ASCOUT  132402  ASCOUU
132362  ASKINP  133276  ASN$KB  132462
                        ASN$PK  121102  BINEND  132502  CHKDLF  131346  CHKESC
133244  CHKFRE  131110  CHKINP  130034
                        CHKLIN  132306  CHKRSX  133430  CHOBIN  130742  CHORTS
130740  CHOUT   130476  CHOUTE  130456
                        CHROUT  130760  CKCRLF  131330  CKPCOL  132240  CLRTTI
132520  CLS$KB  124552  CLS$PK  121170
                        CORPOS  133164  CR      134056  CRLF.0  134046  DDBSET
125424  DEA$KB  132462  DEA$PK  121102
                        DETERR  123024  DETJOB  125054  DJINT   125176  DJONT
125254  DJOUT   125474  DOKILL  124132
                        DOLLAR  134062  DOXON   132300  ECHOIN  126072  EKODEC
124302  EKOEND  124612  EKOTYP  124650
                        ENDRUB  130214  ESCLST  134006  EXCDED  134064  FNDLIN
125132  FTIMER  131244  GOCRLF  131340
                        IOSTAL  124212  IOTEST  124106  JOBCHK  133172  LF
134054  LINES4  134051  MAPPED  133520
                        MULTTC  122266  MULTTO  122522  MULTTS  122364  MUXKBN
125354  NEWJOB  127144  NOCHAR  130200
                        OPN$KB  124422  OPN$PK  121104  PKTOKB  121060  RDRRUN
126542  RSXCHR  133360  RSXCR   133342
                        RSXEAT  133404  SENDFN  131214  SENDF1  131202  SER$KB
122712  SER$PK  121244  SETMOD  124462
                        SETPKW  124216  SILOEX  125226  SLINT0  125366  SLINT1
125362  SLONT0  125400  SLONT1  125374
                        SLP$KB  130002  SLP$PK  121052  SNDCHR  130556  SPC$KB
132704  SPC$PK  120772  SRTLIN  132314
                        STOREX  126614  STOREY  126572  SUBLIN  125324  TECOCK
132204  TECOCS  132176  TECOCX  132214
                        TI$ALT  132100  TI$AL1  132124  TI$BS   130146  TI$CB
132006  TI$CC   127444  TI$CCG  131760
                        TI$CCQ  132230  TI$CCS  132230  TI$CO   126730  TI$CR
127006  TI$CRR  131626  TI$CTT  131626
                        TI$CU   130066  TI$CZ   126762  TI$EOT  132046  TI$FF
132156  TI$LF   127170  TI$RO   130232
                        TI$TAB  126702  TMOHUP  122026  TMO$KB  121726  TMO$PK
121102  TO$BS   131620  TO$CR   131376
                        TO$CUR  131544  TO$DCA  131564  TO$ESC  131610  TO$FF
131140  TO$LF   131530  TO$TAB  131262
                        TO$VT   131172  TTBACK  134060  TTCKBS  130162  TTDLIM
133774  TTDVR   120772  TTEMT   132646
                        TTGET   127630  TTHGLN  122174  TTIBAD  127152  TTICCC
134044  TTICC2  127436  TTICHL  133564
                        TTICOC  134037  TTICRC  134020  TTICUC  134032  TTICZC
134025  TTIDSP  133634  TTIJOB  127224
                        TTIJSB  127430  TTILFS  127040  TTILF0  127076  TTIMUL
123442  TTIN    125620  TTINCH  125626
                        TTINDL  126324  TTINER  126424  TTINST  126174  TTINXX
125616  TTIN04  126514  TTIN09  125716
                        TTIN4X  126156  TTISER  122556  TTISGL  124262  TTISJS
127120  TTKEEP  131540  TTNORM  132042
                        TTOCHL  133704  TTODSP  133740  TTOMUL  123070  TTOUT
125476  TTSAVE  126722  TTSJST  125564
                        TTSTSP  131256  TTWIPE  125606  TTXCHL  133720  XONINP
133270  ..CTY.  133220  ..CTZ.  133212
                        ..ESCP  134014  ..KBMP  124436  ..KBPR  125630  ..PKMP
121122
 TTMAPD  134104 000000   (RW,I,GBL,REL,OVR)
                        TTMAPD  134104  $$TTMP  134104
 TTSYST  134104 001674   (RW,I,GBL,REL,OVR)
                        TTSYST  134104

TRANSFER ADDRESS = 000001, HIGH LIMIT = 136000 = 24064. WORDS
  RT-11 LINK  V06.00      LOAD MAP        SAT 18-OCT-86 01:52:40
DSK   .SAV      TITLE:  DSK     IDENT:  07.007  /B:117000

SECTION  ADDR   SIZE    GLOBAL  VALUE   GLOBAL  VALUE   GLOBAL  VALUE   GLOBAL
VALUE   GLOBAL  VALUE   GLOBAL  VALUE

 . ABS.  000000 117000   (RW,I,GBL,ABS,OVR)
                        ABORT   000014  ADDMEM  074430  ASN$DX  112304  ASN$LP
104412  ASN$MM  106514  ASN$NL  102770
                        ASN$PP  103664  ASN$PR  103250  BADCLU  000027  BADCNT
000037  BADDIR  000001  BADERR  000171
                        BADFUO  000022  BADNAM  000002  BADPAK  000032  BADRTS
074472  BADSWT  000103  BAELST  067310
                        BAKLRG  045476  BAKSML  045474  BDNERR  000064  BFBASE
067342  BFE.KB  000006  BFI.KB  000006
                        BFQ.KB  000012  BFQ.LP  000024  BFQ.PP  000012  BFQ.PR
000012  BGBUFR  032166  BITBYT  072150
                        BITWRD  072104  BLKMOV  075534  BOOT    054566  BSERR
000056  BUF     115110  BUFCTL  045460
                        BUFFER  064366  BUFPOL  002400  BUF.DX  001000  BUF.KB
000200  BUF.LP  000200  BUF.MM  001000
                        BUF.NL  000002  BUF.PK  000200  BUF.PP  000200  BUF.PR
000200  BUF.SY  001000  BYERTS  074704
                        B.PRTY  000046  B.STAK  000044  B.SWAP  000045  B.10
000042  B.250   000043  B.4     000041
                        CALLBB  067632  CALLM   067542  CALLMI  067532  CALLMR
067614  CALLMX  067564  CCLCHK  074316
                        CCLLST  045526  CHECHK  067772  CHECKX  115416  CHECTL
046364  CHEEXT  067100  CHEMON  067070
                        CHESEC  046370  CHESML  067060  CHETIC  046366  CHEUUO
070270  CHEZAP  070260  CHKEXT  067262
                        CHKMON  067260  CHKSTK  073012  CHKXRB  072626  CLOKGO
066230  CLOK.L  066266  CLOK.P  066222
                        CLRBUF  076476  CLRCPE  071616  CLRRSQ  075312  CLRTER
060464  CLRTIN  060466  CLS$DX  112546
                        CLS$LP  105252  CLS$MM  177775  CLS$NL  102772  CLS$PP
103572  CLS$PR  103224  CLS$SY  000001
                        CLUCVT  072150  CLUFAC  034321  CMNDVR  076640  CNT.DB
000010  CNT.DL  000004  CNT.DR  000010
                        CNT.DX  000010  CNT.KB  000104  CNT.LP  000001  CNT.MM
000002  CNT.PK  000004  CNT.PP  000001
                        CNT.PR  000001  CNVDCN  074360  CNVDC3  074364  COMDSK
067726  CONNEC  073674  CONNEX  073702
                        CON$DX  112734  CON$MM  107426  COSERR  000113  CPNSDF
000133  CPUFNX  000135  CPUPDF  000136
                        CPUPED  000137  CPUPFR  000134  CREJOB  060470  CRSDMP
056064  CSRTBL  056470  CSR.DB  056474
                        CSR.DL  056470  CSR.DR  056472  CSR.DX  056732  CSR.KB
056476  CSR.LP  056720  CSR.MM  056726
                        CSR.PP  056724  CSR.PR  056722  CTRLCE  000034  CTRLEV
045366  DATCNV  067324  DATERR  000015
                        DBDCTL  045230  DBDINT  060614  DBDPT1  045232  DBDPT2
045234  DCDSK   000000  DDO.XX  177130
                        DDS.DX  000034  DDS.KB  000066  DDS.LP  000040  DDS.MM
000046  DDS.NL  000010  DDS.PK  000014
                        DDS.PP  000020  DDS.PR  000020  DEA$DX  112304  DEA$LP
104362  DEA$MM  106544  DEA$NL  102772
                        DEA$PP  103664  DEA$PR  103250  DETKEY  000033  DEVCLU
034320  DEVCNT  056262  DEVEND  032602
                        DEVNAM  056206  DEVNFS  000036  DEVNKB  056230  DEVOKB
000022  DEVOSN  000054  DEVPTR  056334
                        DEVSYN  056250  DEVTBE  032536  DEVTBL  032326  DEV.DX
032562  DEV.KB  032326  DEV.LP  032550
                        DEV.MM  032556  DEV.NL  032536  DEV.PK  032540  DEV.PP
032554  DEV.PR  032552  DFDSK   000000
                        DIABOX  067312  DIMED2  000151  DIMERR  000174  DISERR
000172  DISK    067726  DISKER  072546
                        DISKNE  072540  DISPLY  067300  DIVBY0  000075  DJKBN
061636  DJKINT  061576  DKDSK   000000
                        DLDCTL  045204  DLDINT  060554  DLDPOS  045212  DLDPT1
045206  DLDPT2  045210  DMDSK   000000
                        DMPJOB  063164  DNE$MM  107436  DOMED   030116  DOPOST
060476  DPDSK   000000  DQE$DB  034200
                        DQE$DL  034140  DQE$DR  034160  DQS$DB  034160  DQS$DL
034130  DQS$DR  034140  DQS$XX  034130
                        DRDCTL  045222  DRDINT  060574  DRDPT1  045224  DRDPT2
045226  DSDSK   000000  DSE$DB  033176
                        DSE$DL  033136  DSE$DR  033156  DSKAP5  067764  DSKCSR
056470  DSKMAP  056752  DSKPTR  056442
                        DSO$XX  176776  DSS$DB  033156  DSS$DL  033126  DSS$DR
033136  DSS$XX  033126  DSTAT   100140
                        DSTCTE  054566  DSTCTL  047064  DSTMUL  000740  DTOOOF
000021  DVRAP5  056420  DVRA5E  056442
                        DXDAP5  061746  DXDCTL  045340  DXDDDB  044644  DXDINT
061742  DXDVR   111732  EDARSV  000163
                        EDBMCE  000157  EDCONE  000162  EDEXON  000160  EKOCTW
000046  EKOPNT  000047  EMTAP5  063404
                        ENDKEY  060460  ENTODT  061652  EOF     000013  EOSERR
000154  ERBASE  067336  ERBASU  046464
                        ERL     070272  ERLAUX  046612  ERLCMN  076640  ERLCTB
046610  ERLCTL  046350  ERLDVR  077030
                        ERLMSD  071774  ERLRIB  001200  ERLTBL  046622  ERL$DX
112370  ERL$KB  061630  ERL$LP  000000
                        ERL$MM  106744  ERL$PP  104006  ERL$PR  103404  ERRERR
000102  ERROR   063070  ERSIZE  046462
                        EXITNR  000111  EXITTM  000110  EXPERR  000061  EXTPOF
064020  EXTPOL  064010  EXTSTL  045502
                        FARCNT  067270  FCBLST  034510  FETCH   076240  FIBENT
003762  FIBFBN  046576  FIBMAP  003760
                        FIBMOD  046603  FIBUF   003000  FIBUNT  046602  FIELDE
000077  FIEXST  000020  FIJBDA  001306
                        FIJBD2  001310  FIJOB   001302  FILGO   061222  FILIX
060642  FILSET  060776  FIPAP5  067430
                        FIPAR   046522  FIPCLU  046514  FIPCTL  046462  FIPERR
060504  FIPERX  046562  FIPFUN  046506
                        FIPGEN  046605  FIPGO   060502  FIPMUC  046516  FIPRIV
001303  FIPR6   046512  FIPSP   046510
                        FIPSYS  067346  FIPUNT  046604  FIPU0C  046520  FIPVBN
046574  FIQUE   001300  FISTAK  002400
                        FIUSER  001304  FIXERR  000063  FLDNE   060634  FLG.DX
100422  FLG.KB  074402  FLG.LP  035406
                        FLG.MM  000016  FLG.NL  100426  FLG.PK  070420  FLG.PP
021412  FLG.PR  022410  FLG.SY  100000
                        FLTERR  000060  FMTERR  000062  FNDJOB  075006  FNDRSQ
075302  FNDRTS  075452  FPDNE   067330
                        FPP     061774  FPPCTL  031404  FPPFEC  045514  FPPRES
031514  FPPSAV  031404  FREBUF  072244
                        FREES   045460  FREE20  064022  FREE25  064024  FTLSCN
065642  FTLVEC  045360  FTLXX0  062072
                        FTLXX1  062076  FTLXX2  062102  FTLXX3  062106  FTLXX4
062112  FTLXX5  062116  FTLXX6  062122
                        FTLXX7  062126  FTL000  062066  FUCORE  000147  FUNERR
000130  GETBIG  063676  GETDEV  074100
                        GETIRB  076440  GETIRX  116574  GETUMR  077024  GODISK
060474  GUNSUB  073756  HALT    000054
                        HGHAD   045372  HNGDEV  000016  HNGTTY  000017  IDATE
000044  IDX.DX  000020  IDX.KB  000002
                        IDX.LP  000010  IDX.MM  000016  IDX.NL  000004  IDX.PK
000006  IDX.PP  000014  IDX.PR  000012
                        IDX.SY  000000  IE      000100  INTLCK  000023  INTPAK
000031  INTSAV  066462  INTSVX  066450
                        INT$DX  112306  INT$LP  106232  INT$MM  106642  INT$NL
102772  INT$PP  103704  INT$PR  103252
                        INUSE   000003  IOBUFR  003000  IOEXIT  063122  IOFINC
073234  IOFINI  073266  IOFIN4  073272
                        IOLERR  000074  IOREDO  063136  IRB     116376  ITIME
000046  J       046564  JBSTAT  032666
                        JBWAIT  032750  JOBCLK  033044  JOBCNT  045240  JOBMAX
000030  JOBMX2  000060  JOBQNT  045534
                        JOBTBL  032602  JQSTAT  077134  JSALL   064076  JSBTBL
056376  JSTATK  047054  JSTCTL  046676
                        JS.DX   000001  JS.KB   000002  JS.LP   000010  JS.MM
000001  JS.NL   000001  JS.PK   000004
                        JS.PP   000040  JS.PR   000020  JS.SY   000001  JUNK
045536  K       046565  KBDAP5  061542
                        KBDCTL  045240  KBDDDB  035210  KBDVR   061774  KBEDDB
045260  KBEREG  045270  KBESCN  045276
                        KBESC4  045300  KBETBL  045250  KBETMP  045314  KBEUNT
045310  KBFDDB  061642  KLKINT  061536
                        LIBADR  031716  LIBCTL  031604  LIBLST  033034  LIBSUB
031616  LINERR  000057  LMTCNT  045244
                        LOGEND  034126  LOGERR  000065  LOGNAM  033452  LOGSYS
033762  LOG$DX  104056  LOG$KB  104044
                        LOG$LP  104046  LOG$MM  104054  LOG$PP  104052  LOG$PR
104050  LOOPCK  072346  LOWAD   045370
                        LOWCOR  000000  LPDAP5  061702  LPDDDB  044430  LPDINT
061676  LPDVR   104024  LPDVRX  104024
                        LRGFIL  000001  LRGPOL  064004  L3QSET  073116  L3QSE0
073112  L3QUE   045454  L3QUE2  045456
                        MAGDEN  067316  MAGLBL  067314  MAGRLE  000050  MAGSEL
000047  MAPBUF  076120  MAXCNT  045242
                        MAXHGH  045522  MAXJOB  045241  MAXLOW  045520  MAXUNT
000023  MAXUN2  000046  MED     061774
                        MEDCTL  030116  MEMADR  046200  MEMERR  045374  MEMLST
001040  MEMSIZ  001150  MID$DB  057052
                        MID$DL  057022  MID$DR  057032  MID$XX  057022  MINUS1
072162  MINVER  000070  MMDAP5  061732
                        MMDCTL  045324  MMDDDB  044530  MMDINT  061726  MMDVR
106514  MMU22W  067304  MODCLK  000052
                        MODERR  000125  MONPOL  064014  MONSTL  045500  MORBUF
005000  MOVBYT  075752  MOVWRD  076020
                        NEDERR  000073  NLDDDB  044340  NLDVR   102766  NOBUFS
000040  NODELS  046606  NODEVC  000006
                        NOGOTO  000153  NOMATH  000175  NONOIM  000167  NORACS
000100  NOROOM  000004  NORTS   000076
                        NOSUCH  000005  NOTAVL  000010  NOTCLS  000007  NOTMNT
000025  NOTMTA  000101  NOTOPN  000011
                        NRNERR  000161  NRRTS   000051  NSPCHK  061764  NSPTMO
061770  NULJOB  061752  NULRTS  001240
                        ODD     000071  ONBAD   000072  OPNCLS  067472  OPN$DX
112446  OPN$LP  104226  OPN$MM  177775
                        OPN$NL  102772  OPN$PP  103624  OPN$PR  103202  OPN$SY
000001  OPO$XX  000050  OPT$DB  034230
                        OPT$DL  034200  OPT$DR  034210  OPT$XX  034200  OUTOAS
000127  OVBASE  067334  OVBASU  046476
                        OVRBUF  060506  PAKLCK  000026  PARSCN  065554  PARZER
045430  PATCH   055430  PATCHS  057142
                        PEEKER  067026  PKDCTL  045316  PKDDDB  044350  PKDINT
061676  PKDVR   061774  PKINWT  000013
                        PKMODE  000012  PPDAP5  061722  PPDDDB  044510  PPDINT
061716  PPDVR   103422  PPNTBL  067716
                        PRDAP5  061712  PRDDDB  044470  PRDINT  061706  PRDVR
103020  PRERRS  000164  PRIVAT  000030
                        PRNER1  000166  PRNER2  000170  PRVIOL  000012  PTABLE
061654  PWFSAV  001312  P$NEW   045576
                        QDXCON  100010  QMMCON  100002  QMMDNE  100004  QSTCTL
054566  QUANT   045532  QUEL3Q  072570
                        QUEUER  072504  QUEUE0  072534  RAWMEM  032326  REGRES
072426  REGSAV  072406  REGSCR  072444
                        RELOAD  056030  RELUMR  077026  REMJOB  074724  REMRTS
074670  RES     067264  RESCHK  075220
                        RESCTL  045514  RESENT  075262  RESERR  000150  RESFPP
067274  RESJOB  075336  RESLST  045524
                        RESRT4  066534  RESTRX  045510  RETBIG  063616  RETCHN
067440  RETDEV  074144  RETEXT  060500
                        RETIRB  116376  RETMON  065060  RETUSR  063430  RETUSX
063434  RETWDB  032020  RHMADR  076742
                        RJETMO  061772  RSXAGN  060512  RSXAP5  063610  RSXEMT
063224  RSXENT  060514  RSXTRP  060510
                        RTI     061774  RTICTL  045360  RTI3    066544  RTI47
066632  RTSLST  033032  RTSPC   073046
                        RTSSUB  031604  SAFNOS  000143  SASNOI  000144  SASYNE
000142  SATBUF  004000  SATCTL  035070
                        SATCTM  035140  SATEND  034700  SATFBN  046566  SATMOD
046573  SATPTR  034630  SATSTL  034750
                        SATSTM  035020  SATTBD  000035  SATUNT  046572  SAVFPP
067272  SAVJNL  073524  SAVJOB  073410
                        SAVJQX  073374  SAVTIM  073604  SCAERR  000177  SCHTBL
045600  SCRUMP  073162  SCRUMX  073156
                        SERSPC  067656  SER$DX  112552  SER$LP  104432  SER$MM
107306  SER$NL  102774  SER$PP  103422
                        SER$PR  103020  SER$SY  100430  SETDTR  060472  SETPRM
060462  SETRES  064650  SETUP   065434
                        SIGMEM  075316  SIZERR  000054  SIZ.DX  000107  SIZ.KB
000000  SIZ.LP  000000  SIZ.MM  000107
                        SIZ.NL  000107  SIZ.PK  000107  SIZ.PP  000107  SIZ.PR
000107  SIZ.SY  000107  SL.VAL  001000
                        SNDLST  033036  SPC$DX  111736  SPC$LP  104224  SPC$MM
107236  SPC$NL  102766  SPC$PP  104004
                        SPC$PR  103402  SPC$SY  102262  SPLLST  033042  SQRERR
000066  STKLMT  067276  STKOVF  073142
                        STMERR  000107  STOIRB  116424  STORE   076146  STPERR
000173  STSTBL  060450  STS.DX  000000
                        STS.KB  000000  STS.LP  000002  STS.MM  000000  STS.NL
000000  STS.PK  000000  STS.PP  000002
                        STS.PR  000004  ST2741  000000  SUB     072104  SUBERR
000067  SWBASE  046202  SWDNE   067320
                        SWDONQ  046242  SWITCH  067302  SWOCNT  045530  SWPDSQ
046244  SWPMAP  046304  SWPMAX  067266
                        SWPMPE  046344  SWPUSE  046344  SWRTS   074614  SWRTSL
074620  SWTBKE  045576  SWTBLK  045540
                        SYDAP5  060640  SYDCTL  045236  SYDINT  060634  SYDLRG
101726  SYDVR   100430  SYSLRG  000001  
                        SYSTAK  001770  SYSUNT  067264  SYSUN2  067265  SYTTMO
066316  TABSET  072164  TBL     056030
                        TIMCNV  067326  TIMEND  033452  TIMTBL  033126  TIM.DX
033432  TIM.KB  033176  TIM.LP  033420
                        TIM.MM  033426  TIM.NL  033406  TIM.PK  033410  TIM.PP
033424  TIM.PR  033422  TLCNTD  000155
                        TLCONI  000120  TLIDIM  000152  TLIFFE  000117  TLINCD
000132  TLJNKY  000140  TLMFND  000123
                        TLNOFN  000141  TLNOIT  000116  TLNOTF  000121  TLNZSP
000115  TLOPNV  000114  TLPRNM  000156
                        TLQDUM  000122  TLRNNM  000124  TLTMAF  000131  TLURTP
000145  TLXDIM  000146  TMO$DX  112310
                        TMO$LP  105152  TMO$MM  106552  TMO$NL  102772  TMO$PP
104000  TMO$PR  103354  TRYEXT  064762
                        TRYMON  064706  TTDC11  000002  TTDE11  000006  TTDH11
000014  TTDJ11  000012  TTDL11  000004
                        TTDMBB  000000  TTDZ11  000016  TTFCNT  000063  TTINEC
000040  TTKL11  000000  TTMSCN  000064
                        TTPARM  000050  TTPK11  000010  TTRING  000054  TTYHCT
045246  UDMERR  000165  UMRCTL  030770
                        UMREND  056470  UMR$DX  112260  UMR$MM  107416  UNDFNI
000112  UNISCN  030316  UNLOCK  075426
                        UNLOC0  075422  UNQCHK  074322  UNTCLU  034370  UNTCNE
034320  UNTCNT  034250  UNTERR  034371
                        UNTLIB  034440  UNTOPT  034561  UNTOWN  034560  UNTSIZ
057072  UPDATE  116376  UPDCHK  101726
                        UPDLRG  116376  UPDUNL  102262  UPE     061774  UPECTL
030152  UPELGE  045424  UPELOG  045376
                        UPELSZ  045424  UPOKER  067040  VCAERR  000053  VCOERR
000055  VCSERR  000052  VOLSW1  056126
                        VOLSW2  056152  WAIT2T  045452  WINSUB  031656  WRGPAK
000024  XCDCOR  000176  XOFFCH  061674
                        ZERO    072160  $ASNTB  057666  $BUFTB  060042  $CLSTB
057622  $DBDIN  060614  $DCDIN  000000
                        $DEATB  057710  $DFDIN  000000  $DKDIN  000000  $DLDIN
060554  $DMDIN  000000  $DPDIN  000000
                        $DRDIN  060574  $DSDIN  000000  $DSKDS  060474  $DTADS
060536  $EMTDS  060476  $EMTTB  057202
                        $ERRTB  057476  $FIPDS  060502  $FIPTB  060124  $FLGTB
057776  $KBDIN  061536  $L3QPA  057400
                        $L3QTB  057302  $MSKTB  060064  $MTADS  060526  $OPNTB
057600  $RSXDS  060510  $SERTB  057556
                        $SIZTB  060020  $SLPTB  057754  $SPCTB  057644  $TERDS
060460  $TMOTB  057732  $UUOSN  060360
                        $UUOTB  060200  $$BAEL  067310  $$BOOT  054566  $$BUFB
067342  $$BUFE  003000  $$BUFS  002400
                        $$CACH  046376  $$CCNT  066310  $$CCSR  066216  $$CCTL
045366  $$CHEN  046364  $$CHSZ  000014
                        $$CNOP  066620  $$CNVF  067324  $$CPRM  066220  $$CQNT
066274  $$CRSZ  060554  $$CSDB  056474
                        $$CSDL  056470  $$CSDR  056472  $$CSDX  056732  $$CSKB
056476  $$CSLP  056720  $$CSMM  056726
                        $$CSPP  056724  $$CSPR  056722  $$CSRT  066262  $$DATE
001000  $$DDCS  034320  $$DMID  057022
                        $$DREG  067300  $$DRTS  001100  $$DSIZ  057072  $$ECPU
071614  $$EMED  071620  $$EPMM  100430
                        $$ERRB  067336  $$ERSZ  046462  $$ESID  071612  $$EXTO
064020  $$EXTP  064012  $$FIS   062250
                        $$FPPE  031604  $$FPPS  031404  $$FR00  045462  $$FR20
064022  $$FR25  064024  $$GUMR  077024
                        $$HZDV  073672  $$JOBM  045242  $$LDAY  066420  $$LIBE
032166  $$LIBS  031604  $$LOWC  001426
                        $$LOWE  000060  $$LOWS  000040  $$LRGP  064006  $$MBFE
030116  $$MBFS  005000  $$MEDE  030152
                        $$MEDS  030116  $$MEML  001040  $$MEMT  001140  $$MOVB
075752  $$MOVW  076020  $$MTLB  067314
                        $$M22W  067304  $$NDAY  066426  $$NULW  001774  $$ODTB
062672  $$ODTE  062210  $$ODTP  061652
                        $$ODT6  062202  $$OVRB  067334  $$OVRC  046474  $$PCSR
030152  $$PMSK  030254  $$PNEW  045576
                        $$PRNG  030214  $$PSCN  065554  $$PTBL  065556  $$PWRP
065346  $$PZER  045430  $$RFPP  067274
                        $$RTSP  073046  $$RUMR  077026  $$SFPP  067272  $$SL
067276  $$SREG  067302  $$SROM  056030
                        $$STAK  001736  $$SWMP  046304  $$SWPB  046202  $$SWPM
067266  $$SYSP  056332  $$SYSU  067264
                        $$TICK  066364  $$TIME  001002  $$TMUN  000010  $$UMRE
031404  $$UMRP  031176  $$UMRS  030770
                        $$UMRT  031200  $$UPEE  030770  $$UPES  030152  $$VSWR
065374  $$0301  057142  $$0303  057152
                        $$0305  057162  $$0307  057172  $$2780  000000  ..BQNT
061054  ..BWCB  102350  ..CAGE  116002
                        ..DFAV  101540  ..DIAB  067312  ..FCNT  067270  ..FQNT
067372  ..LPSP  104244  ..LP66  104326
                        ..MMGP  110040  ..MTDP  067316  ..PCSS  103146  ..PPN.
067716  ..PWRF  065270  ..SYDF  100616
 MERGE   117000 000004   (RW,I,GBL,REL,OVR)
 MERG0   117004 000006   (RW,I,GBL,REL,OVR)
 L3QTBL  117012 000076   (RW,I,GBL,REL,OVR)
 MERG1   117110 000006   (RW,I,GBL,REL,OVR)
 L3QPAR  117116 000076   (RW,I,GBL,REL,OVR)
 MERG2   117214 000006   (RW,I,GBL,REL,OVR)
 ERRTBL  117222 000044   (RW,I,GBL,REL,OVR)
 MERG3   117266 000006   (RW,I,GBL,REL,OVR)
 DSKDSP  117274 000002   (RW,I,GBL,REL,OVR)
 MERG4   117276 000006   (RW,I,GBL,REL,OVR)
 DCDINT  117304 000020   (RW,I,GBL,REL,OVR)
 MERG5   117324 000006   (RW,I,GBL,REL,OVR)
 DFDINT  117332 000020   (RW,I,GBL,REL,OVR)
 MERG6   117352 000006   (RW,I,GBL,REL,OVR)
 DSDINT  117360 000020   (RW,I,GBL,REL,OVR)
 MERG7   117400 000006   (RW,I,GBL,REL,OVR)
 DKDINT  117406 000020   (RW,I,GBL,REL,OVR)
 MERG8   117426 000006   (RW,I,GBL,REL,OVR)
 DLDINT  117434 000020   (RW,I,GBL,REL,OVR)
 MERG9   117454 000006   (RW,I,GBL,REL,OVR)
 DMDINT  117462 000020   (RW,I,GBL,REL,OVR)
 MERG10  117502 000006   (RW,I,GBL,REL,OVR)
 DPDINT  117510 000020   (RW,I,GBL,REL,OVR)
 MERG11  117530 000006   (RW,I,GBL,REL,OVR)
 DRDINT  117536 000020   (RW,I,GBL,REL,OVR)
 MERG12  117556 000006   (RW,I,GBL,REL,OVR)
 DBDINT  117564 000020   (RW,I,GBL,REL,OVR)
 MERG99  117604 000174   (RW,I,GBL,REL,OVR)
 DSKPAT  120000 000132   (RW,I,GBL,REL,OVR)
                        DSKPAT  120000
 ALLDSK  120132 000000   (RW,I,GBL,REL,OVR)
                        ALLDSK  120132
 DLSEEK  120132 000000   (RW,I,GBL,REL,OVR)
                        DLSEEK  120132
 DLDSK   120132 001336   (RW,I,GBL,REL,OVR)
                        DLDSK   120132  INT$DL  120440  QDS$DL  120202  TMO$DL
120730  UMR$DL  120264
 DRSEEK  121470 000000   (RW,I,GBL,REL,OVR)
                        DRSEEK  121470
 DRDSK   121470 001530   (RW,I,GBL,REL,OVR)
                        DRDSK   121470  INT$DR  122164  QDS$DR  121536  TMO$DR
122420  UMR$DR  121742
 DBSEEK  123220 000000   (RW,I,GBL,REL,OVR)
                        DBSEEK  123220
 DBDSK   123220 001530   (RW,I,GBL,REL,OVR)
                        DBDSK   123220  INT$DB  123714  QDS$DB  123266  TMO$DB
124150  UMR$DB  123472
 TIM     124750 000450   (RW,I,GBL,REL,OVR)
                        TIM     124750
 CMNDSK  125420 000270   (RW,I,GBL,REL,OVR)
                        CMNDSK  125420  DFINT1  125660  DFINT3  125670  DFINT9
125640
 UNIDSK  125710 000104   (RW,I,GBL,REL,OVR)
                        DSKSRU  125752  DSKUMR  125710  UNIDSK  125710
 RHDDSK  126014 000136   (RW,I,GBL,REL,OVR)
                        DFINT4  126014  RHDADR  126112  RHDDSK  126014  RHDSEL
126046  RHDSRT  126136
 OPTDSK  126152 000132   (RW,I,GBL,REL,OVR)
                        OPTDSK  126152
 ECCDSK  126304 000306   (RW,I,GBL,REL,OVR)
                        ECCDSK  126304  ECOFTB  126601  ECOFTE  126610
 ERLDSK  126612 000166   (RW,I,GBL,REL,OVR)
                        ERLDSK  126612

TRANSFER ADDRESS = 000001, HIGH LIMIT = 127000 = 22272. WORDS
  RT-11 LINK  V06.00      LOAD MAP        SAT 18-OCT-86 01:52:42
EMT   .SAV      TITLE:  EMT     IDENT:  07.007  /B:117000

SECTION  ADDR   SIZE    GLOBAL  VALUE   GLOBAL  VALUE   GLOBAL  VALUE   GLOBAL
VALUE   GLOBAL  VALUE   GLOBAL  VALUE

 . ABS.  000000 117000   (RW,I,GBL,ABS,OVR)
                        ABORT   000014  ADDMEM  074430  ASN$DX  112304  ASN$LP
104412  ASN$MM  106514  ASN$NL  102770
                        ASN$PP  103664  ASN$PR  103250  BADCLU  000027  BADCNT
000037  BADDIR  000001  BADERR  000171
                        BADFUO  000022  BADNAM  000002  BADPAK  000032  BADRTS
074472  BADSWT  000103  BAELST  067310
                        BAKLRG  045476  BAKSML  045474  BDNERR  000064  BFBASE
067342  BFE.KB  000006  BFI.KB  000006
                        BFQ.KB  000012  BFQ.LP  000024  BFQ.PP  000012  BFQ.PR
000012  BGBUFR  032166  BITBYT  072150
                        BITWRD  072104  BLKMOV  075534  BOOT    054566  BSERR
000056  BUF     115110  BUFCTL  045460
                        BUFFER  064366  BUFPOL  002400  BUF.DX  001000  BUF.KB
000200  BUF.LP  000200  BUF.MM  001000
                        BUF.NL  000002  BUF.PK  000200  BUF.PP  000200  BUF.PR
000200  BUF.SY  001000  BYERTS  074704
                        B.PRTY  000046  B.STAK  000044  B.SWAP  000045  B.10
000042  B.250   000043  B.4     000041
                        CALLBB  067632  CALLM   067542  CALLMI  067532  CALLMR
067614  CALLMX  067564  CCLCHK  074316
                        CCLLST  045526  CHECHK  067772  CHECKX  115416  CHECTL
046364  CHEEXT  067100  CHEMON  067070
                        CHESEC  046370  CHESML  067060  CHETIC  046366  CHEUUO
070270  CHEZAP  070260  CHKEXT  067262
                        CHKMON  067260  CHKSTK  073012  CHKXRB  072626  CLOKGO
066230  CLOK.L  066266  CLOK.P  066222
                        CLRBUF  076476  CLRCPE  071616  CLRRSQ  075312  CLRTER
060464  CLRTIN  060466  CLS$DX  112546
                        CLS$LP  105252  CLS$MM  177775  CLS$NL  102772  CLS$PP
103572  CLS$PR  103224  CLS$SY  000001
                        CLUCVT  072150  CLUFAC  034321  CMNDVR  076640  CNT.DB
000010  CNT.DL  000004  CNT.DR  000010
                        CNT.DX  000010  CNT.KB  000104  CNT.LP  000001  CNT.MM
000002  CNT.PK  000004  CNT.PP  000001
                        CNT.PR  000001  CNVDCN  074360  CNVDC3  074364  COMDSK
067726  CONNEC  073674  CONNEX  073702
                        CON$DX  112734  CON$MM  107426  COSERR  000113  CPNSDF
000133  CPUFNX  000135  CPUPDF  000136
                        CPUPED  000137  CPUPFR  000134  CREJOB  060470  CRSDMP
056064  CSRTBL  056470  CSR.DB  056474
                        CSR.DL  056470  CSR.DR  056472  CSR.DX  056732  CSR.KB
056476  CSR.LP  056720  CSR.MM  056726
                        CSR.PP  056724  CSR.PR  056722  CTRLCE  000034  CTRLEV
045366  DATCNV  067324  DATERR  000015
                        DBDCTL  045230  DBDINT  060614  DBDPT1  045232  DBDPT2
045234  DCDSK   000000  DDO.XX  177130
                        DDS.DX  000034  DDS.KB  000066  DDS.LP  000040  DDS.MM
000046  DDS.NL  000010  DDS.PK  000014
                        DDS.PP  000020  DDS.PR  000020  DEA$DX  112304  DEA$LP
104362  DEA$MM  106544  DEA$NL  102772
                        DEA$PP  103664  DEA$PR  103250  DETKEY  000033  DEVCLU
034320  DEVCNT  056262  DEVEND  032602
                        DEVNAM  056206  DEVNFS  000036  DEVNKB  056230  DEVOKB
000022  DEVOSN  000054  DEVPTR  056334
                        DEVSYN  056250  DEVTBE  032536  DEVTBL  032326  DEV.DX
032562  DEV.KB  032326  DEV.LP  032550
                        DEV.MM  032556  DEV.NL  032536  DEV.PK  032540  DEV.PP
032554  DEV.PR  032552  DFDSK   000000
                        DIABOX  067312  DIMED2  000151  DIMERR  000174  DISERR
000172  DISK    067726  DISKER  072546
                        DISKNE  072540  DISPLY  067300  DIVBY0  000075  DJKBN
061636  DJKINT  061576  DKDSK   000000
                        DLDCTL  045204  DLDINT  060554  DLDPOS  045212  DLDPT1
045206  DLDPT2  045210  DMDSK   000000
                        DMPJOB  063164  DNE$MM  107436  DOMED   030116  DOPOST
060476  DPDSK   000000  DQE$DB  034200
                        DQE$DL  034140  DQE$DR  034160  DQS$DB  034160  DQS$DL
034130  DQS$DR  034140  DQS$XX  034130
                        DRDCTL  045222  DRDINT  060574  DRDPT1  045224  DRDPT2
045226  DSDSK   000000  DSE$DB  033176
                        DSE$DL  033136  DSE$DR  033156  DSKAP5  067764  DSKCSR
056470  DSKMAP  056752  DSKPTR  056442
                        DSO$XX  176776  DSS$DB  033156  DSS$DL  033126  DSS$DR
033136  DSS$XX  033126  DSTAT   100140
                        DSTCTE  054566  DSTCTL  047064  DSTMUL  000740  DTOOOF
000021  DVRAP5  056420  DVRA5E  056442
                        DXDAP5  061746  DXDCTL  045340  DXDDDB  044644  DXDINT
061742  DXDVR   111732  EDARSV  000163
                        EDBMCE  000157  EDCONE  000162  EDEXON  000160  EKOCTW
000046  EKOPNT  000047  EMTAP5  063404
                        ENDKEY  060460  ENTODT  061652  EOF     000013  EOSERR
000154  ERBASE  067336  ERBASU  046464
                        ERL     070272  ERLAUX  046612  ERLCMN  076640  ERLCTB
046610  ERLCTL  046350  ERLDVR  077030
                        ERLMSD  071774  ERLRIB  001200  ERLTBL  046622  ERL$DX
112370  ERL$KB  061630  ERL$LP  000000
                        ERL$MM  106744  ERL$PP  104006  ERL$PR  103404  ERRERR
000102  ERROR   063070  ERSIZE  046462
                        EXITNR  000111  EXITTM  000110  EXPERR  000061  EXTPOF
064020  EXTPOL  064010  EXTSTL  045502
                        FARCNT  067270  FCBLST  034510  FETCH   076240  FIBENT
003762  FIBFBN  046576  FIBMAP  003760
                        FIBMOD  046603  FIBUF   003000  FIBUNT  046602  FIELDE
000077  FIEXST  000020  FIJBDA  001306
                        FIJBD2  001310  FIJOB   001302  FILGO   061222  FILIX
060642  FILSET  060776  FIPAP5  067430
                        FIPAR   046522  FIPCLU  046514  FIPCTL  046462  FIPERR
060504  FIPERX  046562  FIPFUN  046506
                        FIPGEN  046605  FIPGO   060502  FIPMUC  046516  FIPRIV
001303  FIPR6   046512  FIPSP   046510
                        FIPSYS  067346  FIPUNT  046604  FIPU0C  046520  FIPVBN
046574  FIQUE   001300  FISTAK  002400
                        FIUSER  001304  FIXERR  000063  FLDNE   060634  FLG.DX
100422  FLG.KB  074402  FLG.LP  035406
                        FLG.MM  000016  FLG.NL  100426  FLG.PK  070420  FLG.PP
021412  FLG.PR  022410  FLG.SY  100000
                        FLTERR  000060  FMTERR  000062  FNDJOB  075006  FNDRSQ
075302  FNDRTS  075452  FPDNE   067330
                        FPP     061774  FPPCTL  031404  FPPFEC  045514  FPPRES
031514  FPPSAV  031404  FREBUF  072244
                        FREES   045460  FREE20  064022  FREE25  064024  FTLSCN
065642  FTLVEC  045360  FTLXX0  062072
                        FTLXX1  062076  FTLXX2  062102  FTLXX3  062106  FTLXX4
062112  FTLXX5  062116  FTLXX6  062122
                        FTLXX7  062126  FTL000  062066  FUCORE  000147  FUNERR
000130  GETBIG  063676  GETDEV  074100
                        GETIRB  076440  GETIRX  116574  GETUMR  077024  GODISK
060474  GUNSUB  073756  HALT    000054
                        HGHAD   045372  HNGDEV  000016  HNGTTY  000017  IDATE
000044  IDX.DX  000020  IDX.KB  000002
                        IDX.LP  000010  IDX.MM  000016  IDX.NL  000004  IDX.PK
000006  IDX.PP  000014  IDX.PR  000012
                        IDX.SY  000000  IE      000100  INTLCK  000023  INTPAK
000031  INTSAV  066462  INTSVX  066450
                        INT$DX  112306  INT$LP  106232  INT$MM  106642  INT$NL
102772  INT$PP  103704  INT$PR  103252
                        INUSE   000003  IOBUFR  003000  IOEXIT  063122  IOFINC
073234  IOFINI  073266  IOFIN4  073272
                        IOLERR  000074  IOREDO  063136  IRB     116376  ITIME
000046  J       046564  JBSTAT  032666
                        JBWAIT  032750  JOBCLK  033044  JOBCNT  045240  JOBMAX
000030  JOBMX2  000060  JOBQNT  045534
                        JOBTBL  032602  JQSTAT  077134  JSALL   064076  JSBTBL
056376  JSTATK  047054  JSTCTL  046676
                        JS.DX   000001  JS.KB   000002  JS.LP   000010  JS.MM
000001  JS.NL   000001  JS.PK   000004
                        JS.PP   000040  JS.PR   000020  JS.SY   000001  JUNK
045536  K       046565  KBDAP5  061542
                        KBDCTL  045240  KBDDDB  035210  KBDVR   061774  KBEDDB
045260  KBEREG  045270  KBESCN  045276
                        KBESC4  045300  KBETBL  045250  KBETMP  045314  KBEUNT
045310  KBFDDB  061642  KLKINT  061536
                        LIBADR  031716  LIBCTL  031604  LIBLST  033034  LIBSUB
031616  LINERR  000057  LMTCNT  045244
                        LOGEND  034126  LOGERR  000065  LOGNAM  033452  LOGSYS
033762  LOG$DX  104056  LOG$KB  104044
                        LOG$LP  104046  LOG$MM  104054  LOG$PP  104052  LOG$PR
104050  LOOPCK  072346  LOWAD   045370
                        LOWCOR  000000  LPDAP5  061702  LPDDDB  044430  LPDINT
061676  LPDVR   104024  LPDVRX  104024
                        LRGFIL  000001  LRGPOL  064004  L3QSET  073116  L3QSE0
073112  L3QUE   045454  L3QUE2  045456
                        MAGDEN  067316  MAGLBL  067314  MAGRLE  000050  MAGSEL
000047  MAPBUF  076120  MAXCNT  045242
                        MAXHGH  045522  MAXJOB  045241  MAXLOW  045520  MAXUNT
000023  MAXUN2  000046  MED     061774
                        MEDCTL  030116  MEMADR  046200  MEMERR  045374  MEMLST
001040  MEMSIZ  001150  MID$DB  057052
                        MID$DL  057022  MID$DR  057032  MID$XX  057022  MINUS1
072162  MINVER  000070  MMDAP5  061732
                        MMDCTL  045324  MMDDDB  044530  MMDINT  061726  MMDVR
106514  MMU22W  067304  MODCLK  000052
                        MODERR  000125  MONPOL  064014  MONSTL  045500  MORBUF
005000  MOVBYT  075752  MOVWRD  076020
                        NEDERR  000073  NLDDDB  044340  NLDVR   102766  NOBUFS
000040  NODELS  046606  NODEVC  000006
                        NOGOTO  000153  NOMATH  000175  NONOIM  000167  NORACS
000100  NOROOM  000004  NORTS   000076
                        NOSUCH  000005  NOTAVL  000010  NOTCLS  000007  NOTMNT
000025  NOTMTA  000101  NOTOPN  000011
                        NRNERR  000161  NRRTS   000051  NSPCHK  061764  NSPTMO
061770  NULJOB  061752  NULRTS  001240
                        ODD     000071  ONBAD   000072  OPNCLS  067472  OPN$DX
112446  OPN$LP  104226  OPN$MM  177775
                        OPN$NL  102772  OPN$PP  103624  OPN$PR  103202  OPN$SY
000001  OPO$XX  000050  OPT$DB  034230
                        OPT$DL  034200  OPT$DR  034210  OPT$XX  034200  OUTOAS
000127  OVBASE  067334  OVBASU  046476
                        OVRBUF  060506  PAKLCK  000026  PARSCN  065554  PARZER
045430  PATCH   055430  PATCHS  057142
                        PEEKER  067026  PKDCTL  045316  PKDDDB  044350  PKDINT
061676  PKDVR   061774  PKINWT  000013
                        PKMODE  000012  PPDAP5  061722  PPDDDB  044510  PPDINT
061716  PPDVR   103422  PPNTBL  067716
                        PRDAP5  061712  PRDDDB  044470  PRDINT  061706  PRDVR
103020  PRERRS  000164  PRIVAT  000030
                        PRNER1  000166  PRNER2  000170  PRVIOL  000012  PTABLE
061654  PWFSAV  001312  P$NEW   045576
                        QDXCON  100010  QMMCON  100002  QMMDNE  100004  QSTCTL
054566  QUANT   045532  QUEL3Q  072570
                        QUEUER  072504  QUEUE0  072534  RAWMEM  032326  REGRES
072426  REGSAV  072406  REGSCR  072444
                        RELOAD  056030  RELUMR  077026  REMJOB  074724  REMRTS
074670  RES     067264  RESCHK  075220
                        RESCTL  045514  RESENT  075262  RESERR  000150  RESFPP
067274  RESJOB  075336  RESLST  045524
                        RESRT4  066534  RESTRX  045510  RETBIG  063616  RETCHN
067440  RETDEV  074144  RETEXT  060500
                        RETIRB  116376  RETMON  065060  RETUSR  063430  RETUSX
063434  RETWDB  032020  RHMADR  076742
                        RJETMO  061772  RSXAGN  060512  RSXAP5  063610  RSXEMT
063224  RSXENT  060514  RSXTRP  060510
                        RTI     061774  RTICTL  045360  RTI3    066544  RTI47
066632  RTSLST  033032  RTSPC   073046
                        RTSSUB  031604  SAFNOS  000143  SASNOI  000144  SASYNE
000142  SATBUF  004000  SATCTL  035070
                        SATCTM  035140  SATEND  034700  SATFBN  046566  SATMOD
046573  SATPTR  034630  SATSTL  034750
                        SATSTM  035020  SATTBD  000035  SATUNT  046572  SAVFPP
067272  SAVJNL  073524  SAVJOB  073410
                        SAVJQX  073374  SAVTIM  073604  SCAERR  000177  SCHTBL
045600  SCRUMP  073162  SCRUMX  073156
                        SERSPC  067656  SER$DX  112552  SER$LP  104432  SER$MM
107306  SER$NL  102774  SER$PP  103422
                        SER$PR  103020  SER$SY  100430  SETDTR  060472  SETPRM
060462  SETRES  064650  SETUP   065434
                        SIGMEM  075316  SIZERR  000054  SIZ.DX  000107  SIZ.KB
000000  SIZ.LP  000000  SIZ.MM  000107
                        SIZ.NL  000107  SIZ.PK  000107  SIZ.PP  000107  SIZ.PR
000107  SIZ.SY  000107  SL.VAL  001000
                        SNDLST  033036  SPC$DX  111736  SPC$LP  104224  SPC$MM
107236  SPC$NL  102766  SPC$PP  104004
                        SPC$PR  103402  SPC$SY  102262  SPLLST  033042  SQRERR
000066  STKLMT  067276  STKOVF  073142
                        STMERR  000107  STOIRB  116424  STORE   076146  STPERR
000173  STSTBL  060450  STS.DX  000000
                        STS.KB  000000  STS.LP  000002  STS.MM  000000  STS.NL
000000  STS.PK  000000  STS.PP  000002
                        STS.PR  000004  ST2741  000000  SUB     072104  SUBERR
000067  SWBASE  046202  SWDNE   067320
                        SWDONQ  046242  SWITCH  067302  SWOCNT  045530  SWPDSQ
046244  SWPMAP  046304  SWPMAX  067266
                        SWPMPE  046344  SWPUSE  046344  SWRTS   074614  SWRTSL
074620  SWTBKE  045576  SWTBLK  045540
                        SYDAP5  060640  SYDCTL  045236  SYDINT  060634  SYDLRG
101726  SYDVR   100430  SYSLRG  000001  
                        SYSTAK  001770  SYSUNT  067264  SYSUN2  067265  SYTTMO
066316  TABSET  072164  TBL     056030
                        TIMCNV  067326  TIMEND  033452  TIMTBL  033126  TIM.DX
033432  TIM.KB  033176  TIM.LP  033420
                        TIM.MM  033426  TIM.NL  033406  TIM.PK  033410  TIM.PP
033424  TIM.PR  033422  TLCNTD  000155
                        TLCONI  000120  TLIDIM  000152  TLIFFE  000117  TLINCD
000132  TLJNKY  000140  TLMFND  000123
                        TLNOFN  000141  TLNOIT  000116  TLNOTF  000121  TLNZSP
000115  TLOPNV  000114  TLPRNM  000156
                        TLQDUM  000122  TLRNNM  000124  TLTMAF  000131  TLURTP
000145  TLXDIM  000146  TMO$DX  112310
                        TMO$LP  105152  TMO$MM  106552  TMO$NL  102772  TMO$PP
104000  TMO$PR  103354  TRYEXT  064762
                        TRYMON  064706  TTDC11  000002  TTDE11  000006  TTDH11
000014  TTDJ11  000012  TTDL11  000004
                        TTDMBB  000000  TTDZ11  000016  TTFCNT  000063  TTINEC
000040  TTKL11  000000  TTMSCN  000064
                        TTPARM  000050  TTPK11  000010  TTRING  000054  TTYHCT
045246  UDMERR  000165  UMRCTL  030770
                        UMREND  056470  UMR$DX  112260  UMR$MM  107416  UNDFNI
000112  UNISCN  030316  UNLOCK  075426
                        UNLOC0  075422  UNQCHK  074322  UNTCLU  034370  UNTCNE
034320  UNTCNT  034250  UNTERR  034371
                        UNTLIB  034440  UNTOPT  034561  UNTOWN  034560  UNTSIZ
057072  UPDATE  116376  UPDCHK  101726
                        UPDLRG  116376  UPDUNL  102262  UPE     061774  UPECTL
030152  UPELGE  045424  UPELOG  045376
                        UPELSZ  045424  UPOKER  067040  VCAERR  000053  VCOERR
000055  VCSERR  000052  VOLSW1  056126
                        VOLSW2  056152  WAIT2T  045452  WINSUB  031656  WRGPAK
000024  XCDCOR  000176  XOFFCH  061674
                        ZERO    072160  $ASNTB  057666  $BUFTB  060042  $CLSTB
057622  $DBDIN  060614  $DCDIN  000000
                        $DEATB  057710  $DFDIN  000000  $DKDIN  000000  $DLDIN
060554  $DMDIN  000000  $DPDIN  000000
                        $DRDIN  060574  $DSDIN  000000  $DSKDS  060474  $DTADS
060536  $EMTDS  060476  $EMTTB  057202
                        $ERRTB  057476  $FIPDS  060502  $FIPTB  060124  $FLGTB
057776  $KBDIN  061536  $L3QPA  057400
                        $L3QTB  057302  $MSKTB  060064  $MTADS  060526  $OPNTB
057600  $RSXDS  060510  $SERTB  057556
                        $SIZTB  060020  $SLPTB  057754  $SPCTB  057644  $TERDS
060460  $TMOTB  057732  $UUOSN  060360
                        $UUOTB  060200  $$BAEL  067310  $$BOOT  054566  $$BUFB
067342  $$BUFE  003000  $$BUFS  002400
                        $$CACH  046376  $$CCNT  066310  $$CCSR  066216  $$CCTL
045366  $$CHEN  046364  $$CHSZ  000014
                        $$CNOP  066620  $$CNVF  067324  $$CPRM  066220  $$CQNT
066274  $$CRSZ  060554  $$CSDB  056474
                        $$CSDL  056470  $$CSDR  056472  $$CSDX  056732  $$CSKB
056476  $$CSLP  056720  $$CSMM  056726
                        $$CSPP  056724  $$CSPR  056722  $$CSRT  066262  $$DATE
001000  $$DDCS  034320  $$DMID  057022
                        $$DREG  067300  $$DRTS  001100  $$DSIZ  057072  $$ECPU
071614  $$EMED  071620  $$EPMM  100430
                        $$ERRB  067336  $$ERSZ  046462  $$ESID  071612  $$EXTO
064020  $$EXTP  064012  $$FIS   062250
                        $$FPPE  031604  $$FPPS  031404  $$FR00  045462  $$FR20
064022  $$FR25  064024  $$GUMR  077024
                        $$HZDV  073672  $$JOBM  045242  $$LDAY  066420  $$LIBE
032166  $$LIBS  031604  $$LOWC  001426
                        $$LOWE  000060  $$LOWS  000040  $$LRGP  064006  $$MBFE
030116  $$MBFS  005000  $$MEDE  030152
                        $$MEDS  030116  $$MEML  001040  $$MEMT  001140  $$MOVB
075752  $$MOVW  076020  $$MTLB  067314
                        $$M22W  067304  $$NDAY  066426  $$NULW  001774  $$ODTB
062672  $$ODTE  062210  $$ODTP  061652
                        $$ODT6  062202  $$OVRB  067334  $$OVRC  046474  $$PCSR
030152  $$PMSK  030254  $$PNEW  045576
                        $$PRNG  030214  $$PSCN  065554  $$PTBL  065556  $$PWRP
065346  $$PZER  045430  $$RFPP  067274
                        $$RTSP  073046  $$RUMR  077026  $$SFPP  067272  $$SL
067276  $$SREG  067302  $$SROM  056030
                        $$STAK  001736  $$SWMP  046304  $$SWPB  046202  $$SWPM
067266  $$SYSP  056332  $$SYSU  067264
                        $$TICK  066364  $$TIME  001002  $$TMUN  000010  $$UMRE
031404  $$UMRP  031176  $$UMRS  030770
                        $$UMRT  031200  $$UPEE  030770  $$UPES  030152  $$VSWR
065374  $$0301  057142  $$0303  057152
                        $$0305  057162  $$0307  057172  $$2780  000000  ..BQNT
061054  ..BWCB  102350  ..CAGE  116002
                        ..DFAV  101540  ..DIAB  067312  ..FCNT  067270  ..FQNT
067372  ..LPSP  104244  ..LP66  104326
                        ..MMGP  110040  ..MTDP  067316  ..PCSS  103146  ..PPN.
067716  ..PWRF  065270  ..SYDF  100616
 MERGE   117000 000004   (RW,I,GBL,REL,OVR)
 MERGE0  117004 000006   (RW,I,GBL,REL,OVR)
 EMTTBL  117012 000100   (RW,I,GBL,REL,OVR)
 MERGE1  117112 000006   (RW,I,GBL,REL,OVR)
 L3QTBL  117120 000076   (RW,I,GBL,REL,OVR)
 MERGE2  117216 000006   (RW,I,GBL,REL,OVR)
 L3QPAR  117224 000076   (RW,I,GBL,REL,OVR)
 MERGE3  117322 000006   (RW,I,GBL,REL,OVR)
 EMTDSP  117330 000004   (RW,I,GBL,REL,OVR)
 MERGE9  117334 000444   (RW,I,GBL,REL,OVR)
 EMTPAT  120000 000410   (RW,I,GBL,REL,OVR)
                        EMTPAT  120000
 CAL     120410 003542   (RW,I,GBL,REL,OVR)
                        CAL     120410  DOMSIZ  121454  GETFLG  122272  GETLOG
122334  MOVXRB  122514  USRSET  122002
 LIBMAP  124152 000034   (RW,I,GBL,REL,OVR)
                        LIBMAP  124152
 FSS     124206 005204   (RW,I,GBL,REL,OVR)
                        FSS     124206
 FSSTBL  131412 000040   (RW,I,GBL,REL,OVR)
                        FSSTBL  131412
 FSSDSP  131452 000050   (RW,I,GBL,REL,OVR)
                        FSSDSP  131452
 SCH     131522 001464   (RW,I,GBL,REL,OVR)
                        SCH     131522
 DIAMON  133206 000006   (RW,I,GBL,REL,OVR)
 SWM     133214 001314   (RW,I,GBL,REL,OVR)
                        CHKSWP  133220  DOSWAP  133726  SWM     133214  ..SWHP
133760
 MEM     134530 001424   (RW,I,GBL,REL,OVR)
                        MEM     134530  ZERMEM  136056  ..FFIT  135416  ..QADD
135206  ..QMUL  135202
 LIB     136154 001624   (RW,I,GBL,REL,OVR)
                        LIB     136154

TRANSFER ADDRESS = 000001, HIGH LIMIT = 140000 = 24576. WORDS
  RT-11 LINK  V06.00      LOAD MAP        SAT 18-OCT-86 01:52:43
FIP   .SAV      TITLE:  FIP     IDENT:  07.007  /B:117000

SECTION  ADDR   SIZE    GLOBAL  VALUE   GLOBAL  VALUE   GLOBAL  VALUE   GLOBAL
VALUE   GLOBAL  VALUE   GLOBAL  VALUE

 . ABS.  000000 117000   (RW,I,GBL,ABS,OVR)
                        ABORT   000014  ADDMEM  074430  ASN$DX  112304  ASN$LP
104412  ASN$MM  106514  ASN$NL  102770
                        ASN$PP  103664  ASN$PR  103250  BADCLU  000027  BADCNT
000037  BADDIR  000001  BADERR  000171
                        BADFUO  000022  BADNAM  000002  BADPAK  000032  BADRTS
074472  BADSWT  000103  BAELST  067310
                        BAKLRG  045476  BAKSML  045474  BDNERR  000064  BFBASE
067342  BFE.KB  000006  BFI.KB  000006
                        BFQ.KB  000012  BFQ.LP  000024  BFQ.PP  000012  BFQ.PR
000012  BGBUFR  032166  BITBYT  072150
                        BITWRD  072104  BLKMOV  075534  BOOT    054566  BSERR
000056  BUF     115110  BUFCTL  045460
                        BUFFER  064366  BUFPOL  002400  BUF.DX  001000  BUF.KB
000200  BUF.LP  000200  BUF.MM  001000
                        BUF.NL  000002  BUF.PK  000200  BUF.PP  000200  BUF.PR
000200  BUF.SY  001000  BYERTS  074704
                        B.PRTY  000046  B.STAK  000044  B.SWAP  000045  B.10
000042  B.250   000043  B.4     000041
                        CALLBB  067632  CALLM   067542  CALLMI  067532  CALLMR
067614  CALLMX  067564  CCLCHK  074316
                        CCLLST  045526  CHECHK  067772  CHECKX  115416  CHECTL
046364  CHEEXT  067100  CHEMON  067070
                        CHESEC  046370  CHESML  067060  CHETIC  046366  CHEUUO
070270  CHEZAP  070260  CHKEXT  067262
                        CHKMON  067260  CHKSTK  073012  CHKXRB  072626  CLOKGO
066230  CLOK.L  066266  CLOK.P  066222
                        CLRBUF  076476  CLRCPE  071616  CLRRSQ  075312  CLRTER
060464  CLRTIN  060466  CLS$DX  112546
                        CLS$LP  105252  CLS$MM  177775  CLS$NL  102772  CLS$PP
103572  CLS$PR  103224  CLS$SY  000001
                        CLUCVT  072150  CLUFAC  034321  CMNDVR  076640  CNT.DB
000010  CNT.DL  000004  CNT.DR  000010
                        CNT.DX  000010  CNT.KB  000104  CNT.LP  000001  CNT.MM
000002  CNT.PK  000004  CNT.PP  000001
                        CNT.PR  000001  CNVDCN  074360  CNVDC3  074364  COMDSK
067726  CONNEC  073674  CONNEX  073702
                        CON$DX  112734  CON$MM  107426  COSERR  000113  CPNSDF
000133  CPUFNX  000135  CPUPDF  000136
                        CPUPED  000137  CPUPFR  000134  CREJOB  060470  CRSDMP
056064  CSRTBL  056470  CSR.DB  056474
                        CSR.DL  056470  CSR.DR  056472  CSR.DX  056732  CSR.KB
056476  CSR.LP  056720  CSR.MM  056726
                        CSR.PP  056724  CSR.PR  056722  CTRLCE  000034  CTRLEV
045366  DATCNV  067324  DATERR  000015
                        DBDCTL  045230  DBDINT  060614  DBDPT1  045232  DBDPT2
045234  DCDSK   000000  DDO.XX  177130
                        DDS.DX  000034  DDS.KB  000066  DDS.LP  000040  DDS.MM
000046  DDS.NL  000010  DDS.PK  000014
                        DDS.PP  000020  DDS.PR  000020  DEA$DX  112304  DEA$LP
104362  DEA$MM  106544  DEA$NL  102772
                        DEA$PP  103664  DEA$PR  103250  DETKEY  000033  DEVCLU
034320  DEVCNT  056262  DEVEND  032602
                        DEVNAM  056206  DEVNFS  000036  DEVNKB  056230  DEVOKB
000022  DEVOSN  000054  DEVPTR  056334
                        DEVSYN  056250  DEVTBE  032536  DEVTBL  032326  DEV.DX
032562  DEV.KB  032326  DEV.LP  032550
                        DEV.MM  032556  DEV.NL  032536  DEV.PK  032540  DEV.PP
032554  DEV.PR  032552  DFDSK   000000
                        DIABOX  067312  DIMED2  000151  DIMERR  000174  DISERR
000172  DISK    067726  DISKER  072546
                        DISKNE  072540  DISPLY  067300  DIVBY0  000075  DJKBN
061636  DJKINT  061576  DKDSK   000000
                        DLDCTL  045204  DLDINT  060554  DLDPOS  045212  DLDPT1
045206  DLDPT2  045210  DLN0SZ  001000
                        DMDSK   000000  DMPJOB  063164  DNE$MM  107436  DOMED
030116  DOPOST  060476  DPDSK   000000
                        DQE$DB  034200  DQE$DL  034140  DQE$DR  034160  DQS$DB
034160  DQS$DL  034130  DQS$DR  034140
                        DQS$XX  034130  DRDCTL  045222  DRDINT  060574  DRDPT1
045224  DRDPT2  045226  DSDSK   000000
                        DSE$DB  033176  DSE$DL  033136  DSE$DR  033156  DSKAP5
067764  DSKCSR  056470  DSKMAP  056752
                        DSKPTR  056442  DSO$XX  176776  DSS$DB  033156  DSS$DL
033126  DSS$DR  033136  DSS$XX  033126
                        DSTAT   100140  DSTCTE  054566  DSTCTL  047064  DSTMUL
000740  DTOOOF  000021  DVRAP5  056420
                        DVRA5E  056442  DXDAP5  061746  DXDCTL  045340  DXDDDB
044644  DXDINT  061742  DXDVR   111732
                        EDARSV  000163  EDBMCE  000157  EDCONE  000162  EDEXON
000160  EKOCTW  000046  EKOPNT  000047
                        EMTAP5  063404  ENDKEY  060460  ENTODT  061652  EOF
000013  EOSERR  000154  ERBASE  067336
                        ERBASU  046464  ERL     070272  ERLAUX  046612  ERLCMN
076640  ERLCTB  046610  ERLCTL  046350
                        ERLDVR  077030  ERLMSD  071774  ERLRIB  001200  ERLTBL
046622  ERL$DX  112370  ERL$KB  061630
                        ERL$LP  000000  ERL$MM  106744  ERL$PP  104006  ERL$PR
103404  ERRERR  000102  ERROR   063070
                        ERSIZE  046462  EXITNR  000111  EXITTM  000110  EXL0SZ
000764  EXPERR  000061  EXTPOF  064020
                        EXTPOL  064010  EXTSTL  045502  FARCNT  067270  FCBLST
034510  FETCH   076240  FIBENT  003762
                        FIBFBN  046576  FIBMAP  003760  FIBMOD  046603  FIBUF
003000  FIBUNT  046602  FIELDE  000077
                        FIEXST  000020  FIJBDA  001306  FIJBD2  001310  FIJOB
001302  FILGO   061222  FILIX   060642
                        FILSET  060776  FIPAP5  067430  FIPAR   046522  FIPCLU
046514  FIPCTL  046462  FIPERR  060504
                        FIPERX  046562  FIPFUN  046506  FIPGEN  046605  FIPGO
060502  FIPMUC  046516  FIPRIV  001303
                        FIPR6   046512  FIPSP   046510  FIPSYS  067346  FIPUNT
046604  FIPU0C  046520  FIPVBN  046574
                        FIQUE   001300  FISTAK  002400  FIUSER  001304  FIXERR
000063  FLDNE   060634  FLG.DX  100422
                        FLG.KB  074402  FLG.LP  035406  FLG.MM  000016  FLG.NL
100426  FLG.PK  070420  FLG.PP  021412
                        FLG.PR  022410  FLG.SY  100000  FLTERR  000060  FMTERR
000062  FNDJOB  075006  FNDRSQ  075302
                        FNDRTS  075452  FPDNE   067330  FPP     061774  FPPCTL
031404  FPPFEC  045514  FPPRES  031514
                        FPPSAV  031404  FREBUF  072244  FREES   045460  FREE20
064022  FREE25  064024  FTLSCN  065642
                        FTLVEC  045360  FTLXX0  062072  FTLXX1  062076  FTLXX2
062102  FTLXX3  062106  FTLXX4  062112
                        FTLXX5  062116  FTLXX6  062122  FTLXX7  062126  FTL000
062066  FUCORE  000147  FUNERR  000130
                        GETBIG  063676  GETDEV  074100  GETIRB  076440  GETIRX
116574  GETUMR  077024  GODISK  060474
                        GUNSUB  073756  HALT    000054  HGHAD   045372  HNGDEV
000016  HNGTTY  000017  IDATE   000044
                        IDX.DX  000020  IDX.KB  000002  IDX.LP  000010  IDX.MM
000016  IDX.NL  000004  IDX.PK  000006
                        IDX.PP  000014  IDX.PR  000012  IDX.SY  000000  IE
000100  INTLCK  000023  INTPAK  000031
                        INTSAV  066462  INTSVX  066450  INT$DX  112306  INT$LP
106232  INT$MM  106642  INT$NL  102772
                        INT$PP  103704  INT$PR  103252  INUSE   000003  IOBUFR
003000  IOEXIT  063122  IOFINC  073234
                        IOFINI  073266  IOFIN4  073272  IOLERR  000074  IOREDO
063136  IRB     116376  ITIME   000046
                        J       046564  JBSTAT  032666  JBWAIT  032750  JOBCLK
033044  JOBCNT  045240  JOBMAX  000030
                        JOBMX2  000060  JOBQNT  045534  JOBTBL  032602  JQSTAT
077134  JSALL   064076  JSBTBL  056376
                        JSTATK  047054  JSTCTL  046676  JS.DX   000001  JS.KB
000002  JS.LP   000010  JS.MM   000001
                        JS.NL   000001  JS.PK   000004  JS.PP   000040  JS.PR
000020  JS.SY   000001  JUNK    045536
                        K       046565  KBDAP5  061542  KBDCTL  045240  KBDDDB
035210  KBDVR   061774  KBEDDB  045260
                        KBEREG  045270  KBESCN  045276  KBESC4  045300  KBETBL
045250  KBETMP  045314  KBEUNT  045310
                        KBFDDB  061642  KLKINT  061536  LIBADR  031716  LIBCTL
031604  LIBLST  033034  LIBSUB  031616
                        LINERR  000057  LMTCNT  045244  LOGEND  034126  LOGERR
000065  LOGNAM  033452  LOGSYS  033762
                        LOG$DX  104056  LOG$KB  104044  LOG$LP  104046  LOG$MM
104054  LOG$PP  104052  LOG$PR  104050
                        LOOPCK  072346  LOWAD   045370  LOWCOR  000000  LPDAP5
061702  LPDDDB  044430  LPDINT  061676
                        LPDVR   104024  LPDVRX  104024  LRGFIL  000001  LRGPOL
064004  L3QSET  073116  L3QSE0  073112
                        L3QUE   045454  L3QUE2  045456  MAGDEN  067316  MAGLBL
067314  MAGRLE  000050  MAGSEL  000047
                        MAPBUF  076120  MAXCNT  045242  MAXHGH  045522  MAXJOB
045241  MAXLOW  045520  MAXUNT  000023
                        MAXUN2  000046  MED     061774  MEDCTL  030116  MEMADR
046200  MEMERR  045374  MEMLST  001040
                        MEMSIZ  001150  MID$DB  057052  MID$DL  057022  MID$DR
057032  MID$XX  057022  MINUS1  072162
                        MINVER  000070  MMDAP5  061732  MMDCTL  045324  MMDDDB
044530  MMDINT  061726  MMDVR   106514
                        MMU22W  067304  MODCLK  000052  MODERR  000125  MONPOL
064014  MONSTL  045500  MORBUF  005000
                        MOVBYT  075752  MOVWRD  076020  NEDERR  000073  NLDDDB
044340  NLDVR   102766  NOBUFS  000040
                        NODELS  046606  NODEVC  000006  NOGOTO  000153  NOMATH
000175  NONOIM  000167  NORACS  000100
                        NOROOM  000004  NORTS   000076  NOSUCH  000005  NOTAVL
000010  NOTCLS  000007  NOTMNT  000025
                        NOTMTA  000101  NOTOPN  000011  NRNERR  000161  NRRTS
000051  NSPCHK  061764  NSPTMO  061770
                        NULJOB  061752  NULRTS  001240  ODD     000071  ONBAD
000072  OPL0SZ  000776  OPL1SZ  000754
                        OPL2SZ  000510  OPL3SZ  000776  OPL4SZ  000776  OPL5SZ
001000  OPL6SZ  000700  OPL7SZ  000772
                        OPL8SZ  000232  OPNCLS  067472  OPN$DX  112446  OPN$LP
104226  OPN$MM  177775  OPN$NL  102772
                        OPN$PP  103624  OPN$PR  103202  OPN$SY  000001  OPO$XX
000050  OPT$DB  034230  OPT$DL  034200
                        OPT$DR  034210  OPT$XX  034200  OUTOAS  000127  OVBASE
067334  OVBASU  046476  OVRBUF  060506
                        PAKLCK  000026  PARSCN  065554  PARZER  045430  PATCH
055430  PATCHS  057142  PEEKER  067026
                        PKDCTL  045316  PKDDDB  044350  PKDINT  061676  PKDVR
061774  PKINWT  000013  PKMODE  000012
                        PPDAP5  061722  PPDDDB  044510  PPDINT  061716  PPDVR
103422  PPNTBL  067716  PRDAP5  061712
                        PRDDDB  044470  PRDINT  061706  PRDVR   103020  PRERRS
000164  PRIVAT  000030  PRNER1  000166
                        PRNER2  000170  PRVIOL  000012  PTABLE  061654  PWFSAV
001312  P$NEW   045576  QDXCON  100010
                        QMMCON  100002  QMMDNE  100004  QSTCTL  054566  QUANT
045532  QUEL3Q  072570  QUEUER  072504
                        QUEUE0  072534  RAWMEM  032326  REGRES  072426  REGSAV
072406  REGSCR  072444  RELOAD  056030
                        RELUMR  077026  REMJOB  074724  REMRTS  074670  RES
067264  RESCHK  075220  RESCTL  045514
                        RESENT  075262  RESERR  000150  RESFPP  067274  RESJOB
075336  RESLST  045524  RESRT4  066534
                        RESTRX  045510  RETBIG  063616  RETCHN  067440  RETDEV
074144  RETEXT  060500  RETIRB  116376
                        RETMON  065060  RETUSR  063430  RETUSX  063434  RETWDB
032020  RHMADR  076742  RJETMO  061772
                        RSXAGN  060512  RSXAP5  063610  RSXEMT  063224  RSXENT
060514  RSXTRP  060510  RTI     061774
                        RTICTL  045360  RTI3    066544  RTI47   066632  RTSLST
033032  RTSPC   073046  RTSSUB  031604
                        SAFNOS  000143  SASNOI  000144  SASYNE  000142  SATBUF
004000  SATCTL  035070  SATCTM  035140
                        SATEND  034700  SATFBN  046566  SATMOD  046573  SATPTR
034630  SATSTL  034750  SATSTM  035020
                        SATTBD  000035  SATUNT  046572  SAVFPP  067272  SAVJNL
073524  SAVJOB  073410  SAVJQX  073374
                        SAVTIM  073604  SCAERR  000177  SCHTBL  045600  SCRUMP
073162  SCRUMX  073156  SERSPC  067656
                        SER$DX  112552  SER$LP  104432  SER$MM  107306  SER$NL
102774  SER$PP  103422  SER$PR  103020
                        SER$SY  100430  SETDTR  060472  SETPRM  060462  SETRES
064650  SETUP   065434  SIGMEM  075316
                        SIZERR  000054  SIZ.DX  000107  SIZ.KB  000000  SIZ.LP
000000  SIZ.MM  000107  SIZ.NL  000107
                        SIZ.PK  000107  SIZ.PP  000107  SIZ.PR  000107  SIZ.SY
000107  SL.VAL  001000  SNDLST  033036
                        SPC$DX  111736  SPC$LP  104224  SPC$MM  107236  SPC$NL
102766  SPC$PP  104004  SPC$PR  103402
                        SPC$SY  102262  SPLLST  033042  SQRERR  000066  STKLMT
067276  STKOVF  073142  STMERR  000107
                        STOIRB  116424  STORE   076146  STPERR  000173  STSTBL
060450  STS.DX  000000  STS.KB  000000
                        STS.LP  000002  STS.MM  000000  STS.NL  000000  STS.PK
000000  STS.PP  000002  STS.PR  000004
                        ST2741  000000  SUB     072104  SUBERR  000067  SWBASE
046202  SWDNE   067320  SWDONQ  046242
                        SWITCH  067302  SWOCNT  045530  SWPDSQ  046244  SWPMAP
046304  SWPMAX  067266  SWPMPE  046344  
                        SWPUSE  046344  SWRTS   074614  SWRTSL  074620  SWTBKE
045576  SWTBLK  045540  SYDAP5  060640
                        SYDCTL  045236  SYDINT  060634  SYDLRG  101726  SYDVR
100430  SYSLRG  000001  SYSTAK  001770
                        SYSUNT  067264  SYSUN2  067265  SYTTMO  066316  TABSET
072164  TBL     056030  TIMCNV  067326
                        TIMEND  033452  TIMTBL  033126  TIM.DX  033432  TIM.KB
033176  TIM.LP  033420  TIM.MM  033426
                        TIM.NL  033406  TIM.PK  033410  TIM.PP  033424  TIM.PR
033422  TLCNTD  000155  TLCONI  000120
                        TLIDIM  000152  TLIFFE  000117  TLINCD  000132  TLJNKY
000140  TLMFND  000123  TLNOFN  000141
                        TLNOIT  000116  TLNOTF  000121  TLNZSP  000115  TLOPNV
000114  TLPRNM  000156  TLQDUM  000122
                        TLRNNM  000124  TLTMAF  000131  TLURTP  000145  TLXDIM
000146  TMO$DX  112310  TMO$LP  105152
                        TMO$MM  106552  TMO$NL  102772  TMO$PP  104000  TMO$PR
103354  TRYEXT  064762  TRYMON  064706
                        TTDC11  000002  TTDE11  000006  TTDH11  000014  TTDJ11
000012  TTDL11  000004  TTDMBB  000000
                        TTDZ11  000016  TTFCNT  000063  TTINEC  000040  TTKL11
000000  TTMSCN  000064  TTPARM  000050
                        TTPK11  000010  TTRING  000054  TTYHCT  045246  UDMERR
000165  UMRCTL  030770  UMREND  056470
                        UMR$DX  112260  UMR$MM  107416  UNDFNI  000112  UNISCN
030316  UNLOCK  075426  UNLOC0  075422
                        UNQCHK  074322  UNTCLU  034370  UNTCNE  034320  UNTCNT
034250  UNTERR  034371  UNTLIB  034440
                        UNTOPT  034561  UNTOWN  034560  UNTSIZ  057072  UPDATE
116376  UPDCHK  101726  UPDLRG  116376
                        UPDUNL  102262  UPE     061774  UPECTL  030152  UPELGE
045424  UPELOG  045376  UPELSZ  045424
                        UPOKER  067040  UUO0SZ  000736  UUO1SZ  000500  UUO2SZ
000574  VCAERR  000053  VCOERR  000055
                        VCSERR  000052  VOLSW1  056126  VOLSW2  056152  WAIT2T
045452  WINSUB  031656  WRGPAK  000024
                        XCDCOR  000176  XOFFCH  061674  ZERO    072160  $ASNTB
057666  $BUFTB  060042  $CLSTB  057622
                        $DBDIN  060614  $DCDIN  000000  $DEATB  057710  $DFDIN
000000  $DKDIN  000000  $DLDIN  060554
                        $DMDIN  000000  $DPDIN  000000  $DRDIN  060574  $DSDIN
000000  $DSKDS  060474  $DTADS  060536
                        $EMTDS  060476  $EMTTB  057202  $ERRTB  057476  $FIPDS
060502  $FIPTB  060124  $FLGTB  057776
                        $KBDIN  061536  $L3QPA  057400  $L3QTB  057302  $MSKTB
060064  $MTADS  060526  $OPNTB  057600
                        $RSXDS  060510  $SERTB  057556  $SIZTB  060020  $SLPTB
057754  $SPCTB  057644  $TERDS  060460
                        $TMOTB  057732  $UUOSN  060360  $UUOTB  060200  $$BAEL
067310  $$BOOT  054566  $$BUFB  067342
                        $$BUFE  003000  $$BUFS  002400  $$CACH  046376  $$CCNT
066310  $$CCSR  066216  $$CCTL  045366
                        $$CHEN  046364  $$CHSZ  000014  $$CNOP  066620  $$CNVF
067324  $$CPRM  066220  $$CQNT  066274
                        $$CRSZ  060554  $$CSDB  056474  $$CSDL  056470  $$CSDR
056472  $$CSDX  056732  $$CSKB  056476
                        $$CSLP  056720  $$CSMM  056726  $$CSPP  056724  $$CSPR
056722  $$CSRT  066262  $$DATE  001000
                        $$DDCS  034320  $$DMID  057022  $$DREG  067300  $$DRTS
001100  $$DSIZ  057072  $$ECPU  071614
                        $$EMED  071620  $$EPMM  100430  $$ERRB  067336  $$ERSZ
046462  $$ESID  071612  $$EXTO  064020
                        $$EXTP  064012  $$FIS   062250  $$FPPE  031604  $$FPPS
031404  $$FR00  045462  $$FR20  064022
                        $$FR25  064024  $$GUMR  077024  $$HZDV  073672  $$JOBM
045242  $$LDAY  066420  $$LIBE  032166
                        $$LIBS  031604  $$LOWC  001426  $$LOWE  000060  $$LOWS
000040  $$LRGP  064006  $$MBFE  030116
                        $$MBFS  005000  $$MEDE  030152  $$MEDS  030116  $$MEML
001040  $$MEMT  001140  $$MOVB  075752
                        $$MOVW  076020  $$MTLB  067314  $$M22W  067304  $$NDAY
066426  $$NULW  001774  $$ODTB  062672
                        $$ODTE  062210  $$ODTP  061652  $$ODT6  062202  $$OVRB
067334  $$OVRC  046474  $$PCSR  030152
                        $$PMSK  030254  $$PNEW  045576  $$PRNG  030214  $$PSCN
065554  $$PTBL  065556  $$PWRP  065346
                        $$PZER  045430  $$RFPP  067274  $$RTSP  073046  $$RUMR
077026  $$SFPP  067272  $$SL    067276
                        $$SREG  067302  $$SROM  056030  $$STAK  001736  $$SWMP
046304  $$SWPB  046202  $$SWPM  067266
                        $$SYSP  056332  $$SYSU  067264  $$TICK  066364  $$TIME
001002  $$TMUN  000010  $$UMRE  031404
                        $$UMRP  031176  $$UMRS  030770  $$UMRT  031200  $$UPEE
030770  $$UPES  030152  $$VSWR  065374
                        $$0301  057142  $$0303  057152  $$0305  057162  $$0307
057172  $$2780  000000  ..BQNT  061054
                        ..BWCB  102350  ..CAGE  116002  ..DFAV  101540  ..DIAB
067312  ..FCNT  067270  ..FQNT  067372
                        ..LPSP  104244  ..LP66  104326  ..MMGP  110040  ..MTDP
067316  ..PCSS  103146  ..PPN.  067716
                        ..PWRF  065270  ..SYDF  100616
 MERGE   117000 000004   (RW,I,GBL,REL,OVR)
 MERGE0  117004 000006   (RW,I,GBL,REL,OVR)
 L3QTBL  117012 000076   (RW,I,GBL,REL,OVR)
 MERGE1  117110 000006   (RW,I,GBL,REL,OVR)
 L3QPAR  117116 000076   (RW,I,GBL,REL,OVR)
 MERGE2  117214 000006   (RW,I,GBL,REL,OVR)
 MSKTBL  117222 000040   (RW,I,GBL,REL,OVR)
 MERGE3  117262 000006   (RW,I,GBL,REL,OVR)
 FIPTBL  117270 000054   (RW,I,GBL,REL,OVR)
 MERGE4  117344 000006   (RW,I,GBL,REL,OVR)
 UUOTBL  117352 000160   (RW,I,GBL,REL,OVR)
 MERGE5  117532 000006   (RW,I,GBL,REL,OVR)
 UUOSNC  117540 000070   (RW,I,GBL,REL,OVR)
 MERGE6  117630 000006   (RW,I,GBL,REL,OVR)
 FIPDSP  117636 000006   (RW,I,GBL,REL,OVR)
 MERGE7  117644 000006   (RW,I,GBL,REL,OVR)
 MTADSP  117652 000010   (RW,I,GBL,REL,OVR)
 MERGE8  117662 000006   (RW,I,GBL,REL,OVR)
 DTADSP  117670 000016   (RW,I,GBL,REL,OVR)
 MERGE9  117706 000072   (RW,I,GBL,REL,OVR)
 FIPPAT  120000 000652   (RW,I,GBL,REL,OVR)
                        FIPPAT  120000
 CTL     120652 006400   (RW,I,GBL,REL,OVR)
                        CHKNAM  127042  CHKWLD  127044  CTL     120652  DATEIT
123032  FCALL   122474  FCALX   122472
                        FIEXIT  122014  FIEXIX  122016  FIPWAT  122430  FJMP
122564  FJMPX   122560  FNDPCN  126550
                        GDE     123176  GDECR   123134  GDESV   123172  GETCLU
125444  GUN     124614  GUNMNT  124610
                        INI     124564  NXTUNC  123056  NXTUNT  123064  PARSEX
122222  RAE     123606  RAESV   123610
                        RDE     123624  RDECHK  123576  RDENXT  123574  RDEPRV
123572  RDESV   123620  READ    125000
                        READMF  124762  READSV  124774  READUF  124766  RETCLU
125402  RFE     125134  RFEFBB  125116
                        RNE     125122  RNEFBB  125112  RUF     124144  SDFID
124450  SDM     123740  SDU     124022
                        SETSAT  126466  SNE     124510  UNPLNK  123646  WOMSAT
125730  WRITE   125714  WRITEC  125720
                        XDE     126260  XDR     126010  XFL     126064  XFL3
126044  ZAPUNT  126750  ZDE     126442
                        ZDENXT  126440  $$FPMP  127252  ..FPHP  122252
 HASHPW  127252 000002   (RW,I,GBL,REL,OVR)
                        HASHPW  127252
 SMX     127254 000004   (RW,I,GBL,REL,OVR)
                        SMX     127254
 CTLLRG  127260 000500   (RW,I,GBL,REL,OVR)
                        CTLLRG  127260  PAKFBB  127260  REQUE   127734  SMFID
127506  SMM     127452  SMU     127320
                        WINDOW  127632  WINERR  127702
 EXL     127760 000000   (RW,I,GBL,REL,OVR)
                        EXL     127760
 EXL0    127760 000764   (RW,I,GBL,REL,OVR)
                        EXL0EN  130744  EXL0ST  127760  EXTCLS  127760
 OPL     130744 000000   (RW,I,GBL,REL,OVR)
                        OPL     130744
 OPL0    130744 000776   (RW,I,GBL,REL,OVR)
                        OPL0EN  131742  OPL0ST  130744  ..DKNP  131172
 OPL1    131742 000754   (RW,I,GBL,REL,OVR)
                        OPL1EN  132716  OPL1ST  131742
 OPL2    132716 000510   (RW,I,GBL,REL,OVR)
                        OPL2EN  133426  OPL2ST  132716  ..NFSP  132746  ..NFSW
133076
 OPL3    133426 000776   (RW,I,GBL,REL,OVR)
                        OPL3EN  134424  OPL3ST  133426
 OPL4    134424 000776   (RW,I,GBL,REL,OVR)
                        OPL4EN  135422  OPL4ST  134424  ..DPRT  135041  ..XACT
135026  ..XGRP  135020
 OPL5    135422 001000   (RW,I,GBL,REL,OVR)
                        OPL5EN  136422  OPL5ST  135422
 OPL6    136422 000700   (RW,I,GBL,REL,OVR)
                        OPL6EN  137322  OPL6ST  136422
 OPL7    137322 000772   (RW,I,GBL,REL,OVR)
                        OPL7EN  140314  OPL7ST  137322
 OPL8    140314 000232   (RW,I,GBL,REL,OVR)
                        OPL8EN  140546  OPL8ST  140314
 UUO     140546 000000   (RW,I,GBL,REL,OVR)
                        UUO     140546
 UUO0    140546 000736   (RW,I,GBL,REL,OVR)
                        UUO0EN  141504  UUO0ST  140546
 UUO1    141504 000500   (RW,I,GBL,REL,OVR)
                        UUO1EN  142204  UUO1ST  141504
 UUO2    142204 000574   (RW,I,GBL,REL,OVR)
                        UUO2EN  143000  UUO2ST  142204
 DLN     143000 000000   (RW,I,GBL,REL,OVR)
                        DLN     143000
 DLN0    143000 001000   (RW,I,GBL,REL,OVR)
                        DLN0EN  144000  DLN0ST  143000  ..RNN1  143612  ..XACR
143772  ..XGRR  143762

TRANSFER ADDRESS = 000001, HIGH LIMIT = 144000 = 25600. WORDS
  RT-11 LINK  V06.00      LOAD MAP        SAT 18-OCT-86 01:52:44
RSX   .SAV      TITLE:  RSX     IDENT:  07.007  /B:117000

SECTION  ADDR   SIZE    GLOBAL  VALUE   GLOBAL  VALUE   GLOBAL  VALUE   GLOBAL
VALUE   GLOBAL  VALUE   GLOBAL  VALUE

 . ABS.  000000 117000   (RW,I,GBL,ABS,OVR)
                        ABORT   000014  ADDMEM  074430  ASN$DX  112304  ASN$LP
104412  ASN$MM  106514  ASN$NL  102770
                        ASN$PP  103664  ASN$PR  103250  BADCLU  000027  BADCNT
000037  BADDIR  000001  BADERR  000171
                        BADFUO  000022  BADNAM  000002  BADPAK  000032  BADRTS
074472  BADSWT  000103  BAELST  067310
                        BAKLRG  045476  BAKSML  045474  BDNERR  000064  BFBASE
067342  BFE.KB  000006  BFI.KB  000006
                        BFQ.KB  000012  BFQ.LP  000024  BFQ.PP  000012  BFQ.PR
000012  BGBUFR  032166  BITBYT  072150
                        BITWRD  072104  BLKMOV  075534  BOOT    054566  BSERR
000056  BUF     115110  BUFCTL  045460
                        BUFFER  064366  BUFPOL  002400  BUF.DX  001000  BUF.KB
000200  BUF.LP  000200  BUF.MM  001000
                        BUF.NL  000002  BUF.PK  000200  BUF.PP  000200  BUF.PR
000200  BUF.SY  001000  BYERTS  074704
                        B.PRTY  000046  B.STAK  000044  B.SWAP  000045  B.10
000042  B.250   000043  B.4     000041
                        CAL     120410  CALLBB  067632  CALLM   067542  CALLMI
067532  CALLMR  067614  CALLMX  067564
                        CCLCHK  074316  CCLLST  045526  CHECHK  067772  CHECKX
115416  CHECTL  046364  CHEEXT  067100
                        CHEMON  067070  CHESEC  046370  CHESML  067060  CHETIC
046366  CHEUUO  070270  CHEZAP  070260
                        CHKEXT  067262  CHKMON  067260  CHKSTK  073012  CHKSWP
133220  CHKXRB  072626  CLOKGO  066230
                        CLOK.L  066266  CLOK.P  066222  CLRBUF  076476  CLRCPE
071616  CLRRSQ  075312  CLRTER  060464
                        CLRTIN  060466  CLS$DX  112546  CLS$LP  105252  CLS$MM
177775  CLS$NL  102772  CLS$PP  103572
                        CLS$PR  103224  CLS$SY  000001  CLUCVT  072150  CLUFAC
034321  CMNDVR  076640  CNT.DB  000010
                        CNT.DL  000004  CNT.DR  000010  CNT.DX  000010  CNT.KB
000104  CNT.LP  000001  CNT.MM  000002
                        CNT.PK  000004  CNT.PP  000001  CNT.PR  000001  CNVDCN
074360  CNVDC3  074364  COMDSK  067726
                        CONNEC  073674  CONNEX  073702  CON$DX  112734  CON$MM
107426  COSERR  000113  CPNSDF  000133
                        CPUFNX  000135  CPUPDF  000136  CPUPED  000137  CPUPFR
000134  CREJOB  060470  CRSDMP  056064
                        CSRTBL  056470  CSR.DB  056474  CSR.DL  056470  CSR.DR
056472  CSR.DX  056732  CSR.KB  056476
                        CSR.LP  056720  CSR.MM  056726  CSR.PP  056724  CSR.PR
056722  CTRLCE  000034  CTRLEV  045366
                        DATCNV  067324  DATERR  000015  DBDCTL  045230  DBDINT
060614  DBDPT1  045232  DBDPT2  045234
                        DCDSK   000000  DDO.XX  177130  DDS.DX  000034  DDS.KB
000066  DDS.LP  000040  DDS.MM  000046
                        DDS.NL  000010  DDS.PK  000014  DDS.PP  000020  DDS.PR
000020  DEA$DX  112304  DEA$LP  104362
                        DEA$MM  106544  DEA$NL  102772  DEA$PP  103664  DEA$PR
103250  DETKEY  000033  DEVCLU  034320
                        DEVCNT  056262  DEVEND  032602  DEVNAM  056206  DEVNFS
000036  DEVNKB  056230  DEVOKB  000022
                        DEVOSN  000054  DEVPTR  056334  DEVSYN  056250  DEVTBE
032536  DEVTBL  032326  DEV.DX  032562
                        DEV.KB  032326  DEV.LP  032550  DEV.MM  032556  DEV.NL
032536  DEV.PK  032540  DEV.PP  032554
                        DEV.PR  032552  DFDSK   000000  DIABOX  067312  DIMED2
000151  DIMERR  000174  DISERR  000172
                        DISK    067726  DISKER  072546  DISKNE  072540  DISPLY
067300  DIVBY0  000075  DJKBN   061636
                        DJKINT  061576  DKDSK   000000  DLDCTL  045204  DLDINT
060554  DLDPOS  045212  DLDPT1  045206
                        DLDPT2  045210  DMDSK   000000  DMPJOB  063164  DNE$MM
107436  DOMED   030116  DOMSIZ  121454
                        DOPOST  060476  DOSWAP  133726  DPDSK   000000  DQE$DB
034200  DQE$DL  034140  DQE$DR  034160
                        DQS$DB  034160  DQS$DL  034130  DQS$DR  034140  DQS$XX
034130  DRDCTL  045222  DRDINT  060574
                        DRDPT1  045224  DRDPT2  045226  DSDSK   000000  DSE$DB
033176  DSE$DL  033136  DSE$DR  033156
                        DSKAP5  067764  DSKCSR  056470  DSKMAP  056752  DSKPTR
056442  DSO$XX  176776  DSS$DB  033156
                        DSS$DL  033126  DSS$DR  033136  DSS$XX  033126  DSTAT
100140  DSTCTE  054566  DSTCTL  047064
                        DSTMUL  000740  DTOOOF  000021  DVRAP5  056420  DVRA5E
056442  DXDAP5  061746  DXDCTL  045340
                        DXDDDB  044644  DXDINT  061742  DXDVR   111732  EDARSV
000163  EDBMCE  000157  EDCONE  000162
                        EDEXON  000160  EKOCTW  000046  EKOPNT  000047  EMTAP5
063404  EMTPAT  120000  ENDKEY  060460
                        ENTODT  061652  EOF     000013  EOSERR  000154  ERBASE
067336  ERBASU  046464  ERL     070272
                        ERLAUX  046612  ERLCMN  076640  ERLCTB  046610  ERLCTL
046350  ERLDVR  077030  ERLMSD  071774
                        ERLRIB  001200  ERLTBL  046622  ERL$DX  112370  ERL$KB
061630  ERL$LP  000000  ERL$MM  106744
                        ERL$PP  104006  ERL$PR  103404  ERRERR  000102  ERROR
063070  ERSIZE  046462  EXITNR  000111
                        EXITTM  000110  EXPERR  000061  EXTPOF  064020  EXTPOL
064010  EXTSTL  045502  FARCNT  067270
                        FCBLST  034510  FETCH   076240  FIBENT  003762  FIBFBN
046576  FIBMAP  003760  FIBMOD  046603
                        FIBUF   003000  FIBUNT  046602  FIELDE  000077  FIEXST
000020  FIJBDA  001306  FIJBD2  001310
                        FIJOB   001302  FILGO   061222  FILIX   060642  FILSET
060776  FIPAP5  067430  FIPAR   046522
                        FIPCLU  046514  FIPCTL  046462  FIPERR  060504  FIPERX
046562  FIPFUN  046506  FIPGEN  046605
                        FIPGO   060502  FIPMUC  046516  FIPRIV  001303  FIPR6
046512  FIPSP   046510  FIPSYS  067346
                        FIPUNT  046604  FIPU0C  046520  FIPVBN  046574  FIQUE
001300  FISTAK  002400  FIUSER  001304
                        FIXERR  000063  FLDNE   060634  FLG.DX  100422  FLG.KB
074402  FLG.LP  035406  FLG.MM  000016
                        FLG.NL  100426  FLG.PK  070420  FLG.PP  021412  FLG.PR
022410  FLG.SY  100000  FLTERR  000060
                        FMTERR  000062  FNDJOB  075006  FNDRSQ  075302  FNDRTS
075452  FPDNE   067330  FPP     061774
                        FPPCTL  031404  FPPFEC  045514  FPPRES  031514  FPPSAV
031404  FREBUF  072244  FREES   045460
                        FREE20  064022  FREE25  064024  FSS     124206  FSSDSP
131452  FSSTBL  131412  FTLSCN  065642
                        FTLVEC  045360  FTLXX0  062072  FTLXX1  062076  FTLXX2
062102  FTLXX3  062106  FTLXX4  062112
                        FTLXX5  062116  FTLXX6  062122  FTLXX7  062126  FTL000
062066  FUCORE  000147  FUNERR  000130
                        GETBIG  063676  GETDEV  074100  GETFLG  122272  GETIRB
076440  GETIRX  116574  GETLOG  122334
                        GETUMR  077024  GODISK  060474  GUNSUB  073756  HALT
000054  HGHAD   045372  HNGDEV  000016
                        HNGTTY  000017  IDATE   000044  IDX.DX  000020  IDX.KB
000002  IDX.LP  000010  IDX.MM  000016
                        IDX.NL  000004  IDX.PK  000006  IDX.PP  000014  IDX.PR
000012  IDX.SY  000000  IE      000100
                        INTLCK  000023  INTPAK  000031  INTSAV  066462  INTSVX
066450  INT$DX  112306  INT$LP  106232
                        INT$MM  106642  INT$NL  102772  INT$PP  103704  INT$PR
103252  INUSE   000003  IOBUFR  003000
                        IOEXIT  063122  IOFINC  073234  IOFINI  073266  IOFIN4
073272  IOLERR  000074  IOREDO  063136
                        IRB     116376  ITIME   000046  J       046564  JBSTAT
032666  JBWAIT  032750  JOBCLK  033044
                        JOBCNT  045240  JOBMAX  000030  JOBMX2  000060  JOBQNT
045534  JOBTBL  032602  JQSTAT  077134
                        JSALL   064076  JSBTBL  056376  JSTATK  047054  JSTCTL
046676  JS.DX   000001  JS.KB   000002
                        JS.LP   000010  JS.MM   000001  JS.NL   000001  JS.PK
000004  JS.PP   000040  JS.PR   000020
                        JS.SY   000001  JUNK    045536  K       046565  KBDAP5
061542  KBDCTL  045240  KBDDDB  035210
                        KBDVR   061774  KBEDDB  045260  KBEREG  045270  KBESCN
045276  KBESC4  045300  KBETBL  045250
                        KBETMP  045314  KBEUNT  045310  KBFDDB  061642  KLKINT
061536  LIB     136154  LIBADR  031716
                        LIBCTL  031604  LIBLST  033034  LIBMAP  124152  LIBSUB
031616  LINERR  000057  LMTCNT  045244
                        LOGEND  034126  LOGERR  000065  LOGNAM  033452  LOGSYS
033762  LOG$DX  104056  LOG$KB  104044
                        LOG$LP  104046  LOG$MM  104054  LOG$PP  104052  LOG$PR
104050  LOOPCK  072346  LOWAD   045370
                        LOWCOR  000000  LPDAP5  061702  LPDDDB  044430  LPDINT
061676  LPDVR   104024  LPDVRX  104024
                        LRGFIL  000001  LRGPOL  064004  L3QSET  073116  L3QSE0
073112  L3QUE   045454  L3QUE2  045456
                        MAGDEN  067316  MAGLBL  067314  MAGRLE  000050  MAGSEL
000047  MAPBUF  076120  MAXCNT  045242
                        MAXHGH  045522  MAXJOB  045241  MAXLOW  045520  MAXUNT
000023  MAXUN2  000046  MED     061774
                        MEDCTL  030116  MEM     134530  MEMADR  046200  MEMERR
045374  MEMLST  001040  MEMSIZ  001150
                        MID$DB  057052  MID$DL  057022  MID$DR  057032  MID$XX
057022  MINUS1  072162  MINVER  000070
                        MMDAP5  061732  MMDCTL  045324  MMDDDB  044530  MMDINT
061726  MMDVR   106514  MMU22W  067304
                        MODCLK  000052  MODERR  000125  MONPOL  064014  MONSTL
045500  MORBUF  005000  MOVBYT  075752
                        MOVWRD  076020  MOVXRB  122514  NEDERR  000073  NLDDDB
044340  NLDVR   102766  NOBUFS  000040
                        NODELS  046606  NODEVC  000006  NOGOTO  000153  NOMATH
000175  NONOIM  000167  NORACS  000100
                        NOROOM  000004  NORTS   000076  NOSUCH  000005  NOTAVL
000010  NOTCLS  000007  NOTMNT  000025
                        NOTMTA  000101  NOTOPN  000011  NRNERR  000161  NRRTS
000051  NSPCHK  061764  NSPTMO  061770
                        NULJOB  061752  NULRTS  001240  ODD     000071  ONBAD
000072  OPNCLS  067472  OPN$DX  112446
                        OPN$LP  104226  OPN$MM  177775  OPN$NL  102772  OPN$PP
103624  OPN$PR  103202  OPN$SY  000001
                        OPO$XX  000050  OPT$DB  034230  OPT$DL  034200  OPT$DR
034210  OPT$XX  034200  OUTOAS  000127
                        OVBASE  067334  OVBASU  046476  OVRBUF  060506  PAKLCK
000026  PARSCN  065554  PARZER  045430
                        PATCH   055430  PATCHS  057142  PEEKER  067026  PKDCTL
045316  PKDDDB  044350  PKDINT  061676
                        PKDVR   061774  PKINWT  000013  PKMODE  000012  PPDAP5
061722  PPDDDB  044510  PPDINT  061716
                        PPDVR   103422  PPNTBL  067716  PRDAP5  061712  PRDDDB
044470  PRDINT  061706  PRDVR   103020
                        PRERRS  000164  PRIVAT  000030  PRNER1  000166  PRNER2
000170  PRVIOL  000012  PTABLE  061654
                        PWFSAV  001312  P$NEW   045576  QDXCON  100010  QMMCON
100002  QMMDNE  100004  QSTCTL  054566
                        QUANT   045532  QUEL3Q  072570  QUEUER  072504  QUEUE0
072534  RAWMEM  032326  REGRES  072426
                        REGSAV  072406  REGSCR  072444  RELOAD  056030  RELUMR
077026  REMJOB  074724  REMRTS  074670
                        RES     067264  RESCHK  075220  RESCTL  045514  RESENT
075262  RESERR  000150  RESFPP  067274
                        RESJOB  075336  RESLST  045524  RESRT4  066534  RESTRX
045510  RETBIG  063616  RETCHN  067440
                        RETDEV  074144  RETEXT  060500  RETIRB  116376  RETMON
065060  RETUSR  063430  RETUSX  063434
                        RETWDB  032020  RHMADR  076742  RJETMO  061772  RSXAGN
060512  RSXAP5  063610  RSXEMT  063224
                        RSXENT  060514  RSXTRP  060510  RTI     061774  RTICTL
045360  RTI3    066544  RTI47   066632
                        RTSLST  033032  RTSPC   073046  RTSSUB  031604  SAFNOS
000143  SASNOI  000144  SASYNE  000142
                        SATBUF  004000  SATCTL  035070  SATCTM  035140  SATEND
034700  SATFBN  046566  SATMOD  046573
                        SATPTR  034630  SATSTL  034750  SATSTM  035020  SATTBD
000035  SATUNT  046572  SAVFPP  067272
                        SAVJNL  073524  SAVJOB  073410  SAVJQX  073374  SAVTIM
073604  SCAERR  000177  SCH     131522
                        SCHTBL  045600  SCRUMP  073162  SCRUMX  073156  SERSPC
067656  SER$DX  112552  SER$LP  104432
                        SER$MM  107306  SER$NL  102774  SER$PP  103422  SER$PR
103020  SER$SY  100430  SETDTR  060472
                        SETPRM  060462  SETRES  064650  SETUP   065434  SIGMEM
075316  SIZERR  000054  SIZ.DX  000107
                        SIZ.KB  000000  SIZ.LP  000000  SIZ.MM  000107  SIZ.NL
000107  SIZ.PK  000107  SIZ.PP  000107
                        SIZ.PR  000107  SIZ.SY  000107  SL.VAL  001000  SNDLST
033036  SPC$DX  111736  SPC$LP  104224
                        SPC$MM  107236  SPC$NL  102766  SPC$PP  104004  SPC$PR
103402  SPC$SY  102262  SPLLST  033042
                        SQRERR  000066  STKLMT  067276  STKOVF  073142  STMERR
000107  STOIRB  116424  STORE   076146
                        STPERR  000173  STSTBL  060450  STS.DX  000000  STS.KB
000000  STS.LP  000002  STS.MM  000000
                        STS.NL  000000  STS.PK  000000  STS.PP  000002  STS.PR
000004  ST2741  000000  SUB     072104
                        SUBERR  000067  SWBASE  046202  SWDNE   067320  SWDONQ
046242  SWITCH  067302  SWM     133214  
                        SWOCNT  045530  SWPDSQ  046244  SWPMAP  046304  SWPMAX
067266  SWPMPE  046344  SWPUSE  046344
                        SWRTS   074614  SWRTSL  074620  SWTBKE  045576  SWTBLK
045540  SYDAP5  060640  SYDCTL  045236
                        SYDINT  060634  SYDLRG  101726  SYDVR   100430  SYSLRG
000001  SYSTAK  001770  SYSUNT  067264
                        SYSUN2  067265  SYTTMO  066316  TABSET  072164  TBL
056030  TIMCNV  067326  TIMEND  033452
                        TIMTBL  033126  TIM.DX  033432  TIM.KB  033176  TIM.LP
033420  TIM.MM  033426  TIM.NL  033406
                        TIM.PK  033410  TIM.PP  033424  TIM.PR  033422  TLCNTD
000155  TLCONI  000120  TLIDIM  000152
                        TLIFFE  000117  TLINCD  000132  TLJNKY  000140  TLMFND
000123  TLNOFN  000141  TLNOIT  000116
                        TLNOTF  000121  TLNZSP  000115  TLOPNV  000114  TLPRNM
000156  TLQDUM  000122  TLRNNM  000124
                        TLTMAF  000131  TLURTP  000145  TLXDIM  000146  TMO$DX
112310  TMO$LP  105152  TMO$MM  106552
                        TMO$NL  102772  TMO$PP  104000  TMO$PR  103354  TRYEXT
064762  TRYMON  064706  TTDC11  000002
                        TTDE11  000006  TTDH11  000014  TTDJ11  000012  TTDL11
000004  TTDMBB  000000  TTDZ11  000016
                        TTFCNT  000063  TTINEC  000040  TTKL11  000000  TTMSCN
000064  TTPARM  000050  TTPK11  000010
                        TTRING  000054  TTYHCT  045246  UDMERR  000165  UMRCTL
030770  UMREND  056470  UMR$DX  112260
                        UMR$MM  107416  UNDFNI  000112  UNISCN  030316  UNLOCK
075426  UNLOC0  075422  UNQCHK  074322
                        UNTCLU  034370  UNTCNE  034320  UNTCNT  034250  UNTERR
034371  UNTLIB  034440  UNTOPT  034561
                        UNTOWN  034560  UNTSIZ  057072  UPDATE  116376  UPDCHK
101726  UPDLRG  116376  UPDUNL  102262
                        UPE     061774  UPECTL  030152  UPELGE  045424  UPELOG
045376  UPELSZ  045424  UPOKER  067040
                        USRSET  122002  VCAERR  000053  VCOERR  000055  VCSERR
000052  VOLSW1  056126  VOLSW2  056152
                        WAIT2T  045452  WINSUB  031656  WRGPAK  000024  XCDCOR
000176  XOFFCH  061674  ZERMEM  136056
                        ZERO    072160  $ASNTB  057666  $BUFTB  060042  $CLSTB
057622  $DBDIN  060614  $DCDIN  000000
                        $DEATB  057710  $DFDIN  000000  $DKDIN  000000  $DLDIN
060554  $DMDIN  000000  $DPDIN  000000
                        $DRDIN  060574  $DSDIN  000000  $DSKDS  060474  $DTADS
060536  $EMTDS  060476  $EMTTB  057202
                        $ERRTB  057476  $FIPDS  060502  $FIPTB  060124  $FLGTB
057776  $KBDIN  061536  $L3QPA  057400
                        $L3QTB  057302  $MSKTB  060064  $MTADS  060526  $OPNTB
057600  $RSXDS  060510  $SERTB  057556
                        $SIZTB  060020  $SLPTB  057754  $SPCTB  057644  $TERDS
060460  $TMOTB  057732  $UUOSN  060360
                        $UUOTB  060200  $$BAEL  067310  $$BOOT  054566  $$BUFB
067342  $$BUFE  003000  $$BUFS  002400
                        $$CACH  046376  $$CCNT  066310  $$CCSR  066216  $$CCTL
045366  $$CHEN  046364  $$CHSZ  000014
                        $$CNOP  066620  $$CNVF  067324  $$CPRM  066220  $$CQNT
066274  $$CRSZ  060554  $$CSDB  056474
                        $$CSDL  056470  $$CSDR  056472  $$CSDX  056732  $$CSKB
056476  $$CSLP  056720  $$CSMM  056726
                        $$CSPP  056724  $$CSPR  056722  $$CSRT  066262  $$DATE
001000  $$DDCS  034320  $$DMID  057022
                        $$DREG  067300  $$DRTS  001100  $$DSIZ  057072  $$ECPU
071614  $$EMED  071620  $$EPMM  100430
                        $$ERRB  067336  $$ERSZ  046462  $$ESID  071612  $$EXTO
064020  $$EXTP  064012  $$FIS   062250
                        $$FPPE  031604  $$FPPS  031404  $$FR00  045462  $$FR20
064022  $$FR25  064024  $$GUMR  077024
                        $$HZDV  073672  $$JOBM  045242  $$LDAY  066420  $$LIBE
032166  $$LIBS  031604  $$LOWC  001426
                        $$LOWE  000060  $$LOWS  000040  $$LRGP  064006  $$MBFE
030116  $$MBFS  005000  $$MEDE  030152
                        $$MEDS  030116  $$MEML  001040  $$MEMT  001140  $$MOVB
075752  $$MOVW  076020  $$MTLB  067314
                        $$M22W  067304  $$NDAY  066426  $$NULW  001774  $$ODTB
062672  $$ODTE  062210  $$ODTP  061652
                        $$ODT6  062202  $$OVRB  067334  $$OVRC  046474  $$PCSR
030152  $$PMSK  030254  $$PNEW  045576
                        $$PRNG  030214  $$PSCN  065554  $$PTBL  065556  $$PWRP
065346  $$PZER  045430  $$RFPP  067274
                        $$RTSP  073046  $$RUMR  077026  $$SFPP  067272  $$SL
067276  $$SREG  067302  $$SROM  056030
                        $$STAK  001736  $$SWMP  046304  $$SWPB  046202  $$SWPM
067266  $$SYSP  056332  $$SYSU  067264
                        $$TICK  066364  $$TIME  001002  $$TMUN  000010  $$UMRE
031404  $$UMRP  031176  $$UMRS  030770
                        $$UMRT  031200  $$UPEE  030770  $$UPES  030152  $$VSWR
065374  $$0301  057142  $$0303  057152
                        $$0305  057162  $$0307  057172  $$2780  000000  ..BQNT
061054  ..BWCB  102350  ..CAGE  116002
                        ..DFAV  101540  ..DIAB  067312  ..FCNT  067270  ..FFIT
135416  ..FQNT  067372  ..LPSP  104244
                        ..LP66  104326  ..MMGP  110040  ..MTDP  067316  ..PCSS
103146  ..PPN.  067716  ..PWRF  065270
                        ..QADD  135206  ..QMUL  135202  ..SWHP  133760  ..SYDF
100616
 MERGE   117000 000004   (RW,I,GBL,REL,OVR)
 MERGE0  117004 000006   (RW,I,GBL,REL,OVR)
 EMTTBL  117012 000100   (RW,I,GBL,REL,OVR)
 MERGE1  117112 000006   (RW,I,GBL,REL,OVR)
 RSXDSP  117120 000016   (RW,I,GBL,REL,OVR)
 MERGE9  117136 000642   (RW,I,GBL,REL,OVR)
 RSXPAT  120000 000526   (RW,I,GBL,REL,OVR)
                        RSXPAT  120000
 EMU     120526 006032   (RW,I,GBL,REL,OVR)
                        EMU     120526  ..CCPM  121146
 RSXCON  126560 000060   (RW,I,GBL,REL,OVR)
 RSXDIC  126640 000060   (RW,I,GBL,REL,OVR)
 RSXTBL  126720 000060   (RW,I,GBL,REL,OVR)

TRANSFER ADDRESS = 000001, HIGH LIMIT = 127000 = 22272. WORDS
  RT-11 LINK  V06.00      LOAD MAP        SAT 18-OCT-86 01:52:46
OVR   .SAV      TITLE:  OVR     IDENT:  07.007  /B:001000

SECTION  ADDR   SIZE    GLOBAL  VALUE   GLOBAL  VALUE   GLOBAL  VALUE   GLOBAL
VALUE   GLOBAL  VALUE   GLOBAL  VALUE

 . ABS.  000000 001000   (RW,I,GBL,ABS,OVR)
                        ABORT   000014  ADDMEM  074430  ASN$DX  112304  ASN$LP
104412  ASN$MM  106514  ASN$NL  102770
                        ASN$PP  103664  ASN$PR  103250  ASS0SZ  000570  BADCLU
000027  BADCNT  000037  BADDIR  000001
                        BADERR  000171  BADFUO  000022  BADNAM  000002  BADPAK
000032  BADRTS  074472  BADSWT  000103
                        BAELST  067310  BAKLRG  045476  BAKSML  045474  BDNERR
000064  BFBASE  067342  BFE.KB  000006
                        BFI.KB  000006  BFQ.KB  000012  BFQ.LP  000024  BFQ.PP
000012  BFQ.PR  000012  BGBUFR  032166
                        BITBYT  072150  BITWRD  072104  BLKMOV  075534  BOOT
054566  BSERR   000056  BUF     115110
                        BUFCTL  045460  BUFFER  064366  BUFPOL  002400  BUF.DX
001000  BUF.KB  000200  BUF.LP  000200
                        BUF.MM  001000  BUF.NL  000002  BUF.PK  000200  BUF.PP
000200  BUF.PR  000200  BUF.SY  001000
                        BYERTS  074704  B.PRTY  000046  B.STAK  000044  B.SWAP
000045  B.10    000042  B.250   000043
                        B.4     000041  CALLBB  067632  CALLM   067542  CALLMI
067532  CALLMR  067614  CALLMX  067564
                        CCLCHK  074316  CCLLST  045526  CHECHK  067772  CHECKX
115416  CHECTL  046364  CHEEXT  067100
                        CHEMON  067070  CHESEC  046370  CHESML  067060  CHETIC
046366  CHEUUO  070270  CHEZAP  070260
                        CHE0SZ  000672  CHKEXT  067262  CHKMON  067260  CHKNAM
127042  CHKSTK  073012  CHKWLD  127044
                        CHKXRB  072626  CLOKGO  066230  CLOK.L  066266  CLOK.P
066222  CLRBUF  076476  CLRCPE  071616
                        CLRRSQ  075312  CLRTER  060464  CLRTIN  060466  CLS$DX
112546  CLS$LP  105252  CLS$MM  177775
                        CLS$NL  102772  CLS$PP  103572  CLS$PR  103224  CLS$SY
000001  CLUCVT  072150  CLUFAC  034321
                        CMNDVR  076640  CNT.DB  000010  CNT.DL  000004  CNT.DR
000010  CNT.DX  000010  CNT.KB  000104
                        CNT.LP  000001  CNT.MM  000002  CNT.PK  000004  CNT.PP
000001  CNT.PR  000001  CNVDCN  074360
                        CNVDC3  074364  COMDSK  067726  CONNEC  073674  CONNEX
073702  CON$DX  112734  CON$MM  107426
                        COSERR  000113  CPNSDF  000133  CPUFNX  000135  CPUPDF
000136  CPUPED  000137  CPUPFR  000134
                        CREJOB  060470  CRSDMP  056064  CSRTBL  056470  CSR.DB
056474  CSR.DL  056470  CSR.DR  056472
                        CSR.DX  056732  CSR.KB  056476  CSR.LP  056720  CSR.MM
056726  CSR.PP  056724  CSR.PR  056722
                        CTL     120652  CTLLRG  127260  CTRLCE  000034  CTRLEV
045366  DATCNV  067324  DATEIT  123032
                        DATERR  000015  DBDCTL  045230  DBDINT  060614  DBDPT1
045232  DBDPT2  045234  DCDSK   000000
                        DDO.XX  177130  DDS.DX  000034  DDS.KB  000066  DDS.LP
000040  DDS.MM  000046  DDS.NL  000010
                        DDS.PK  000014  DDS.PP  000020  DDS.PR  000020  DEA$DX
112304  DEA$LP  104362  DEA$MM  106544
                        DEA$NL  102772  DEA$PP  103664  DEA$PR  103250  DETKEY
000033  DEVCLU  034320  DEVCNT  056262
                        DEVEND  032602  DEVNAM  056206  DEVNFS  000036  DEVNKB
056230  DEVOKB  000022  DEVOSN  000054
                        DEVPTR  056334  DEVSYN  056250  DEVTBE  032536  DEVTBL
032326  DEV.DX  032562  DEV.KB  032326
                        DEV.LP  032550  DEV.MM  032556  DEV.NL  032536  DEV.PK
032540  DEV.PP  032554  DEV.PR  032552
                        DFDSK   000000  DIABOX  067312  DIMED2  000151  DIMERR
000174  DIR0SZ  000756  DIR1SZ  000776
                        DIR2SZ  000316  DISERR  000172  DISK    067726  DISKER
072546  DISKNE  072540  DISPLY  067300
                        DIVBY0  000075  DJKBN   061636  DJKINT  061576  DKDSK
000000  DLDCTL  045204  DLDINT  060554
                        DLDPOS  045212  DLDPT1  045206  DLDPT2  045210  DLN
143000  DLN0EN  144000  DLN0ST  143000
                        DLN0SZ  001000  DMDSK   000000  DMPJOB  063164  DNE$MM
107436  DOMED   030116  DOPOST  060476
                        DPDSK   000000  DQE$DB  034200  DQE$DL  034140  DQE$DR
034160  DQS$DB  034160  DQS$DL  034130
                        DQS$DR  034140  DQS$XX  034130  DRDCTL  045222  DRDINT
060574  DRDPT1  045224  DRDPT2  045226
                        DSDSK   000000  DSE$DB  033176  DSE$DL  033136  DSE$DR
033156  DSKAP5  067764  DSKCSR  056470
                        DSKMAP  056752  DSKPTR  056442  DSO$XX  176776  DSS$DB
033156  DSS$DL  033126  DSS$DR  033136
                        DSS$XX  033126  DSTAT   100140  DSTCTE  054566  DSTCTL
047064  DSTMUL  000740  DTOOOF  000021
                        DTU0SZ  000452  DTU1SZ  000730  DTU2SZ  000724  DTU3SZ
000704  DTU4SZ  000732  DTU5SZ  000676
                        DVRAP5  056420  DVRA5E  056442  DXDAP5  061746  DXDCTL
045340  DXDDDB  044644  DXDINT  061742
                        DXDVR   111732  EDARSV  000163  EDBMCE  000157  EDCONE
000162  EDEXON  000160  EKOCTW  000046
                        EKOPNT  000047  EMTAP5  063404  ENDKEY  060460  ENTODT
061652  EOF     000013  EOSERR  000154
                        ERBASE  067336  ERBASU  046464  ERL     070272  ERLAUX
046612  ERLCMN  076640  ERLCTB  046610
                        ERLCTL  046350  ERLDVR  077030  ERLMSD  071774  ERLRIB
001200  ERLTBL  046622  ERL$DX  112370
                        ERL$KB  061630  ERL$LP  000000  ERL$MM  106744  ERL$PP
104006  ERL$PR  103404  ERRERR  000102
                        ERROR   063070  ERSIZE  046462  EXITNR  000111  EXITTM
000110  EXL     127760  EXL0EN  130744
                        EXL0ST  127760  EXL0SZ  000764  EXPERR  000061  EXTCLS
127760  EXTPOF  064020  EXTPOL  064010
                        EXTSTL  045502  FARCNT  067270  FCALL   122474  FCALX
122472  FCBLST  034510  FETCH   076240
                        FIBENT  003762  FIBFBN  046576  FIBMAP  003760  FIBMOD
046603  FIBUF   003000  FIBUNT  046602
                        FIELDE  000077  FIEXIT  122014  FIEXIX  122016  FIEXST
000020  FIJBDA  001306  FIJBD2  001310
                        FIJOB   001302  FILGO   061222  FILIX   060642  FILSET
060776  FIL0SZ  000754  FIL1SZ  000764
                        FIPAP5  067430  FIPAR   046522  FIPCLU  046514  FIPCTL
046462  FIPERR  060504  FIPERX  046562
                        FIPFUN  046506  FIPGEN  046605  FIPGO   060502  FIPMUC
046516  FIPPAT  120000  FIPRIV  001303
                        FIPR6   046512  FIPSP   046510  FIPSYS  067346  FIPUNT
046604  FIPU0C  046520  FIPVBN  046574
                        FIPWAT  122430  FIQUE   001300  FISTAK  002400  FIUSER
001304  FIXERR  000063  FJMP    122564
                        FJMPX   122560  FLDNE   060634  FLG.DX  100422  FLG.KB
074402  FLG.LP  035406  FLG.MM  000016
                        FLG.NL  100426  FLG.PK  070420  FLG.PP  021412  FLG.PR
022410  FLG.SY  100000  FLTERR  000060
                        FMTERR  000062  FNDJOB  075006  FNDPCN  126550  FNDRSQ
075302  FNDRTS  075452  FPDNE   067330
                        FPP     061774  FPPCTL  031404  FPPFEC  045514  FPPRES
031514  FPPSAV  031404  FREBUF  072244
                        FREES   045460  FREE20  064022  FREE25  064024  FTLSCN
065642  FTLVEC  045360  FTLXX0  062072
                        FTLXX1  062076  FTLXX2  062102  FTLXX3  062106  FTLXX4
062112  FTLXX5  062116  FTLXX6  062122
                        FTLXX7  062126  FTL000  062066  FUCORE  000147  FUNERR
000130  GDE     123176  GDECR   123134
                        GDESV   123172  GETBIG  063676  GETCLU  125444  GETDEV
074100  GETIRB  076440  GETIRX  116574
                        GETUMR  077024  GODISK  060474  GUN     124614  GUNMNT
124610  GUNSUB  073756  HALT    000054
                        HASHPW  127252  HGHAD   045372  HNGDEV  000016  HNGTTY
000017  IDATE   000044  IDX.DX  000020
                        IDX.KB  000002  IDX.LP  000010  IDX.MM  000016  IDX.NL
000004  IDX.PK  000006  IDX.PP  000014
                        IDX.PR  000012  IDX.SY  000000  IE      000100  INI
124564  INTLCK  000023  INTPAK  000031
                        INTSAV  066462  INTSVX  066450  INT$DX  112306  INT$LP
106232  INT$MM  106642  INT$NL  102772
                        INT$PP  103704  INT$PR  103252  INUSE   000003  IOBUFR
003000  IOEXIT  063122  IOFINC  073234
                        IOFINI  073266  IOFIN4  073272  IOLERR  000074  IOREDO
063136  IRB     116376  ITIME   000046
                        J       046564  JBSTAT  032666  JBWAIT  032750  JOBCLK
033044  JOBCNT  045240  JOBMAX  000030
                        JOBMX2  000060  JOBQNT  045534  JOBTBL  032602  JQSTAT
077134  JSALL   064076  JSBTBL  056376
                        JSTATK  047054  JSTCTL  046676  JS.DX   000001  JS.KB
000002  JS.LP   000010  JS.MM   000001
                        JS.NL   000001  JS.PK   000004  JS.PP   000040  JS.PR
000020  JS.SY   000001  JUNK    045536
                        K       046565  KBDAP5  061542  KBDCTL  045240  KBDDDB
035210  KBDVR   061774  KBEDDB  045260
                        KBEREG  045270  KBESCN  045276  KBESC4  045300  KBETBL
045250  KBETMP  045314  KBEUNT  045310
                        KBFDDB  061642  KLKINT  061536  KMC0SZ  000400  KMC1SZ
000436  KMC2SZ  000776  LIBADR  031716
                        LIBCTL  031604  LIBLST  033034  LIBSUB  031616  LINERR
000057  LIN0SZ  000720  LIN1SZ  000474
                        LMTCNT  045244  LOGEND  034126  LOGERR  000065  LOGNAM
033452  LOGSYS  033762  LOG$DX  104056
                        LOG$KB  104044  LOG$LP  104046  LOG$MM  104054  LOG$PP
104052  LOG$PR  104050  LOOPCK  072346
                        LOWAD   045370  LOWCOR  000000  LPDAP5  061702  LPDDDB
044430  LPDINT  061676  LPDVR   104024
                        LPDVRX  104024  LRGFIL  000001  LRGPOL  064004  L3QSET
073116  L3QSE0  073112  L3QUE   045454
                        L3QUE2  045456  MAGDEN  067316  MAGLBL  067314  MAGRLE
000050  MAGSEL  000047  MAPBUF  076120
                        MAXCNT  045242  MAXHGH  045522  MAXJOB  045241  MAXLOW
045520  MAXUNT  000023  MAXUN2  000046
                        MED     061774  MEDCTL  030116  MEMADR  046200  MEMERR
045374  MEMLST  001040  MEMSIZ  001150
                        MID$DB  057052  MID$DL  057022  MID$DR  057032  MID$XX
057022  MINUS1  072162  MINVER  000070
                        MMDAP5  061732  MMDCTL  045324  MMDDDB  044530  MMDINT
061726  MMDVR   106514  MMU22W  067304
                        MNT0SZ  000750  MNT1SZ  000612  MNT2SZ  000554  MODCLK
000052  MODERR  000125  MONPOL  064014
                        MONSTL  045500  MORBUF  005000  MOVBYT  075752  MOVWRD
076020  MTU0SZ  000776  MTU1SZ  001000
                        MTU2SZ  000752  MTU3SZ  000770  MTU4SZ  000776  MTU5SZ
000516  MTU6SZ  000670  NEDERR  000073
                        NLDDDB  044340  NLDVR   102766  NOBUFS  000040  NODELS
046606  NODEVC  000006  NOGOTO  000153
                        NOMATH  000175  NONOIM  000167  NORACS  000100  NOROOM
000004  NORTS   000076  NOSUCH  000005
                        NOTAVL  000010  NOTCLS  000007  NOTMNT  000025  NOTMTA
000101  NOTOPN  000011  NRNERR  000161
                        NRRTS   000051  NSPCHK  061764  NSPTMO  061770  NULJOB
061752  NULRTS  001240  NXTUNC  123056
                        NXTUNT  123064  ODD     000071  ONBAD   000072  OPL
130744  OPL0EN  131742  OPL0ST  130744
                        OPL0SZ  000776  OPL1EN  132716  OPL1ST  131742  OPL1SZ
000754  OPL2EN  133426  OPL2ST  132716
                        OPL2SZ  000510  OPL3EN  134424  OPL3ST  133426  OPL3SZ
000776  OPL4EN  135422  OPL4ST  134424
                        OPL4SZ  000776  OPL5EN  136422  OPL5ST  135422  OPL5SZ
001000  OPL6EN  137322  OPL6ST  136422
                        OPL6SZ  000700  OPL7EN  140314  OPL7ST  137322  OPL7SZ
000772  OPL8EN  140546  OPL8ST  140314
                        OPL8SZ  000232  OPNCLS  067472  OPN$DX  112446  OPN$LP
104226  OPN$MM  177775  OPN$NL  102772
                        OPN$PP  103624  OPN$PR  103202  OPN$SY  000001  OPO$XX
000050  OPT$DB  034230  OPT$DL  034200
                        OPT$DR  034210  OPT$XX  034200  OUTOAS  000127  OVBASE
067334  OVBASU  046476  OVRBUF  060506
                        PAKFBB  127260  PAKLCK  000026  PARSCN  065554  PARSEX
122222  PARZER  045430  PAS0SZ  000762
                        PATCH   055430  PATCHS  057142  PEEKER  067026  PKDCTL
045316  PKDDDB  044350  PKDINT  061676
                        PKDVR   061774  PKINWT  000013  PKMODE  000012  PPDAP5
061722  PPDDDB  044510  PPDINT  061716
                        PPDVR   103422  PPNTBL  067716  PRDAP5  061712  PRDDDB
044470  PRDINT  061706  PRDVR   103020
                        PRERRS  000164  PRIVAT  000030  PRNER1  000166  PRNER2
000170  PRVIOL  000012  PTABLE  061654
                        PWFSAV  001312  P$NEW   045576  QDXCON  100010  QMMCON
100002  QMMDNE  100004  QSTCTL  054566
                        QUANT   045532  QUEL3Q  072570  QUEUER  072504  QUEUE0
072534  RAD0SZ  000670  RAE     123606
                        RAESV   123610  RAWMEM  032326  RDE     123624  RDECHK
123576  RDENXT  123574  RDEPRV  123572
                        RDESV   123620  READ    125000  READMF  124762  READSV
124774  READUF  124766  REGRES  072426
                        REGSAV  072406  REGSCR  072444  RELOAD  056030  RELUMR
077026  REMJOB  074724  REMRTS  074670
                        REQUE   127734  RES     067264  RESCHK  075220  RESCTL
045514  RESENT  075262  RESERR  000150
                        RESFPP  067274  RESJOB  075336  RESLST  045524  RESRT4
066534  RESTRX  045510  RETBIG  063616
                        RETCHN  067440  RETCLU  125402  RETDEV  074144  RETEXT
060500  RETIRB  116376  RETMON  065060
                        RETUSR  063430  RETUSX  063434  RETWDB  032020  RFE
125134  RFEFBB  125116  RHMADR  076742  
                        RJETMO  061772  RNE     125122  RNEFBB  125112  RSXAGN
060512  RSXAP5  063610  RSXEMT  063224
                        RSXENT  060514  RSXTRP  060510  RTI     061774  RTICTL
045360  RTI3    066544  RTI47   066632
                        RTSLST  033032  RTSPC   073046  RTSSUB  031604  RTS0SZ
000750  RTS1SZ  000772  RTS2SZ  000146
                        RTS3SZ  000750  RUF     124144  SAFNOS  000143  SASNOI
000144  SASYNE  000142  SATBUF  004000
                        SATCTL  035070  SATCTM  035140  SATEND  034700  SATFBN
046566  SATMOD  046573  SATPTR  034630
                        SATSTL  034750  SATSTM  035020  SATTBD  000035  SATUNT
046572  SAVFPP  067272  SAVJNL  073524
                        SAVJOB  073410  SAVJQX  073374  SAVTIM  073604  SCAERR
000177  SCHTBL  045600  SCRUMP  073162
                        SCRUMX  073156  SDFID   124450  SDM     123740  SDU
124022  SERSPC  067656  SER$DX  112552
                        SER$LP  104432  SER$MM  107306  SER$NL  102774  SER$PP
103422  SER$PR  103020  SER$SY  100430
                        SETDTR  060472  SETPRM  060462  SETRES  064650  SETSAT
126466  SETUP   065434  SIGMEM  075316
                        SIZERR  000054  SIZ.DX  000107  SIZ.KB  000000  SIZ.LP
000000  SIZ.MM  000107  SIZ.NL  000107
                        SIZ.PK  000107  SIZ.PP  000107  SIZ.PR  000107  SIZ.SY
000107  SLN0SZ  000612  SL.VAL  001000
                        SMFID   127506  SMM     127452  SMU     127320  SMX
127254  SNDLST  033036  SND0SZ  000656
                        SND1SZ  000774  SNE     124510  SPC$DX  111736  SPC$LP
104224  SPC$MM  107236  SPC$NL  102766
                        SPC$PP  104004  SPC$PR  103402  SPC$SY  102262  SPLLST
033042  SPL0SZ  000436  SQRERR  000066
                        STKLMT  067276  STKOVF  073142  STMERR  000107  STOIRB
116424  STORE   076146  STPERR  000173
                        STSTBL  060450  STS.DX  000000  STS.KB  000000  STS.LP
000002  STS.MM  000000  STS.NL  000000
                        STS.PK  000000  STS.PP  000002  STS.PR  000004  ST2741
000000  SUB     072104  SUBERR  000067
                        SWBASE  046202  SWDNE   067320  SWDONQ  046242  SWITCH
067302  SWOCNT  045530  SWPDSQ  046244
                        SWPMAP  046304  SWPMAX  067266  SWPMPE  046344  SWPUSE
046344  SWRTS   074614  SWRTSL  074620
                        SWTBKE  045576  SWTBLK  045540  SYDAP5  060640  SYDCTL
045236  SYDINT  060634  SYDLRG  101726
                        SYDVR   100430  SYSLRG  000001  SYSTAK  001770  SYSUNT
067264  SYSUN2  067265  SYTTMO  066316
                        TABSET  072164  TBL     056030  TIMCNV  067326  TIMEND
033452  TIMTBL  033126  TIM.DX  033432
                        TIM.KB  033176  TIM.LP  033420  TIM.MM  033426  TIM.NL
033406  TIM.PK  033410  TIM.PP  033424
                        TIM.PR  033422  TLCNTD  000155  TLCONI  000120  TLIDIM
000152  TLIFFE  000117  TLINCD  000132
                        TLJNKY  000140  TLMFND  000123  TLNOFN  000141  TLNOIT
000116  TLNOTF  000121  TLNZSP  000115
                        TLOPNV  000114  TLPRNM  000156  TLQDUM  000122  TLRNNM
000124  TLTMAF  000131  TLURTP  000145
                        TLXDIM  000146  TMO$DX  112310  TMO$LP  105152  TMO$MM
106552  TMO$NL  102772  TMO$PP  104000
                        TMO$PR  103354  TRM0SZ  000774  TRM1SZ  000614  TRM2SZ
000304  TRYEXT  064762  TRYMON  064706
                        TTDC11  000002  TTDE11  000006  TTDH11  000014  TTDJ11
000012  TTDL11  000004  TTDMBB  000000
                        TTDZ11  000016  TTFCNT  000063  TTINEC  000040  TTKL11
000000  TTMSCN  000064  TTPARM  000050
                        TTPK11  000010  TTRING  000054  TTYHCT  045246  UDMERR
000165  UMRCTL  030770  UMREND  056470
                        UMR$DX  112260  UMR$MM  107416  UNDFNI  000112  UNISCN
030316  UNLOCK  075426  UNLOC0  075422
                        UNPLNK  123646  UNQCHK  074322  UNTCLU  034370  UNTCNE
034320  UNTCNT  034250  UNTERR  034371
                        UNTLIB  034440  UNTOPT  034561  UNTOWN  034560  UNTSIZ
057072  UPDATE  116376  UPDCHK  101726
                        UPDLRG  116376  UPDUNL  102262  UPE     061774  UPECTL
030152  UPELGE  045424  UPELOG  045376
                        UPELSZ  045424  UPOKER  067040  UUO     140546  UUO0EN
141504  UUO0ST  140546  UUO0SZ  000736
                        UUO1EN  142204  UUO1ST  141504  UUO1SZ  000500  UUO2EN
143000  UUO2ST  142204  UUO2SZ  000574
                        VCAERR  000053  VCOERR  000055  VCSERR  000052  VOLSW1
056126  VOLSW2  056152  WAIT2T  045452
                        WINDOW  127632  WINERR  127702  WINSUB  031656  WOMSAT
125730  WRGPAK  000024  WRITE   125714
                        WRITEC  125720  XCDCOR  000176  XDE     126260  XDR
126010  XFL     126064  XFL3    126044
                        XOFFCH  061674  ZAPUNT  126750  ZDE     126442  ZDENXT
126440  ZERO    072160  ZER0SZ  000646
                        $ASNTB  057666  $BUFTB  060042  $CLSTB  057622  $DBDIN
060614  $DCDIN  000000  $DEATB  057710
                        $DFDIN  000000  $DKDIN  000000  $DLDIN  060554  $DMDIN
000000  $DPDIN  000000  $DRDIN  060574
                        $DSDIN  000000  $DSKDS  060474  $DTADS  060536  $EMTDS
060476  $EMTTB  057202  $ERRTB  057476
                        $FIPDS  060502  $FIPTB  060124  $FLGTB  057776  $KBDIN
061536  $L3QPA  057400  $L3QTB  057302
                        $MSKTB  060064  $MTADS  060526  $OPNTB  057600  $RSXDS
060510  $SERTB  057556  $SIZTB  060020
                        $SLPTB  057754  $SPCTB  057644  $TERDS  060460  $TMOTB
057732  $UUOSN  060360  $UUOTB  060200
                        $$BAEL  067310  $$BOOT  054566  $$BUFB  067342  $$BUFE
003000  $$BUFS  002400  $$CACH  046376
                        $$CCNT  066310  $$CCSR  066216  $$CCTL  045366  $$CHEN
046364  $$CHSZ  000014  $$CNOP  066620
                        $$CNVF  067324  $$CPRM  066220  $$CQNT  066274  $$CRSZ
060554  $$CSDB  056474  $$CSDL  056470
                        $$CSDR  056472  $$CSDX  056732  $$CSKB  056476  $$CSLP
056720  $$CSMM  056726  $$CSPP  056724
                        $$CSPR  056722  $$CSRT  066262  $$DATE  001000  $$DDCS
034320  $$DMID  057022  $$DREG  067300
                        $$DRTS  001100  $$DSIZ  057072  $$ECPU  071614  $$EMED
071620  $$EPMM  100430  $$ERRB  067336
                        $$ERSZ  046462  $$ESID  071612  $$EXTO  064020  $$EXTP
064012  $$FIS   062250  $$FPMP  127252
                        $$FPPE  031604  $$FPPS  031404  $$FR00  045462  $$FR20
064022  $$FR25  064024  $$GUMR  077024
                        $$HZDV  073672  $$JOBM  045242  $$LDAY  066420  $$LIBE
032166  $$LIBS  031604  $$LOWC  001426
                        $$LOWE  000060  $$LOWS  000040  $$LRGP  064006  $$MBFE
030116  $$MBFS  005000  $$MEDE  030152
                        $$MEDS  030116  $$MEML  001040  $$MEMT  001140  $$MOVB
075752  $$MOVW  076020  $$MTLB  067314
                        $$M22W  067304  $$NDAY  066426  $$NULW  001774  $$ODTB
062672  $$ODTE  062210  $$ODTP  061652
                        $$ODT6  062202  $$OVRB  067334  $$OVRC  046474  $$PCSR
030152  $$PMSK  030254  $$PNEW  045576
                        $$PRNG  030214  $$PSCN  065554  $$PTBL  065556  $$PWRP
065346  $$PZER  045430  $$RFPP  067274
                        $$RTSP  073046  $$RUMR  077026  $$SFPP  067272  $$SL
067276  $$SREG  067302  $$SROM  056030
                        $$STAK  001736  $$SWMP  046304  $$SWPB  046202  $$SWPM
067266  $$SYSP  056332  $$SYSU  067264
                        $$TICK  066364  $$TIME  001002  $$TMUN  000010  $$UMRE
031404  $$UMRP  031176  $$UMRS  030770
                        $$UMRT  031200  $$UPEE  030770  $$UPES  030152  $$VSWR
065374  $$0301  057142  $$0303  057152
                        $$0305  057162  $$0307  057172  $$2780  000000  ..BQNT
061054  ..BWCB  102350  ..CAGE  116002
                        ..DFAV  101540  ..DIAB  067312  ..DKNP  131172  ..DPRT
135041  ..FCNT  067270  ..FPHP  122252
                        ..FQNT  067372  ..LPSP  104244  ..LP66  104326  ..MMGP
110040  ..MTDP  067316  ..NFSP  132746
                        ..NFSW  133076  ..PCSS  103146  ..PPN.  067716  ..PWRF
065270  ..RNN1  143612  ..SYDF  100616
                        ..XACR  143772  ..XACT  135026  ..XGRP  135020  ..XGRR
143762
 MERGE   001000 000002   (RW,I,GBL,REL,OVR)
 MERGE0  001002 000006   (RW,I,GBL,REL,OVR)
 MSKTBL  001010 000040   (RW,I,GBL,REL,OVR)
 MERGE1  001050 000006   (RW,I,GBL,REL,OVR)
 FIPTBL  001056 000054   (RW,I,GBL,REL,OVR)
 MERGE2  001132 000006   (RW,I,GBL,REL,OVR)
 UUOTBL  001140 000160   (RW,I,GBL,REL,OVR)
 MERGE3  001320 000006   (RW,I,GBL,REL,OVR)
 UUOSNC  001326 000070   (RW,I,GBL,REL,OVR)
 MERGE4  001416 000006   (RW,I,GBL,REL,OVR)
 MTADSP  001424 000010   (RW,I,GBL,REL,OVR)
 MERGE5  001434 000006   (RW,I,GBL,REL,OVR)
 DTADSP  001442 000016   (RW,I,GBL,REL,OVR)
 MERGE9  001460 000320   (RW,I,GBL,REL,OVR)
 EXL0    002000 001000   (RW,I,GBL,REL,OVR)
 OPL0    003000 001000   (RW,I,GBL,REL,OVR)
 OPL1    004000 001000   (RW,I,GBL,REL,OVR)
 OPL2    005000 001000   (RW,I,GBL,REL,OVR)
 OPL3    006000 001000   (RW,I,GBL,REL,OVR)
 OPL4    007000 001000   (RW,I,GBL,REL,OVR)
 OPL5    010000 001000   (RW,I,GBL,REL,OVR)
 OPL6    011000 001000   (RW,I,GBL,REL,OVR)
 OPL7    012000 001000   (RW,I,GBL,REL,OVR)
 OPL8    013000 001000   (RW,I,GBL,REL,OVR)
 ASS0    014000 001000   (RW,I,GBL,REL,OVR)
                        ASS0EN  014570  ASS0ST  014000  ..ANPV  014114
 SND0    015000 001000   (RW,I,GBL,REL,OVR)
                        SND0EN  015656  SND0ST  015000  ..SLMT  015344
 SND1    016000 001000   (RW,I,GBL,REL,OVR)
                        SND1EN  016774  SND1ST  016000  ..RCVP  016066
 DIR0    017000 001000   (RW,I,GBL,REL,OVR)
                        DIR0EN  017756  DIR0ST  017000  ..DIRP  017620
 DIR1    020000 001000   (RW,I,GBL,REL,OVR)
                        DIR1EN  020776  DIR1ST  020000
 DIR2    021000 001000   (RW,I,GBL,REL,OVR)
                        DIR2EN  021316  DIR2ST  021000
 RAD0    022000 001000   (RW,I,GBL,REL,OVR)
                        RAD0EN  022670  RAD0ST  022000
 ZER0    023000 001000   (RW,I,GBL,REL,OVR)
                        ZER0EN  023646  ZER0ST  023000
 PAS0    024000 001000   (RW,I,GBL,REL,OVR)
                        PAS0EN  024762  PAS0ST  024000
 MNT0    025000 001000   (RW,I,GBL,REL,OVR)
                        MNT0EN  025750  MNT0ST  025000
 MNT1    026000 001000   (RW,I,GBL,REL,OVR)
                        MNT1EN  026612  MNT1ST  026000  ..SYSO  026266
 MNT2    027000 001000   (RW,I,GBL,REL,OVR)
                        MNT2EN  027554  MNT2ST  027000
 UUO0    030000 001000   (RW,I,GBL,REL,OVR)
 UUO1    031000 001000   (RW,I,GBL,REL,OVR)
 UUO2    032000 001000   (RW,I,GBL,REL,OVR)
 LIN0    033000 001000   (RW,I,GBL,REL,OVR)
                        LIN0EN  033720  LIN0ST  033000
 LIN1    034000 001000   (RW,I,GBL,REL,OVR)
                        LIN1EN  034474  LIN1ST  034000
 RTS0    035000 001000   (RW,I,GBL,REL,OVR)
                        RTS0EN  035750  RTS0ST  035000  
 RTS1    036000 001000   (RW,I,GBL,REL,OVR)
                        RTS1EN  036772  RTS1ST  036000
 RTS2    037000 001000   (RW,I,GBL,REL,OVR)
                        RTS2EN  037146  RTS2ST  037000
 RTS3    040000 001000   (RW,I,GBL,REL,OVR)
                        RTS3EN  040750  RTS3ST  040000
 TRM0    041000 001000   (RW,I,GBL,REL,OVR)
                        TRM0EN  041774  TRM0ST  041000
 TRM1    042000 001000   (RW,I,GBL,REL,OVR)
                        TRM1EN  042614  TRM1ST  042000
 TRM2    043000 001000   (RW,I,GBL,REL,OVR)
                        TRM2EN  043304  TRM2ST  043000
 DLN0    044000 001000   (RW,I,GBL,REL,OVR)
 DTU0    045000 001000   (RW,I,GBL,REL,OVR)
                        DTU0EN  045452  DTU0ST  045000
 DTU1    046000 001000   (RW,I,GBL,REL,OVR)
                        DTU1EN  046730  DTU1ST  046000
 DTU2    047000 001000   (RW,I,GBL,REL,OVR)
                        DTU2EN  047724  DTU2ST  047000
 DTU3    050000 001000   (RW,I,GBL,REL,OVR)
                        DTU3EN  050704  DTU3ST  050000
 DTU4    051000 001000   (RW,I,GBL,REL,OVR)
                        DTU4EN  051732  DTU4ST  051000
 DTU5    052000 001000   (RW,I,GBL,REL,OVR)
                        DTU5EN  052676  DTU5ST  052000
 MTU0    053000 001000   (RW,I,GBL,REL,OVR)
                        MTU0EN  053776  MTU0ST  053000
 MTU1    054000 001000   (RW,I,GBL,REL,OVR)
                        MTU1EN  055000  MTU1ST  054000
 MTU2    055000 001000   (RW,I,GBL,REL,OVR)
                        MTU2EN  055752  MTU2ST  055000
 MTU3    056000 001000   (RW,I,GBL,REL,OVR)
                        MTU3EN  056770  MTU3ST  056000
 MTU4    057000 001000   (RW,I,GBL,REL,OVR)
                        MTU4EN  057776  MTU4ST  057000
 MTU5    060000 001000   (RW,I,GBL,REL,OVR)
                        MTU5EN  060516  MTU5ST  060000
 MTU6    061000 001000   (RW,I,GBL,REL,OVR)
                        MTU6EN  061670  MTU6ST  061000
 SLN0    062000 001000   (RW,I,GBL,REL,OVR)
                        SLN0EN  062612  SLN0ST  062000
 FIL0    063000 001000   (RW,I,GBL,REL,OVR)
                        FIL0EN  063754  FIL0ST  063000
 FIL1    064000 001000   (RW,I,GBL,REL,OVR)
                        FIL1EN  064764  FIL1ST  064000
 CHE0    065000 001000   (RW,I,GBL,REL,OVR)
                        CHE0EN  065672  CHE0ST  065000
 KMC0    066000 001000   (RW,I,GBL,REL,OVR)
                        KMC0EN  066400  KMC0ST  066000
 KMC1    067000 001000   (RW,I,GBL,REL,OVR)
                        KMC1EN  067436  KMC1ST  067000
 KMC2    070000 001000   (RW,I,GBL,REL,OVR)
                        KMC2EN  070776  KMC2ST  070000
 SPL0    071000 001000   (RW,I,GBL,REL,OVR)
                        SPL0EN  071436  SPL0ST  071000  ..SPLD  071006  ..SPLN
071000
 ASS     072000 000000   (RW,I,GBL,REL,OVR)
                        ASS     072000
 SND     072000 000000   (RW,I,GBL,REL,OVR)
                        SND     072000
 DIR     072000 000000   (RW,I,GBL,REL,OVR)
                        DIR     072000
 RAD     072000 000000   (RW,I,GBL,REL,OVR)
                        RAD     072000
 ZER     072000 000000   (RW,I,GBL,REL,OVR)
                        ZER     072000
 PAS     072000 000000   (RW,I,GBL,REL,OVR)
                        PAS     072000
 MNT     072000 000000   (RW,I,GBL,REL,OVR)
                        MNT     072000
 LIN     072000 000000   (RW,I,GBL,REL,OVR)
                        LIN     072000
 RTS     072000 000000   (RW,I,GBL,REL,OVR)
                        RTS     072000
 TRM     072000 000000   (RW,I,GBL,REL,OVR)
                        TRM     072000
 DTU     072000 000000   (RW,I,GBL,REL,OVR)
                        DTU     072000
 MTU     072000 000000   (RW,I,GBL,REL,OVR)
                        MTU     072000
 SLN     072000 000000   (RW,I,GBL,REL,OVR)
                        SLN     072000
 FIL     072000 000000   (RW,I,GBL,REL,OVR)
                        FIL     072000
 CHE     072000 000000   (RW,I,GBL,REL,OVR)
                        CHE     072000
 KMC     072000 000000   (RW,I,GBL,REL,OVR)
                        KMC     072000
 SPL     072000 000000   (RW,I,GBL,REL,OVR)
                        SPL     072000

TRANSFER ADDRESS = 000001, HIGH LIMIT = 072000 = 14848. WORDS
  RT-11 LINK  V06.00      LOAD MAP        SAT 18-OCT-86 01:52:49
BASIC .SAV      TITLE:  BASIC   IDENT:  07.007  /H:177776

SECTION  ADDR   SIZE    GLOBAL  VALUE   GLOBAL  VALUE   GLOBAL  VALUE   GLOBAL
VALUE   GLOBAL  VALUE   GLOBAL  VALUE

 . ABS.  000000 100000   (RW,I,GBL,ABS,OVR)
                        ABORT   000014  BADCLU  000027  BADCNT  000037  BADDIR
000001  BADERR  000171  BADFUO  000022
                        BADNAM  000002  BADPAK  000032  BADSWT  000103  BASVEN
000004  BDNERR  000064  BSERR   000056
                        B.PRTY  000046  B.STAK  000044  B.SWAP  000045  B.10
000042  B.250   000043  B.4     000041
                        COSERR  000113  CPNSDF  000133  CPUFNX  000135  CPUPDF
000136  CPUPED  000137  CPUPFR  000134
                        CTRLCE  000034  DATERR  000015  DETKEY  000033  DEVNFS
000036  DIMED2  000151  DIMERR  000174
                        DISERR  000172  DIVBY0  000075  DTOOOF  000021  EDARSV
000163  EDBMCE  000157  EDCONE  000162
                        EDEXON  000160  EOF     000013  EOSERR  000154  ERRERR
000102  EXITNR  000111  EXITTM  000110
                        EXPDIF  011000  EXPERR  000061  FIELDE  000077  FIEXST
000020  FIXERR  000063  FLTERR  000060
                        FLTLEN  000002  FLTLE2  000004  FLTLE3  000006  FLTLE4
000010  FLTLE5  000012  FMTERR  000062
                        FUCORE  000147  FUNERR  000130  HNGDEV  000016  HNGTTY
000017  INTLCK  000023  INTPAK  000031
                        INUSE   000003  IOLERR  000074  LINERR  000057  LOGERR
000065  MAGRLE  000050  MAGSEL  000047
                        MAXSIG  000007  MFLTL2  177774  MINVER  000070  MODERR
000125  NEDERR  000073  NOBUFS  000040
                        NODEVC  000006  NOGOTO  000153  NOMATH  000175  NONOIM
000167  NORACS  000100  NOROOM  000004
                        NORTS   000076  NOSUCH  000005  NOTAVL  000010  NOTCLS
000007  NOTMNT  000025  NOTMTA  000101
                        NOTOPN  000011  NRNERR  000161  NRRTS   000051  ODD
000071  ONBAD   000072  OUTOAS  000127
                        O.DEXT  006253  O.FLAG  020400  O.MSIZ  000002  O.SIZE
000020  PAKLCK  000026  PNTUXP  000136
                        PRERRS  000164  PRIVAT  000030  PRNBUC  000050  PRNBUF
000064  PRNER1  000166  PRNER2  000170
                        PRVIOL  000012  RESERR  000150  SAFNOS  000143  SASNOI
000144  SASYNE  000142  SATTBD  000035
                        SCAERR  000177  SCAMAX  000000  SIZERR  000054  SQRERR
000066  STMERR  000107  STPERR  000173
                        SUBERR  000067  TKBREK  000016  TKCCON  000002  TKDUMP
000022  TKEXIT  000010  TKMOUN  000006
                        TKREAS  000000  TKSCAL  000004  TKTRAC  000012  TKUNBR
000020  TKUNTR  000014  TLCNTD  000155
                        TLCONI  000120  TLIDIM  000152  TLIFFE  000117  TLINCD
000132  TLJNKY  000140  TLMFND  000123
                        TLNOFN  000141  TLNOIT  000116  TLNOTF  000121  TLNZSP
000115  TLOPNV  000114  TLPRNM  000156
                        TLQDUM  000122  TLRNNM  000124  TLTMAF  000131  TLURTP
000145  TLXDIM  000146  UDMERR  000165
                        UNDFNI  000112  VCAERR  000053  VCOERR  000055  VCSERR
000052  WRGPAK  000024  XCDCOR  000176
                        Z00000  177776  $ARYS   000376  $B      000070  $BFC
000352  $BFS    000340  $CA     000374
                        $CALLS  000056  $CB     000030  $CBS    000034  $CCB
000274  $CF     000276  $CFA    000302
                        $CI     000152  $CL     000304  $CN     000020  $COPR
000204  $COPT   000322  $CS     000010
                        $CT     000324  $CW     000330  $C2OF1  000266  $GLNS
000260  $ICF    000314  $MATCH  000212
                        $PBS    000076  $PLSIG  003064  $PT     000040  $PTYPE
000114  $P0     000110  $QUIT   000140
                        $QUITD  000130  $QUITN  000224  $QUITS  000254  $RCI
000146  $RCS    000004  $RINTS  000264
                        $SARF   000046  $SEXIT  000362  $SF     000306  $SHARF
000244  $TC     000300  $TST1A  000104
                        .MATH.  000000
 PT      100000 001000   (RW,I,GBL,REL,OVR)
                        PT      100000
 RC      101000 013402   (RW,I,GBL,REL,OVR)
                        ATOI    111516  BRKENT  101706  BUILDS  114170  CLOSER
105544  CLSR09  105570  CVS3    113636
                        DATE07  114052  DUPLS   103514  EDREST  101036  EDSAVE
101506  GETBUF  106622  IFPOS0  105360
                        INPUTF  105006  INPUTS  104342  INTERB  101532  INTERP
101556  IODIE   110144  LENP3   111454
                        MID10   113274  MID6    113302  MID9    113300  NUM$XX
105302  NUM$00  105236  OPNI11  107700
                        OPNI20  107706  POS000  113500  PUSHI1  114374  PUSHS
103562  PUSHS1  103576  PUSHS2  103612
                        PUSHS3  103574  RC      101000  READF   104124  READS
104132  READ.   107030  REA.D   106650
                        REPLS1  103536  RESREG  101020  RESTOR  104076  RTSENT
103160  R50A01  111336  SAVEFQ  110244
                        SAVEM   105350  SAVREG  101000  SHUT04  101710  SSIDN
106416  SSIX1   106000  SSOCH0  105464
                        SSONRC  105402  SSO01   105466  THENT   107066  TIME07
114162  TRPINT  102020  UUOBAD  110432
                        UUOCSI  111032  UUORET  111072  UUOSPC  110522  WRITE.
106706  WRIT.E  107056  .EQ.S   104032
                        ..CCL.  110550
 UI      114402 000002   (RW,I,GBL,REL,OVR)
                        UI      114402
 DEBUG   114404 000002   (RW,I,GBL,REL,OVR)
 SN      114406 000742   (RW,I,GBL,REL,OVR)
                        SN      114406
 UI2     115350 000002   (RW,I,GBL,REL,OVR)
 EC      115352 002036   (RW,I,GBL,REL,OVR)
                        EC      115352  ECONOM  115352
 SC      117410 000342   (RW,I,GBL,REL,OVR)
                        CSI     117432  OPNRR1  117410  OPNR20  117422  SC
117410  SCAN    117426
 SU      117752 000606   (RW,I,GBL,REL,OVR)
                        CATSUC  117752  CATSUP  120034  CATSUR  117772  SU
117752  TLPTIN  120360  ..SCA.  120004
                        ..SIG.  120142  ..XTN.  117776
 LA      120560 006540   (RW,I,GBL,REL,OVR)
                        FLOTIM  124352  FRESPC  125732  LA      120560  LEXAN
123644  MAPTOK  127060  PRESET  127124
                        TOKDEC  127044  ..BEA.  121077  ..DMP.  121501  ..TAC.
123253  ..UBR.  123301  ..UTR.  123361
 XT      127320 000204   (RW,I,GBL,REL,OVR)
                        XT      127320
 PU      127524 002714   (RW,I,GBL,REL,OVR)
                        PU      127524
 TR      132440 013254   (RW,I,GBL,REL,OVR)
                        GUSINT  144444  NEWOLD  142052  RCICOM  145377  SAINT
143546  SELECT  145001  SKPCOM  145400
                        TL      132722  TLBEGH  133446  TLCMWD  141316  TLENDP
136700  TLENER  133526  TLER18  137444
                        TLGDFN  142130  TLGENP  136674  TLGFNA  142102  TLGLN1
142144  TLGNEP  136732  TLGPDS  136742
                        TLGTOK  137212  TLIDXH  133430  TLPAIR  141674  TLPDST
136746  TR      132440  TYTB    136570
                        ..IBAS  133206
 ED      145714 007210   (RW,I,GBL,REL,OVR)
                        BAD.XX  145772  BAD.10  146022  BASFRC  152564  CCINT
145762  CC2INT  145754  CHKASD  154774
                        DLTONN  154122  DLTONR  154204  DOCONT  147724  DORTI
145770  ED      145714  EDCLR   151446
                        EDCRAS  146204  EDCTLH  150262  EDENDC  147426  EDERR
150076  EDERRN  150040  EDFIPK  152250
                        EDFTCH  152674  EDINIT  146200  EDKEEP  147020  EDRSR1
150470  EDRSTH  150510  EDRUN   146762
                        EDSCAN  151514  EDSTOR  152334  EDTYPE  154060  FUCERR
147264  GETAG   154332  GETAGD  154312
                        GETAGN  154322  GETBYT  152734  LENNUM  151126  LSTOP1
153562  NEWJOB  146066  RTSRER  150306
                        RTSRET  150262  RUNIM   147626  R1SCHK  154530  R1SOUT
154536  ZOTALL  147602  ..CAT.  150654
                        ..NPD.  150210  ..PMD.  150206  ..SCE.  147146
 ZT      155124 000024   (RW,I,GBL,REL,OVR)
                        ZT      155124
 EDEB    155150 000010   (RW,I,GBL,REL,OVR)
 RX      155160 000204   (RW,I,GBL,REL,OVR)
                        ASKNAM  155253  ASKNEW  155243  ASKOLD  155247  ATLINE
155306  BYEM    155317  CRLF0   155240
                        FTLERM  155330  KSIZEM  155220  PROMPT  155303  READYM
155270  RX      155160  STR$IN  155164
                        STR$LI  155176  STR$LO  155212  ..RDY.  155270
 PO      155364 000004   (RW,I,GBL,REL,OVR)
                        PO      155364
 MA      155370 006300   (RW,I,GBL,REL,OVR)
                        ADDF    163506  ATOF    161562  BNT4    155410  CMPF
163652  CNVFDI  160374  CNV2IF  163206
                        CRLF    161242  DEFFUN  157436  DIVF    163602  DUPLF
155706  FIS.IN  163302  FIX     163622
                        FLT     163450  FPP.IN  163322  INCTAB  155666  INDARY
157236  INDEGH  156516  INDO1   156156
                        INDO2   156160  INDO3   156164  INDR3   156326  INDX90
156510  INTFAF  157426  INTFAI  157412
                        INTFAS  157420  INTFUN  157434  MA      155370  MULF
163564  MULI    157724  NXTZON  161154
                        POPF1   156024  POPS1   155766  PRINTA  160464  PRINTC
161544  PRINTF  161146  PRINTI  161142
                        PRINTL  161246  PRINTS  161214  PRINTX  161542  PRINU2
155706  PRINU3  160462  PRL14   161512
                        PRNFL1  160470  PRNFL2  160776  PRNFL3  160630  PRNF05
160712  PRNF15  161110  PSTJS   161122
                        PUSHF   155720  PUSHF0  160012  PUSHF1  160020  PUSHF2
155732  PUSHF3  155726  SCATAB  155370
                        SINF1   160010  SPDAR0  155660  SUBF    163502  TOKZIP
155452  ZARRY4  155552  $POLSH  155676
 MI      163670 000020   (RW,I,GBL,REL,OVR)
                        MI      163670  MI.BAD  163706
 XF      163710 000020   (RW,I,GBL,REL,OVR)
                        XF      163710
 DM      163730 000126   (RW,I,GBL,REL,OVR)
                        DM      163730  DOSCAL  163730  SCAINI  164024  SCASUP
164046
 MAXL    164056 000520   (RW,I,GBL,REL,OVR)
                        MAXL    164056
 MAXT    164576 000526   (RW,I,GBL,REL,OVR)
                        MAXT    164576
 SF      165324 003324   (RW,I,GBL,REL,OVR)
                        SF      165324
 MF      170650 000130   (RW,I,GBL,REL,OVR)
                        MF      170650
 UP      171000 000032   (RW,I,GBL,REL,OVR)
                        UP      171000
 IO      171032 001166   (RW,I,GBL,REL,OVR)
                        IO      171032
 PX      172220 000006   (RW,I,GBL,REL,OVR)
                        PX      172220  ..PUCH  172220
 MX      172226 002736   (RW,I,GBL,REL,OVR)
                        MX      172226
 PATCHS  175164 000010   (RW,I,GBL,REL,OVR)
                        PATCHS  175164  $$0401  175164
 PA      175174 002536   (RW,I,GBL,REL,OVR)
                        PA      175174
 VE      177732 000044   (RW,I,GBL,REL,OVR)
                        VE      177732

TRANSFER ADDRESS = 000001, HIGH LIMIT = 177776 = 32767. WORDS
  