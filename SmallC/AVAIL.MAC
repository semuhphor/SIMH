 INCLUDE PROLOG.H
 EXTRN _Umemptr:WORD
_CC1:
 PUBLIC _avail
_avail:
 SUB SP,1
 MOV BX,0
 ADD BX,SP
 XCHG DX,BX
 MOV BX,_Umemptr
 CMP DX,BX
 MOV BX,CX
 JAE $+3
 INC BX
 OR BX,BX
 JNZ $+5
 JMP _CC3
 MOV BX,3
 ADD BX,SP
 MOV BX,[BX]
 OR BX,BX
 JNZ $+5
 JMP _CC4
 MOV BX,77
 PUSH BX  ;
 CALL _exit
 ADD SP,2
_CC4:
 MOV BX,0
 ADD SP,1
 RET
_CC3:
 MOV BX,0
 ADD BX,SP
 XCHG DX,BX
 MOV BX,_Umemptr
 SUB DX,BX
 MOV BX,DX
 ADD SP,1
 RET
 EXTRN _exit:NEAR
 INCLUDE EPILOG.H
 END
